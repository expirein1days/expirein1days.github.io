{"version":3,"sources":["routes/home/MockImagePicker.js","utils/fixRotationOfFile.js","utils/blobToBase64.js","assets/make_text sync /^/.//.*/.svg$","routes/home/CardDisableMask.js","routes/home/CardFooter.js","routes/home/Card.js","routes/home/index.js","assets/make_text/paint_text_normal_en_android.svg","assets/make_text/paint_text_normal_en_ios.svg","assets/make_text/paint_text_normal_ja_android.svg","assets/make_text/paint_text_normal_ja_ios.svg","assets/make_text/paint_text_pressed_en_android.svg","assets/make_text/paint_text_pressed_en_ios.svg","assets/make_text/paint_text_pressed_ja_android.svg","assets/make_text/paint_text_pressed_ja_ios.svg","assets/make_text/photo_text_normal_en_android.svg","assets/make_text/photo_text_normal_en_ios.svg","assets/make_text/photo_text_normal_ja_android.svg","assets/make_text/photo_text_normal_ja_ios.svg","assets/make_text/photo_text_pressed_en_android.svg","assets/make_text/photo_text_pressed_en_ios.svg","assets/make_text/photo_text_pressed_ja_android.svg","assets/make_text/photo_text_pressed_ja_ios.svg","assets/make_text/stamp_text_normal_en_android.svg","assets/make_text/stamp_text_normal_en_ios.svg","assets/make_text/stamp_text_normal_ja_android.svg","assets/make_text/stamp_text_normal_ja_ios.svg","assets/make_text/stamp_text_pressed_en_android.svg","assets/make_text/stamp_text_pressed_en_ios.svg","assets/make_text/stamp_text_pressed_ja_android.svg","assets/make_text/stamp_text_pressed_ja_ios.svg","assets/make_text/text_text_normal_en_android.svg","assets/make_text/text_text_normal_en_ios.svg","assets/make_text/text_text_normal_ja_android.svg","assets/make_text/text_text_normal_ja_ios.svg","assets/make_text/text_text_pressed_en_android.svg","assets/make_text/text_text_pressed_en_ios.svg","assets/make_text/text_text_pressed_ja_android.svg","assets/make_text/text_text_pressed_ja_ios.svg","assets/home/Picture_image@2x.170x204.png","assets/home/Picture_image@2x.png","assets/home/Text_image@2x.170x204.png","assets/home/Text_image@2x.png","assets/home/Paint_image@2x.170x204.png","assets/home/Paint_image@2x.png","assets/home/Stamp_image@2x.170x204.png","assets/home/Stamp_image@2x.png"],"names":["MockImagePicker","props","children","setPictureData","useContext","MakeContext","_handleFileChange","Object","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","e","file","base64url","data","wrap","_context","prev","next","target","files","t0","concat","type","blobToBase64","t1","sent","fixRotationOfFile","uri","URL","createObjectURL","invoke","to","t2","stop","this","apply","arguments","react__WEBPACK_IMPORTED_MODULE_2___default","createElement","Fragment","global","ReactNativeWebView","onChange","_x","alt","style","position","top","__webpack_require__","d","__webpack_exports__","blueimp_load_image__WEBPACK_IMPORTED_MODULE_0__","blueimp_load_image__WEBPACK_IMPORTED_MODULE_0___default","n","length","undefined","Promise","resolve","loadImage","img","toBlob","blob","orientation","reject","reader","FileReader","onload","base64","result","split","readAsDataURL","map","./paint_text_normal_en_android.svg","./paint_text_normal_en_ios.svg","./paint_text_normal_ja_android.svg","./paint_text_normal_ja_ios.svg","./paint_text_pressed_en_android.svg","./paint_text_pressed_en_ios.svg","./paint_text_pressed_ja_android.svg","./paint_text_pressed_ja_ios.svg","./photo_text_normal_en_android.svg","./photo_text_normal_en_ios.svg","./photo_text_normal_ja_android.svg","./photo_text_normal_ja_ios.svg","./photo_text_pressed_en_android.svg","./photo_text_pressed_en_ios.svg","./photo_text_pressed_ja_android.svg","./photo_text_pressed_ja_ios.svg","./stamp_text_normal_en_android.svg","./stamp_text_normal_en_ios.svg","./stamp_text_normal_ja_android.svg","./stamp_text_normal_ja_ios.svg","./stamp_text_pressed_en_android.svg","./stamp_text_pressed_en_ios.svg","./stamp_text_pressed_ja_android.svg","./stamp_text_pressed_ja_ios.svg","./text_text_normal_en_android.svg","./text_text_normal_en_ios.svg","./text_text_normal_ja_android.svg","./text_text_normal_ja_ios.svg","./text_text_pressed_en_android.svg","./text_text_pressed_en_ios.svg","./text_text_pressed_ja_android.svg","./text_text_pressed_ja_ios.svg","webpackContext","req","id","webpackContextResolve","Error","code","keys","module","exports","DisableMask","cardStyle","fontFamily","LocaleContext","current","react_default","left","width","cardWidth","height","cardCoverHeight","zIndex","display","alignItems","justifyContent","background","boxSizing","Locale","is","padding","lineHeight","textAlign","overhidden","fontSize","color","CardFooter","name","active","locale","textImageHeight","backgroundColor","paddingTop","overflow","src","os","UAParser","getOS","require","getImageSource","debounce","f","t","lastCall","lastCallTimer","_len","args","Array","_key","previousCall","Date","now","clearTimeout","setTimeout","Card","make","setLayers","newLayer","previousPage","layers","_useState","useState","_useState2","slicedToArray","setActive","ng","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","layer","value","stampRule","stampFlag","err","return","handleClick","goPage","routeName","params","useEffect","InitializationThrottle","child","cardHeight","cover","designType","cardFooterHeight","onTouchStart","onTouchEnd","marginRight","includes","marginBottom","onClick","throttle","wrapper","React","WEB_NAVBAR_HEIGHT","Home","_useViewport","useViewport","_useViewport2","deviceWidth","deviceHeight","isAgainEdit","setIsAgainEdit","isNavbarVisible","visibleDeviceHeight","screenRatio","calculateCardStyle","_handlePhotoPress","asyncToGenerator","regenerator_default","cancel","navbar","isBorder","currentPage","revoke","flexWrap","paddingLeft","paddingRight","components_isAgainEdit","status","isAgainFu","p"],"mappings":"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hI,EAAAC,QAAiBhE,EAAA+L,EAAuB,0ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,8ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,0ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,+ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,2ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,+ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,2ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,8ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,0ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,8ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,0ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,+ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,2ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,+ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,2ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,8ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,0ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,8ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,0ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,+ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,2ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,+ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,2ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,6ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,yECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,6ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,yECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,8ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,0ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,8ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,0ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,0ECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,kECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,uECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,+DCAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,wECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,gECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB,wECAxChI,EAAAC,QAAiBhE,EAAA+L,EAAuB","file":"static/js/11.f617de3b.chunk.js","sourcesContent":["import React, { useContext } from 'react'\nimport { MakeContext } from '../MakeContext'\nimport fixRotationOfFile from '../../utils/fixRotationOfFile'\nimport blobToBase64 from '../../utils/blobToBase64'\nimport invoke from '../../utils/invoke'\n\n/**\n * mock pick image process on web, without native shell\n */\nexport default function MockImagePicker (props) {\n  const { children } = props\n  const { setPictureData } = useContext(MakeContext)\n\n  async function handleFileChange (e) {\n    let file = e.target.files[0]\n    if (file) {\n      let base64url = `data:${file.type};base64,` + await blobToBase64(file)\n      try {\n        const data = await fixRotationOfFile(base64url, file.type)\n        setPictureData({\n          uri: URL.createObjectURL(data)\n        })\n        invoke('navigateTo', {\n          to: '/make/picture'\n        })\n      } catch (e) {\n\n      }\n    }\n  }\n\n  return (\n    <>\n      {children}\n      {!global.ReactNativeWebView && (\n        <input\n          type='file'\n          onChange={handleFileChange}\n          alt='pick image'\n          style={{ position: 'absolute', top: 0 }}\n        />\n      )}\n    </>\n  )\n}\n","import loadImage from 'blueimp-load-image'\n\nexport default function fixRotationOfFile (file, type = 'image/jpeg') {\n  return new Promise((resolve) => {\n    loadImage(file, (img) => {\n      img.toBlob(\n        (blob) => {\n          resolve(blob)\n        },\n        type\n      )\n    }, { orientation: true }\n    )\n  })\n}\n","/* global FileReader */\n\nexport default function blobToBase64 (blob) {\n  return new Promise((resolve, reject) => {\n    var reader = new FileReader()\n    reader.onload = function () {\n      var dataUrl = reader.result\n      var base64 = dataUrl.split(',')[1]\n      resolve(base64)\n    }\n    reader.readAsDataURL(blob)\n  })\n}\n","var map = {\n\t\"./paint_text_normal_en_android.svg\": 478,\n\t\"./paint_text_normal_en_ios.svg\": 479,\n\t\"./paint_text_normal_ja_android.svg\": 480,\n\t\"./paint_text_normal_ja_ios.svg\": 481,\n\t\"./paint_text_pressed_en_android.svg\": 482,\n\t\"./paint_text_pressed_en_ios.svg\": 483,\n\t\"./paint_text_pressed_ja_android.svg\": 484,\n\t\"./paint_text_pressed_ja_ios.svg\": 485,\n\t\"./photo_text_normal_en_android.svg\": 486,\n\t\"./photo_text_normal_en_ios.svg\": 487,\n\t\"./photo_text_normal_ja_android.svg\": 488,\n\t\"./photo_text_normal_ja_ios.svg\": 489,\n\t\"./photo_text_pressed_en_android.svg\": 490,\n\t\"./photo_text_pressed_en_ios.svg\": 491,\n\t\"./photo_text_pressed_ja_android.svg\": 492,\n\t\"./photo_text_pressed_ja_ios.svg\": 493,\n\t\"./stamp_text_normal_en_android.svg\": 494,\n\t\"./stamp_text_normal_en_ios.svg\": 495,\n\t\"./stamp_text_normal_ja_android.svg\": 496,\n\t\"./stamp_text_normal_ja_ios.svg\": 497,\n\t\"./stamp_text_pressed_en_android.svg\": 498,\n\t\"./stamp_text_pressed_en_ios.svg\": 499,\n\t\"./stamp_text_pressed_ja_android.svg\": 500,\n\t\"./stamp_text_pressed_ja_ios.svg\": 501,\n\t\"./text_text_normal_en_android.svg\": 502,\n\t\"./text_text_normal_en_ios.svg\": 503,\n\t\"./text_text_normal_ja_android.svg\": 504,\n\t\"./text_text_normal_ja_ios.svg\": 505,\n\t\"./text_text_pressed_en_android.svg\": 506,\n\t\"./text_text_pressed_en_ios.svg\": 507,\n\t\"./text_text_pressed_ja_android.svg\": 508,\n\t\"./text_text_pressed_ja_ios.svg\": 509\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1216;","import React, { useContext } from 'react'\nimport Locale from '../../components/Locale'\nimport { LocaleContext } from '../../contexts/LocaleContext'\n\nexport default function DisableMask (props) {\n  const {\n    cardStyle,\n    type\n  } = props\n  const locale = useContext(LocaleContext)\n\n  const fontFamily = locale.current === 'ja' ? 'NotoSansCJKjp-Bold' : undefined\n\n  return (\n    <div style={{\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: cardStyle.cardWidth,\n      height: cardStyle.cardCoverHeight,\n      zIndex: 10,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      background: 'rgba(255,255,255,0.8)',\n      boxSizing: 'border-box'\n    }}>\n      <div\n        style={{\n\n        }}\n      >\n        <Locale\n          is='div'\n          style={{\n            padding: 5,\n            height: 32,\n            lineHeight: '16px',\n            textAlign: 'center',\n            // fontWeight: 'bold',\n            fontFamily,\n            overhidden: 'visible',\n            fontSize: 11,\n            color: '#1b1b1b'\n          }}\n          code={`make.home.mask.${type}.title`}\n        />\n      </div>\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\nimport UAParser from 'ua-parser-js'\nimport { LocaleContext } from '../../contexts/LocaleContext'\n\nexport default function CardFooter (props) {\n  const {\n    name,\n    width,\n    height,\n    active\n  } = props\n\n  const locale = useContext(LocaleContext)\n\n  // const fontFamily = locale.current === 'ja' ? 'NotoSansCJKjp-Regular' : undefined\n\n  function getImageSource () {\n    const parser = new UAParser()\n    const UAOS = parser.getOS()\n    let os = UAOS.name === 'iOS' ? 'ios' : 'android'\n    return require(\n      `../../assets/make_text/${name}_text_${active ? 'pressed' : 'normal'}_${locale.current}_${os}.svg`\n    )\n  }\n\n  let textImageHeight = width / 170 * 55\n\n  return (\n    <div\n      style={{\n        backgroundColor: active ? 'rgb(245,245,245)' : '#fff',\n        boxSizing: 'border-box',\n        paddingTop: (height - textImageHeight) / 2,\n        width,\n        height\n      }}\n    >\n      <div style={{\n        width,\n        /**\n         * svg也有高为58px的，统一使用55为了上对齐。\n         */\n        height: textImageHeight,\n        overflow: 'visible'\n      }}>\n\n        <img\n          src={getImageSource()}\n          style={{ width: width }}\n          alt={`${name} footer`}\n        />\n      </div>\n\n    </div>\n  )\n}\n","import React, { useContext, useState, useEffect } from 'react'\nimport { MakeContext } from '../MakeContext'\nimport { throttle, InitializationThrottle } from '../../utils/throttle'\nimport invoke from '../../utils/invoke'\nimport CardDisableMask from './CardDisableMask'\nimport CardFooter from './CardFooter'\n\nfunction debounce (f, t) {\n  let lastCall = null\n  let lastCallTimer = null\n  return function (...args) {\n    let previousCall = lastCall\n    lastCall = Date.now()\n    if (previousCall && ((lastCall - previousCall) <= t)) {\n      clearTimeout(lastCallTimer)\n    }\n    lastCallTimer = setTimeout(() => f(...args), t)\n  }\n}\n\nexport default function Card (props) {\n  const make = useContext(MakeContext)\n  const { setLayers, newLayer, previousPage } = make\n  const layers = newLayer ? [{}] : make.layers\n  const [active, setActive] = useState(false)\n\n  const {\n    cardStyle,\n    type\n  } = props\n\n  let ng = false\n  for (let layer of layers) {\n    if (layer.stampRule) {\n      if (layer.stampRule.stampFlag[`flag_layer_${type}`] === 'NG') {\n        ng = true\n      }\n    }\n  }\n  // const cardLayers=[\n  //   {photo:false},\n  //   {text:false},\n  //   {paint:false},\n  //   {stamp:false}\n  // ]\n  let isCalled = false; let timer\n\n  /**\n * @param functionTobeCalled 被包装的方法\n */\n  useEffect(() => {\n    InitializationThrottle()\n  }, [])\n  // const throttle = (functionTobeCalled, interval = 5000) => {\n  //   if (!isCalled) {\n  //     isCalled = true\n  //     clearTimeout(timer)\n  //     timer = setTimeout(() => {\n  //       isCalled = false\n  //     }, interval)\n  //     return functionTobeCalled()\n  //   }\n  // }\n  function handleClick () {\n    if (ng) return\n    layers[layers.length - 1].type = type\n    setLayers(layers)\n    if (props.goPage) {\n      return props.goPage()\n    }\n    invoke('navigateTo', {\n      routeName: !newLayer ? undefined : 'MakePage',\n      to: `/make/${type}`,\n      params: {\n        previousPage\n      }\n    })\n  }\n\n  const child = (\n    <div style={{\n      width: cardStyle.cardWidth,\n      height: cardStyle.cardHeight,\n      overflow: 'hidden'\n    }}>\n      <div\n        style={{\n          width: cardStyle.cardWidth,\n          height: cardStyle.cardCoverHeight,\n          overflow: 'hidden'\n        }}\n      >\n        <img\n          src={props.cover}\n          alt={`${type} cover not loaded`}\n          style={{\n            display: 'block',\n            height: cardStyle.cardCoverHeight,\n            width: cardStyle.cardWidth\n          }}\n        />\n      </div>\n      <CardFooter\n        name={type}\n        type={cardStyle.designType === 'B' ? 'large' : 'normal'}\n        width={cardStyle.cardWidth}\n        height={cardStyle.cardFooterHeight}\n        active={active}\n      />\n    </div>\n  )\n\n  return (\n    <div\n      onTouchStart={() => setActive(true)}\n      onTouchEnd={debounce(() => setActive(false), type === 'photo' ? 100 : 300)}\n      style={{\n        position: 'relative',\n        width: cardStyle.cardWidth,\n        height: cardStyle.cardHeight,\n        marginRight: ['photo', 'paint'].includes(type) ? 11 : 0,\n        marginBottom: ['photo', 'text'].includes(type) ? 12 : 0\n      }}\n      /**\n       * 2s会不会太长了？\n       */\n      onClick={() => throttle(handleClick)}\n    >\n      {props.wrapper ? React.createElement(props.wrapper, null, child) : child}\n      {ng &&\n        <CardDisableMask\n          cardStyle={cardStyle}\n          layers={layers}\n          type={type}\n        />\n      }\n    </div>\n  )\n}\n","import React, { useContext, useState } from 'react'\nimport { MakeContext } from '../MakeContext'\nimport invoke from '../../utils/invoke'\nimport useViewport from '../../hooks/useViewport'\nimport IsAgainEdit from '../../components/isAgainEdit'\nimport Navbar from '../navbar'\nimport MockImagePicker from './MockImagePicker'\nimport Card from './Card'\n\nconst WEB_NAVBAR_HEIGHT = 44\n\nexport default function Home (props) {\n  const make = useContext(MakeContext)\n  const [deviceWidth, deviceHeight] = useViewport()\n  const [isAgainEdit, setIsAgainEdit] = useState(false)\n\n  const layers = make.newLayer ? [{}] : make.layers\n  const isNavbarVisible = layers.length > 1\n  const cardStyle = calculateCardStyle()\n  function calculateCardStyle () {\n    /**\n     * 此处的ratio和下面的*ratio都是宽高比（width/height）,不是纵横比\n     */\n    const visibleDeviceHeight = deviceHeight - (isNavbarVisible ? WEB_NAVBAR_HEIGHT : 0)\n    const screenRatio = deviceWidth / visibleDeviceHeight\n    const designType = screenRatio > 0.59 ? 'A' : 'B'\n\n    /**\n     * 屏幕左右空12像素\n     * 屏幕上下空0像素\n     * 卡片左右间距11像素，上下间距12像素\n     */\n    const cardWidth = (deviceWidth - (12 * 2 + 11)) / 2\n    const cardHeight = (visibleDeviceHeight - 12) / 2\n    const cardCoverRatio = designType === 'A' ? 1 : (170 / 204)\n\n    const cardCoverHeight = cardWidth / cardCoverRatio\n    const cardFooterHeight = cardHeight - cardCoverHeight\n\n    return {\n      screenRatio,\n      designType,\n      cardWidth,\n      cardHeight,\n      cardCoverHeight,\n      cardFooterHeight\n    }\n  }\n\n  function change () {\n    setIsAgainEdit(true)\n  }\n\n  function isAgainFu (e) {\n    setIsAgainEdit(false)\n  }\n\n  async function handlePhotoPress () {\n    try {\n      const result = await invoke('pickImage')\n      if (!result.cancel) {\n        await invoke('navigateTo', {\n          routeName: make.newLayer ? 'MakePage' : undefined,\n          to: '/make/picture',\n          params: {\n            previousPage: make.previousPage\n          }\n        })\n      }\n    } catch (e) {\n    }\n  }\n\n  return (\n    <>\n      {isNavbarVisible && <Navbar isBorder={isNavbarVisible} currentPage='home' revoke={change} />}\n      <div\n        style={{\n          backgroundColor: 'rgb(244,244,244)',\n          display: 'flex',\n          flexWrap: 'wrap',\n          paddingLeft: 12,\n          paddingRight: 12\n        }}>\n        <Card\n          cardStyle={cardStyle}\n          goPage={handlePhotoPress}\n          wrapper={MockImagePicker}\n          cover={require(cardStyle.designType === 'B' ? '../../assets/home/Picture_image@2x.170x204.png' : '../../assets/home/Picture_image@2x.png')}\n          type='photo'\n        />\n        <Card\n          cardStyle={cardStyle}\n          cover={require(cardStyle.designType === 'B' ? '../../assets/home/Text_image@2x.170x204.png' : '../../assets/home/Text_image@2x.png')}\n          type='text'\n        />\n        <Card\n          cardStyle={cardStyle}\n          cover={require(cardStyle.designType === 'B' ? '../../assets/home/Paint_image@2x.170x204.png' : '../../assets/home/Paint_image@2x.png')}\n          type='paint'\n        />\n        <Card\n          cardStyle={cardStyle}\n          cover={require(cardStyle.designType === 'B' ? '../../assets/home/Stamp_image@2x.170x204.png' : '../../assets/home/Stamp_image@2x.png')}\n          type='stamp'\n        />\n      </div>\n      <IsAgainEdit status={isAgainEdit} isAgainFu={isAgainFu} />\n    </>\n  )\n}\n","module.exports = __webpack_public_path__ + \"static/media/paint_text_normal_en_android.a885c48a.svg\";","module.exports = __webpack_public_path__ + \"static/media/paint_text_normal_en_ios.650059e1.svg\";","module.exports = __webpack_public_path__ + \"static/media/paint_text_normal_ja_android.27baecd7.svg\";","module.exports = __webpack_public_path__ + \"static/media/paint_text_normal_ja_ios.eab374bc.svg\";","module.exports = __webpack_public_path__ + \"static/media/paint_text_pressed_en_android.efe4ec6f.svg\";","module.exports = __webpack_public_path__ + \"static/media/paint_text_pressed_en_ios.a66a4505.svg\";","module.exports = __webpack_public_path__ + \"static/media/paint_text_pressed_ja_android.6f130906.svg\";","module.exports = __webpack_public_path__ + \"static/media/paint_text_pressed_ja_ios.5c1746b9.svg\";","module.exports = __webpack_public_path__ + \"static/media/photo_text_normal_en_android.d0f91309.svg\";","module.exports = __webpack_public_path__ + \"static/media/photo_text_normal_en_ios.76ea3634.svg\";","module.exports = __webpack_public_path__ + \"static/media/photo_text_normal_ja_android.f7c06dc4.svg\";","module.exports = __webpack_public_path__ + \"static/media/photo_text_normal_ja_ios.0fa6315c.svg\";","module.exports = __webpack_public_path__ + \"static/media/photo_text_pressed_en_android.1421d43f.svg\";","module.exports = __webpack_public_path__ + \"static/media/photo_text_pressed_en_ios.8f2bdf14.svg\";","module.exports = __webpack_public_path__ + \"static/media/photo_text_pressed_ja_android.8d77c836.svg\";","module.exports = __webpack_public_path__ + \"static/media/photo_text_pressed_ja_ios.7b54efae.svg\";","module.exports = __webpack_public_path__ + \"static/media/stamp_text_normal_en_android.88a50dc1.svg\";","module.exports = __webpack_public_path__ + \"static/media/stamp_text_normal_en_ios.d8ca7ded.svg\";","module.exports = __webpack_public_path__ + \"static/media/stamp_text_normal_ja_android.ff80f26d.svg\";","module.exports = __webpack_public_path__ + \"static/media/stamp_text_normal_ja_ios.435d2f11.svg\";","module.exports = __webpack_public_path__ + \"static/media/stamp_text_pressed_en_android.fb81214a.svg\";","module.exports = __webpack_public_path__ + \"static/media/stamp_text_pressed_en_ios.97e7e9e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/stamp_text_pressed_ja_android.897200e3.svg\";","module.exports = __webpack_public_path__ + \"static/media/stamp_text_pressed_ja_ios.491bfb78.svg\";","module.exports = __webpack_public_path__ + \"static/media/text_text_normal_en_android.53323134.svg\";","module.exports = __webpack_public_path__ + \"static/media/text_text_normal_en_ios.916e0755.svg\";","module.exports = __webpack_public_path__ + \"static/media/text_text_normal_ja_android.49aee93d.svg\";","module.exports = __webpack_public_path__ + \"static/media/text_text_normal_ja_ios.20f1b683.svg\";","module.exports = __webpack_public_path__ + \"static/media/text_text_pressed_en_android.9fa4f7df.svg\";","module.exports = __webpack_public_path__ + \"static/media/text_text_pressed_en_ios.071131d3.svg\";","module.exports = __webpack_public_path__ + \"static/media/text_text_pressed_ja_android.fcf57f76.svg\";","module.exports = __webpack_public_path__ + \"static/media/text_text_pressed_ja_ios.16ed03fc.svg\";","module.exports = __webpack_public_path__ + \"static/media/Picture_image@2x.170x204.a42897d7.png\";","module.exports = __webpack_public_path__ + \"static/media/Picture_image@2x.7064ff90.png\";","module.exports = __webpack_public_path__ + \"static/media/Text_image@2x.170x204.9b8c820e.png\";","module.exports = __webpack_public_path__ + \"static/media/Text_image@2x.ddb898d6.png\";","module.exports = __webpack_public_path__ + \"static/media/Paint_image@2x.170x204.fb42de96.png\";","module.exports = __webpack_public_path__ + \"static/media/Paint_image@2x.e6228a7b.png\";","module.exports = __webpack_public_path__ + \"static/media/Stamp_image@2x.170x204.4c0b8b9d.png\";","module.exports = __webpack_public_path__ + \"static/media/Stamp_image@2x.cca52b89.png\";"],"sourceRoot":""}