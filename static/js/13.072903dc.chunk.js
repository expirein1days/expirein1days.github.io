(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1194:function(e,t,n){var i={"./centerAlign.svg":570,"./leftAlign.svg":571,"./rightAlign.svg":572};function a(e){var t=o(e);return n(t)}function o(e){var t=i[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(i)},a.resolve=o,e.exports=a,a.id=1194},1698:function(e,t,n){"use strict";var i={enabled:!0,visible:!0,styles:{},keys:{}};"FORCE_COLOR"in Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_WEBVIEW_MODE:"single-webview-multi-react-app",REACT_APP_SCALE_IMAGE_BEFORE_UPLOAD:"always",REACT_APP_UPLOAD_DESIGN_QUALITY:"low"})&&(i.enabled="0"!==Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_WEBVIEW_MODE:"single-webview-multi-react-app",REACT_APP_SCALE_IMAGE_BEFORE_UPLOAD:"always",REACT_APP_UPLOAD_DESIGN_QUALITY:"low"}).FORCE_COLOR);var a=function(e,t,n){var i=e.open,a=e.close,o=e.regex;return t=i+(t.includes(a)?t.replace(o,a+i):t)+a,n?t.replace(/\r?\n/g,"".concat(a,"$&").concat(i)):t},o=function(e,t,n){i.styles[e]=function(e){return e.open="\x1b[".concat(e.codes[0],"m"),e.close="\x1b[".concat(e.codes[1],"m"),e.regex=new RegExp("\\u001b\\[".concat(e.codes[1],"m"),"g"),e}({name:e,codes:t}),(i.keys[n]||(i.keys[n]=[])).push(e),Reflect.defineProperty(i,e,{get:function(){var t=function e(t){return function(e,t){if(""===e||null==e)return"";if(!1===i.enabled)return e;if(!1===i.visible)return"";for(var n=""+e,o=n.includes("\n"),r=t.length;r-- >0;)n=a(i.styles[t[r]],n,o);return n}(t,e.stack)};return Reflect.setPrototypeOf(t,i),t.stack=this.stack?this.stack.concat(e):[e],t}})};o("reset",[0,0],"modifier"),o("bold",[1,22],"modifier"),o("dim",[2,22],"modifier"),o("italic",[3,23],"modifier"),o("underline",[4,24],"modifier"),o("inverse",[7,27],"modifier"),o("hidden",[8,28],"modifier"),o("strikethrough",[9,29],"modifier"),o("black",[30,39],"color"),o("red",[31,39],"color"),o("green",[32,39],"color"),o("yellow",[33,39],"color"),o("blue",[34,39],"color"),o("magenta",[35,39],"color"),o("cyan",[36,39],"color"),o("white",[37,39],"color"),o("gray",[90,39],"color"),o("grey",[90,39],"color"),o("bgBlack",[40,49],"bg"),o("bgRed",[41,49],"bg"),o("bgGreen",[42,49],"bg"),o("bgYellow",[43,49],"bg"),o("bgBlue",[44,49],"bg"),o("bgMagenta",[45,49],"bg"),o("bgCyan",[46,49],"bg"),o("bgWhite",[47,49],"bg"),o("blackBright",[90,39],"bright"),o("redBright",[91,39],"bright"),o("greenBright",[92,39],"bright"),o("yellowBright",[93,39],"bright"),o("blueBright",[94,39],"bright"),o("magentaBright",[95,39],"bright"),o("cyanBright",[96,39],"bright"),o("whiteBright",[97,39],"bright"),o("bgBlackBright",[100,49],"bgBright"),o("bgRedBright",[101,49],"bgBright"),o("bgGreenBright",[102,49],"bgBright"),o("bgYellowBright",[103,49],"bgBright"),o("bgBlueBright",[104,49],"bgBright"),o("bgMagentaBright",[105,49],"bgBright"),o("bgCyanBright",[106,49],"bgBright"),o("bgWhiteBright",[107,49],"bgBright");var r=i.ansiRegex=/\u001b\[\d+m/gm;i.hasColor=i.hasAnsi=function(e){return r.lastIndex=0,!!e&&"string"===typeof e&&r.test(e)},i.unstyle=function(e){return r.lastIndex=0,"string"===typeof e?e.replace(r,""):e},i.none=i.clear=i.noop=function(e){return e},i.stripColor=i.unstyle,i.symbols=n(1699),i.define=o,e.exports=i},1699:function(e,t,n){"use strict";(function(t){var n="win32"===t.platform,i="linux"===t.platform,a={bullet:"\u2022",check:"\u221a",cross:"\xd7",ellipsis:"...",heart:"\u2764",info:"i",line:"\u2500",middot:"\xb7",minus:"\uff0d",plus:"\uff0b",question:"?",questionSmall:"\ufe56",pointer:">",pointerSmall:"\xbb",warning:"\u203c"},o={ballotCross:"\u2718",bullet:"\u2022",check:"\u2714",cross:"\u2716",ellipsis:"\u2026",heart:"\u2764",info:"\u2139",line:"\u2500",middot:"\xb7",minus:"\uff0d",plus:"\uff0b",question:"?",questionFull:"\uff1f",questionSmall:"\ufe56",pointer:i?"\u25b8":"\u276f",pointerSmall:i?"\u2023":"\u203a",warning:"\u26a0"};e.exports=n?a:o,Reflect.defineProperty(e.exports,"windows",{enumerable:!1,value:a}),Reflect.defineProperty(e.exports,"other",{enumerable:!1,value:o})}).call(this,n(240))},1700:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(57),a=n(9),o=n(0),r=n.n(o),c=(n(569),n(142)),l=(n(960),n(16)),s=n(56),d=n(20);n(11);function u(e){var t=Object(o.useContext)(d.a),u=Object(o.useState)(!1),h=Object(a.a)(u,2),g=h[0],f=h[1],m=Object(o.useContext)(s.a).keyboard,w=Object(o.useState)("100%"),b=Object(a.a)(w,2),p=b[0],v=b[1],E=Object(o.useState)(56),j=Object(a.a)(E,2),y=j[0],O=j[1];return Object(o.useEffect)(function(){var t=e.platform?92:m-(window.screen.height-(window.screen.height>700&&window.innerHeight<700?716:window.innerHeight))/2+108;e.platform?window.innerHeight-t-10>56*(e.overlayList.length+1)?(v("100%"),e.changeFontHeight(56),O(56)):42<(window.innerHeight-t-10)/(e.overlayList.length+1)&&(window.innerHeight-t-10)/(e.overlayList.length+1)<56?(v("100%"),e.changeFontHeight((window.innerHeight-t-10)/(e.overlayList.length+1)),O((window.innerHeight-t-10)/(e.overlayList.length+1))):(v(window.innerHeight-t-10-42),e.changeFontHeight(42),O(42)):window.screen.height-t-10>56*(e.overlayList.length+1)?(v("100%"),e.changeFontHeight(56),O(56)):42<(window.screen.height-t-10)/(e.overlayList.length+1)&&(window.screen.height-t-10)/(e.overlayList.length+1)<56?(v("100%"),e.changeFontHeight((window.screen.height-t-10)/(e.overlayList.length+1)),O((window.screen.height-t-10)/(e.overlayList.length+1))):(v(window.screen.height-t-10-42),e.changeFontHeight(42),O(42))},[window.innerHeight,window.screen.height,m,e]),r.a.createElement(c.a,{onVisibleChange:function(t){e.popupchange(t)},renderOverlay:function(n){e.Ref(n);var i=n.triggerRect,a=n.closePopup,c=n.visible;if(f(c),!i)return r.a.createElement("div",null);var d=Object(o.useContext)(s.a).keyboard,u=e.platform?92:d-(window.screen.height-(window.screen.height>700&&window.innerHeight<700?716:window.innerHeight))/2+108;return r.a.createElement("div",{onMouseDown:e.onMouseDown,style:{position:"fixed",zIndex:"11",backgroundColor:"#FFF",left:0,width:window.screen.width,bottom:u}},r.a.createElement("div",{style:{position:"absolute",bottom:-26,left:26}},r.a.createElement("svg",{width:"30",height:"24",viewBox:"0 0 30 24"},r.a.createElement("path",{fill:"#fff",d:"M30 0 L15 20 L 0 0 z"}))),r.a.createElement("div",{className:"title",style:{height:y,width:"100%",textAlign:"center",borderBottom:"1px solid #dadada"}},r.a.createElement("span",{className:"backArrow",style:{display:e.goVis?"initial":"none"},onClick:function(){e.goBack()}}),r.a.createElement("span",{className:"childItem-span",style:{fontFamily:"ja"===t.current?"NotoSansCJKjp-Bold":"initial",fontWeight:"ja"===t.current?"initial":"bold",fontSize:"ja"===t.current?"17px":"20px"}},e.goVis?r.a.createElement(l.a,{code:"make.text.weightSelect.title"}):r.a.createElement(l.a,{code:"make.text.fontSelect.title"}))),r.a.createElement("div",{style:{width:"100%",height:p,overflowY:"auto"}},e.goVis?r.a.Children.map(e.overlayList,function(e){return r.a.isValidElement(e)?r.a.cloneElement(e,{onClick:function(t){e.props.onClick&&e.props.onClick(t),a()}}):e}):e.overlayList))}},r.a.createElement("div",{className:"textfubar",style:Object(i.a)({zIndex:g?12:0},e.style)},r.a.createElement("img",{width:50,height:50,src:n(515)})))}},1701:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n(57),a=n(9),o=n(0),r=n.n(o),c=n(104),l=n.n(c),s=n(142),d=n(16),u=(n(960),n(56)),h=n(20),g=[{name_ja:"\u5de6\u63c3\u3048",name_en:"Left",value:"left"},{name_ja:"\u5de6\u53f3\u4e2d\u592e\u63c3\u3048",name_en:"Center",value:"center"},{name_ja:"\u53f3\u63c3\u3048",name_en:"Right",value:"right"}];function f(e){var t=Object(o.useContext)(h.a),c=Object(o.useContext)(u.a).keyboard,f=Object(o.useState)(!1),m=Object(a.a)(f,2),w=m[0],b=m[1],p=Object(o.useState)("100%"),v=Object(a.a)(p,2),E=v[0],j=v[1],y=Object(o.useState)(56),O=Object(a.a)(y,2),x=O[0],k=O[1];return Object(o.useEffect)(function(){var t=e.platform?92:c-(window.screen.height-(window.screen.height>700&&window.innerHeight<700?716:window.innerHeight))/2+108;e.platform?window.innerHeight-t-10>224?(j("100%"),k(56)):42<(window.innerHeight-t-10)/4&&(window.innerHeight-t-10)/4<56?(j("100%"),k((window.innerHeight-t-10)/4)):(j(window.innerHeight-t-10-42),k(42)):window.screen.height-t-10>224?(j("100%"),k(56)):42<(window.screen.height-t-10)/4&&(window.screen.height-t-10)/4<56?(j("100%"),k((window.screen.height-t-10)/4)):(j(window.screen.height-t-10-42),k(42))},[window.innerHeight,window.screen.height,c,e]),r.a.createElement(s.a,{renderOverlay:function(i){e.Ref(i);var a=i.triggerRect,c=i.closePopup,s=i.visible;if(b(s),!a)return r.a.createElement("div",null);var h,f=Object(o.useContext)(u.a).keyboard;return h=e.platform?92:f-(window.screen.height-(window.screen.height>700&&window.innerHeight<700?716:window.innerHeight))/2+108,r.a.createElement("div",{style:{position:"fixed",zIndex:"11",backgroundColor:"#FFF",width:window.screen.width,bottom:h}},r.a.createElement("div",{style:{position:"absolute",bottom:-26,left:"50%",marginLeft:-15}},r.a.createElement("svg",{width:"30",height:"24",viewBox:"0 0 30 24"},r.a.createElement("path",{fill:"#fff",d:"M30 0 L15 20 L 0 0 z"}))),r.a.createElement("div",{className:"title",style:{height:x,width:"100%",textAlign:"center",borderBottom:"1px solid #dadada"}},r.a.createElement("span",{className:"childItem-span",style:{fontFamily:"ja"===t.current?"NotoSansCJKjp-Bold":"initial",fontWeight:"ja"===t.current?"initial":"bold",fontSize:"ja"===t.current?"17px":"20px"}},r.a.createElement(d.a,{code:"make.text.alignSelect.title"}))),r.a.createElement("div",{style:{width:"100%",height:E,overflowY:"auto"}},g.map(function(i,a){return r.a.createElement("div",{className:"fontSelectBox",style:{height:x},onClick:function(){return e.setAlign(i.value),c()},key:i.name_en,value:i.name_en},r.a.createElement("img",{src:n(1194)("./".concat(i.value,"Align.svg")),width:28,height:28}),r.a.createElement("div",{className:"itemContent",style:{lineHeight:"56px"}},r.a.createElement("span",{className:"childItem-span",style:{fontFamily:"ja"===t.current?"NotoSansCJKjp-Bold":"initial",fontWeight:"ja"===t.current?"initial":"bold",fontSize:"ja"===t.current?"17px":"20px"}},"ja"===t.current?i.name_ja:i.name_en)),r.a.createElement("img",{width:24,height:24,src:l.a,style:{visibility:i.value===e.align?"visible":"hidden"}}))})))}},r.a.createElement("div",{className:"textfubar2",style:Object(i.a)({zIndex:w?12:0},e.style)},r.a.createElement("img",{src:n(1194)("./".concat(e.align,"Align.svg")),width:28,height:28})))}},1702:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n(57),a=n(9),o=n(0),r=n.n(o),c=(n(19),n(142)),l=n(573),s=n.n(l),d=n(16),u=(n(960),n(56)),h=n(20),g=(n(11),["#000000","#666666","#BFBFBF","#FFFFFF","#CC2B24","#E48F33","#CDBE9F","#FCEF4E","#BDE370","#4F972A","#9ADCEB","#3B86C8","#48369F","#F4BEEE","#ED6FA2"]);function f(e){var t=Object(o.useContext)(h.a),n=Object(o.useState)(!1),l=Object(a.a)(n,2),f=l[0],m=l[1],w=Object(o.useContext)(u.a).keyboard,b=Object(o.useState)("100%"),p=Object(a.a)(b,2),v=p[0],E=p[1],j=Object(o.useState)(32),y=Object(a.a)(j,2),O=y[0],x=y[1];return Object(o.useEffect)(function(){var t=e.platform?92:w-(window.screen.height-(window.screen.height>700&&window.innerHeight<700?716:window.innerHeight))/2+108;e.platform?window.innerHeight-t-10-56>3*(window.innerWidth/(375/31)+32)+35?(E("100%"),x(32)):(E(window.innerHeight-t-10-56),window.innerHeight-t-10-56<210?x(17):x(32)):window.screen.height-t-10-56>3*(window.innerWidth/(375/31)+32)+35?(E("100%"),x(32)):(E(window.screen.height-t-10-56),window.screen.height-t-10-56<210?x(17):x(32))},[window.innerHeight,window.screen.height,w]),r.a.createElement(c.a,{renderOverlay:function(n){e.Ref(n);var i=n.triggerRect,a=n.closePopup,c=n.visible;if(m(c),!i)return r.a.createElement("div",null);var l,s=Object(o.useContext)(u.a).keyboard;return l=e.platform?92:s-(window.screen.height-(window.screen.height>700&&window.innerHeight<700?716:window.innerHeight))/2+108,r.a.createElement("div",{style:{position:"fixed",zIndex:"11",backgroundColor:"#FFF",width:window.screen.width,bottom:l}},r.a.createElement("div",{style:{position:"absolute",bottom:-26,right:26}},r.a.createElement("svg",{width:"30",height:"24",viewBox:"0 0 30 24"},r.a.createElement("path",{fill:"#fff",d:"M30 0 L15 20 L 0 0 z"}))),r.a.createElement("div",{className:"title",style:{height:56,width:"100%",textAlign:"center",borderBottom:"1px solid #dadada"}},r.a.createElement("span",{className:"childItem-span",style:{fontFamily:"ja"===t.current?"NotoSansCJKjp-Bold":"initial",fontWeight:"ja"===t.current?"initial":"bold",fontSize:"ja"===t.current?"17px":"20px"}},r.a.createElement(d.a,{code:"make.text.selectColor.title"}))),r.a.createElement("div",{style:{height:v,overflowY:"hidden"}},r.a.createElement("ul",{className:"colorList",style:{paddingTop:v<=150?13:32}},g.map(function(t){return r.a.createElement("li",{style:{width:window.innerWidth/(375/31),height:window.innerWidth/(375/31),marginBottom:O},key:t,onClick:function(){e.setFontColor(t),a()}},r.a.createElement("div",{style:{width:window.innerWidth/15,height:window.innerWidth/15,backgroundColor:"".concat(t),border:"".concat(window.innerWidth/375,"px solid ").concat("#FFFFFF"===t?"#CACACA":t)},className:"childModel"}),r.a.createElement("div",{className:"".concat(e.fontColor===t?"colorActive":""),style:{width:window.innerWidth/(375/31),height:window.innerWidth/(375/31),border:"2px solid ".concat("#FFFFFF"===t?"#CACACA":t),display:"none"}}))}))))}},r.a.createElement("div",{style:Object(i.a)({zIndex:f?12:0},e.style),className:"textfubar3"},r.a.createElement("img",{src:s.a,width:50,height:50,alt:"\u9009\u53d6\u989c\u8272\u56fe\u6807"})))}},1741:function(e,t,n){},1769:function(e,t,n){"use strict";n.r(t),function(e){var i=n(12),a=n.n(i),o=n(14),r=n(9),c=n(79),l=n(0),s=n.n(l),d=n(19),u=n(144),h=n(891),g=(n(1698),n(565)),f=n.n(g),m=n(104),w=n.n(m),b=n(566),p=n.n(b),v=n(567),E=n.n(v),j=n(568),y=n.n(j),O=n(56),x=n(11),k=n(447),C=n(146),S=(n(960),n(1700)),B=n(1701),_=n(1702),T=n(460),F=n(454),L=n(463),R=n(16),N=n(20),A=n(1041),H=n(1046),M=n.n(H),P=n(473),D=n(474),I=n(147),z=n(1047),U=n(24),G=n(25),W={position:"fixed",left:0,right:0,bottom:0,top:0,overflow:"hidden"};n(1741);var K={"TTGothicMB101-Light":"./fonts/TTGothicMB101-Light.ttf","TTGothicMB101-Bold":"./fonts/TTGothicMB101-Bold.ttf","TTGothicMB101-Regular":"./fonts/TTGothicMB101-Regular.ttf","NotoSansCJKjp-Bold":"./fonts/NotoSansCJKjp-Bold.otf","NotoSansCJKjp-Regular":"./fonts/NotoSansCJKjp-Regular.otf","NotoSansCJKjp-Thin":"./fonts/NotoSansCJKjp-Thin.otf","TTReim-Bold":"./fonts/TTReim-Bold.ttf","TTReim-Light":"./fonts/TTReim-Light.ttf","TTReim-Regular":"./fonts/TTReim-Regular.ttf","TTUDShinMGo-Bold":"./fonts/TTUDShinMGo-Bold.ttf","TTUDShinMGo-Regular":"./fonts/TTUDShinMGo-Regular.ttf","TTUDShinMGo-Light":"./fonts/TTUDShinMGo-Light.ttf","UniqloPro-Bold":"./fonts/UniqloPro-Bold.otf","UniqloPro-Light":"./fonts/UniqloPro-Light.otf","UniqloPro-Regular":"./fonts/UniqloPro-Regular.otf"},q=[];function J(e){"undefined"!==typeof FontFace&&-1===q.indexOf(e)&&function(e){if(document.fonts){var t=Object(c.a)(document.fonts.values()).find(function(t){return t.family===e});if(t)return t}return new FontFace(e,"url('".concat(K[e],"')"))}(e).load().then(function(){q.push(e)})}var Y=0,V=0,X=0,Q=0,Z=0,$=0;t.default=Object(I.a)()(function(t){var i=Object(l.useContext)(d.a),c=Object(l.useContext)(O.a),g=c.canvasSize,m=c.imageSize,b=c.areaStyle,v=c.canvasArea,j=c.deviceHeight,H=Math.floor(.8*v.height),I=Object(l.useContext)(N.a),q=Object(l.useRef)(),ee=Object(l.useState)(!1),te=Object(r.a)(ee,2),ne=te[0],ie=te[1],ae=Object(l.useState)(!0),oe=Object(r.a)(ae,2),re=oe[0],ce=oe[1],le=Object(l.useState)(),se=Object(r.a)(le,2),de=se[0],ue=se[1],he=Object(l.useState)(),ge=Object(r.a)(he,2),fe=ge[0],me=ge[1],we=Object(l.useState)(!1),be=Object(r.a)(we,2),pe=be[0],ve=be[1],Ee=Object(l.useState)("#000000"),je=Object(r.a)(Ee,2),ye=je[0],Oe=je[1],xe=Object(l.useState)("UniqloPro"),ke=Object(r.a)(xe,2),Ce=ke[0],Se=ke[1],Be=Object(l.useState)("Bold"),_e=Object(r.a)(Be,2),Te=_e[0],Fe=_e[1],Le=Object(l.useState)(H),Re=Object(r.a)(Le,2),Ne=Re[0],Ae=Re[1],He=Object(l.useState)("center"),Me=Object(r.a)(He,2),Pe=Me[0],De=Me[1],Ie=Object(l.useState)(!1),ze=Object(r.a)(Ie,2),Ue=ze[0],Ge=ze[1],We=Object(l.useState)(!1),Ke=Object(r.a)(We,2),qe=Ke[0],Je=Ke[1],Ye=Object(l.useState)(!1),Ve=Object(r.a)(Ye,2),Xe=Ve[0],Qe=Ve[1],Ze=navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1,$e=Object(l.useState)(!1),et=Object(r.a)($e,2),tt=et[0],nt=et[1],it=Object(l.useState)(56),at=Object(r.a)(it,2),ot=at[0],rt=at[1],ct=Object(l.useState)(""),lt=Object(r.a)(ct,2),st=lt[0],dt=lt[1],ut=Object(l.useState)(""),ht=Object(r.a)(ut,2),gt=ht[0],ft=ht[1],mt=Object(l.useRef)(null),wt=Object(l.useRef)(null),bt=Object(l.useRef)(null),pt=Object(l.useState)([{name_en:"Gothic",value:"TTGothicMB101-Bold",name_ja:"\u30b4\u30b7\u30c3\u30af",size_ja:17,size_en:20,checked:!1},{name_en:"Rounded",value:"TTUDShinMGo-Bold",name_ja:"\u4e38\u30b4\u30b7\u30c3\u30af",size_ja:17,size_en:20,checked:!1},{name_en:"Mincho",value:"TTReim-Bold",name_ja:"\u660e\u671d\u4f53",size_ja:17,size_en:20,checked:!1},{name_en:"ENGLISH",value:"UniqloPro-Bold",name_ja:"ENGLISH",size_ja:20,size_en:20,checked:!0}]),vt=Object(r.a)(pt,2),Et=vt[0],jt=vt[1],yt=Object(l.useState)([{name_ja:"\u307b\u305d\u3044",name_en:"Thin",checked:!1,value:"Light",weight:300},{name_ja:"\u3075\u3064\u3046",name_en:"Regular",checked:!1,value:"Regular",weight:"normal"},{name_ja:"\u3075\u3068\u3044",name_en:"Bold",checked:!0,value:"Bold",weight:"bold"}]),Ot=Object(r.a)(yt,2),xt=Ot[0],kt=Ot[1],Ct=Object(l.useState)([]),St=Object(r.a)(Ct,2),Bt=St[0],_t=St[1],Tt=Object(l.useState)(""),Ft=Object(r.a)(Tt,2),Lt=Ft[0],Rt=Ft[1],Nt=Object(l.useCallback)(function(e){Ze||e.preventDefault(),!de||de.isEditing||de.isMoving||de._scaling||de.enterEditing()},[de]);function At(e,t,n){if("0"===n){var i=[];Et.forEach(function(e,n){n===t?(e.checked=!0,e.fontFamily=e.value,Se(e.value.replace("-Bold",""))):e.checked=!1,i.push(e)}),jt(i),Ge(!0)}else{var a=[];xt.forEach(function(e,n){n===t?(e.checked=!0,Fe(e.value)):e.checked=!1,a.push(e)}),kt(a)}var o=xt.map(function(e,t){return s.a.createElement("div",{className:"fontSelectBox",style:{height:ot},onClick:function(){return At(0,t,"1")},key:e.name_en,value:e.name_en},s.a.createElement("img",{width:24,height:24,src:w.a,style:{visibility:e.checked?"visible":"hidden"}}),s.a.createElement("div",{className:"itemContent",style:{lineHeight:"".concat(ot,"px")}},s.a.createElement("span",{className:"childItem-span",style:{fontWeight:e.weight,fontSize:"ja"===I.current?17:20}},"ja"===I.current?e.name_ja:e.name_en)),s.a.createElement("div",{style:{width:24,height:24}}))});_t(o)}function Ht(){return(Ht=Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Xe){e.next=14;break}return e.prev=1,e.next=4,k.a.checkGlobalInstruction(C.a.Text_Resize_Instruction);case 4:if(e.sent){e.next=9;break}return Qe(!0),e.next=9,k.a.setGlobalInstructionVisited(C.a.Text_Resize_Instruction);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),nt(!0);case 14:case"end":return e.stop()}},e,this,[[1,11]])}))).apply(this,arguments)}function Mt(e){e?de.exitEditing():(de.enterEditing(),function(){Ht.apply(this,arguments)}())}function Pt(){var e=Et.map(function(e,t){return s.a.createElement("div",{className:"fontSelectBox",style:{height:ot},onClick:function(){return At(0,t,"0")},key:e.name_en,value:e.name_en},s.a.createElement("img",{width:24,height:24,src:w.a,style:{visibility:e.checked?"visible":"hidden"}}),s.a.createElement("div",{className:"itemContent",style:{lineHeight:"".concat(ot,"px")}},s.a.createElement("span",{className:"childItem-span",style:{fontFamily:e.value,fontSize:"ja"===I.current?e.size_ja:e.size_en}},"ja"===I.current?e.name_ja:e.name_en)),s.a.createElement("img",{width:24,height:24,src:f.a}))});_t(e),Ge(!1)}Object(l.useEffect)(function(){Ze&&Object(x.a)("clickScreenCenter",{}),document.getElementsByClassName("wrapBox")[0].addEventListener("contextmenu",function(e){e.preventDefault()},!1),Object(x.a)("getTextColor").then(function(e){Oe(e)})},[]),Object(l.useEffect)(function(){var e=!gt||pe;if(de){de.lockRotation=e,de.lockMovementX=e,de.lockMovementY=e,de.lockScalingX=e,de.lockScalingY=e,de.lockUniScaling=e,de.lockSkewingX=e,de.lockSkewingY=e,de.lockScalingFlip=e;var t=de._savedProps;t&&(t.lockMovementX=e,t.lockMovementY=e)}},[fe,de,gt,pe]),Object(l.useEffect)(function(){Ue||_t(Et.map(function(e,t){return s.a.createElement("div",{className:"fontSelectBox",style:{height:ot},onClick:function(){return At(0,t,"0")},key:e.name_en,value:e.name_en},s.a.createElement("img",{width:24,height:24,src:w.a,style:{visibility:e.checked?"visible":"hidden"}}),s.a.createElement("div",{className:"itemContent",style:{lineHeight:"".concat(ot,"px")}},s.a.createElement("span",{className:"childItem-span",style:{fontFamily:e.value,fontSize:"ja"===I.current?e.size_ja:e.size_en}},"ja"===I.current?e.name_ja:e.name_en)),s.a.createElement("img",{width:24,height:24,src:f.a}))}))},[ot,Ue]),Object(l.useEffect)(function(){if(fe&&de){var e=v.width,t=v.left,n=v.top;de.inCompositionMode&&de.setSelectionStyles({fill:ye,fontFamily:"".concat(Ce,"-").concat(Te)},de.compositionStart,de.selectionEnd),J("".concat(Ce,"-").concat(Te)),de.fontSize=Ne,de.cursorColor=ye,de.compositionColor=ye,de.textAlign=Pe,de.__isTransformed||("center"===Pe?(de.setPositionByOrigin(new h.fabric.Point(t+e/2,n),"center","top"),de.setCoords()):"left"===Pe?(de.setPositionByOrigin(new h.fabric.Point(t,n),"left","top"),de.setCoords()):(de.setPositionByOrigin(new h.fabric.Point(t+e,n),"right","top"),de.setCoords())),fe.renderAll()}},[fe,v,g,de,Pe,Ne,ye,Ce,Te]),Object(l.useEffect)(function(){de&&de.__isTransformed&&de.set({left:de.left-Q+v.left,top:de.top-X+v.top}).setCoords(),X=v.top,Q=v.left},[de,v,g]),Object(l.useEffect)(function(){if(pe||(bt.current.closePopup(),mt.current.closePopup(),wt.current.closePopup()),de){var e=function(e){var t=de.text;if(console.log("fontComponent"),console.log(mt),mt.current.visible&&mt.current.closePopup(),wt.current.visible&&wt.current.closePopup(),bt.current.visible&&bt.current.closePopup(),Ze||!de.inCompositionMode||t!==st){var n=t.length-st.length;de.setSelectionStyles({fill:ye,fontFamily:"".concat(Ce,"-").concat(Te)},de.selectionStart-n,de.selectionEnd);var i=v.width,a=v.height,o=(!e.inputType||"insertFromComposition"!==e.inputType)&&gt.length>t.length;""!==de.text?ce(!1):ce(!0);var r,c=de.calcTextWidth(),l=de.calcTextHeight();if(o)if(c>0)if(V>l){var s=c*(r=Math.min(Math.floor(a/l*Ne),H))/Ne;i<s&&(r=Math.floor(i/s*r))}else Y>c&&(r=Math.min(Math.floor(i/c*Ne),H))/Ne*l>a&&(r=void 0);else r=H;else i<c?r=Math.floor(i/c*Ne):a<l&&(r=Math.floor(a/l*Ne));r&&Ae(r),Y=c,V=l,fe.requestRenderAll(),setTimeout(function(){de.inCompositionMode||dt(t),ft(t)},0)}},t=function(){ve(!0),de.lockRotation=!0,de.lockScalingX=!0,de.lockScalingY=!0,de.hiddenTextarea&&(de.hiddenTextarea.maxLength=1e3,Ze||(de.hiddenTextarea.style.cssText+="text-indent: -999em;margin-left: -100%;"))},n=function(){ve(!1);var e=!gt;de.lockRotation=e,de.lockScalingX=e,de.lockScalingY=e},i=function(){de.__isTransformed=!0},a=function(){de.selectionStart!==de.selectionEnd&&(de.selectionStart!==Z?de.selectionEnd=de.selectionStart:de.selectionEnd!==$&&(de.selectionStart=de.selectionEnd)),Z=de.selectionStart,$=de.selectionEnd};return de.on("changed",e),de.on("editing:entered",t),de.on("editing:exited",n),de.on("rotating",i),de.on("moved",i),de.on("scaling",i),de.on("selection:changed",a),function(){de.off("changed",e),de.off("editing:entered",t),de.off("editing:exited",n),de.off("rotating",i),de.off("moved",i),de.off("scaling",i),de.off("selection:changed",a)}}},[fe,de,v,Ne,ye,Ce,Te,pe,st,gt]),Object(l.useEffect)(function(){if(fe&&de){var e=function(){var e=new h.fabric.Rect({width:a,height:o,top:r,left:c});fe.clipPath=e,fe.renderAll()},t=function(e){if(!de.isEditing){var t=new h.fabric.Rect({width:g,height:g,top:0,left:0});fe.clipPath=t,fe.renderAll()}},n=function(){de.isEditing||e()},i=function(){ie(!1)},a=v.width,o=v.height,r=v.top,c=v.left;e();var l=fe.upperCanvasEl;return l.addEventListener("touchstart",t,!1),l.addEventListener("touchend",n,!1),l.addEventListener("touchcancel",i,!1),function(){l.removeEventListener("touchstart",t,!1),l.removeEventListener("touchend",n,!1),l.removeEventListener("touchcancel",i,!1)}}},[fe,de,v,g]),Object(l.useEffect)(function(){var t=q.current;if(t){var n,a,o=function(e){var t=e.data,n=t.height,i=t.offsetTop;c.setKeyboard(Ze?j-i:n),g.isEditing&&ve(!0)},r=function(e){c.setKeyboard(0),g.isEditing&&ve(!1)},l=function(e){(g._scaling&&!g.isMoving||w>0)&&(f=!0),w=e.touches.length,g.restartCursorIfNeeded()},s=function(e){u._target=u._activeObject},d=function(e){var t=e.type,n=e.prevAppid,a=e.nextAppid,o=i.appid;"push"===t&&n===o&&Object(x.a)("setScrollEnable",!0),"pop"===t&&a===o&&Object(x.a)("setScrollEnable",!1)},u=new h.fabric.Canvas(t,{enableRetinaScaling:!1,stopContextMenu:!1,selection:!1,selectionColor:"transparent"}),g=new h.fabric.Textbox("",{lineHeight:1,width:v.width,fontSize:H,height:v.height,textAlign:"center",hasControls:!1,hasBorders:!1,originY:"top",isEditing:!1,charSpacing:50});Object(z.a)(u,m,m),u.add(g).setActiveObject(g),g.center(),me(u),ue(g),k.a.checkInstruction(C.a.Text_Page_Instruction).then(function(e){e?(Rt("N"),a=setTimeout(function(){c.setZoom(!0)},800)):(Rt("Y"),k.a.setInstructionVisited(C.a.Text_Page_Instruction).then(function(){n=setTimeout(function(){Rt("N"),c.setZoom(!0)},3e3)}))});var f=!1,w=0;Object(x.a)("setScrollEnable",!1);var b=g.enterEditing;return g.enterEditing=function(e){f||b.call(g,e),f=!1},u.upperCanvasEl.addEventListener("touchend",l,!1),u.on("mouse:down:before",s),u.on("mouse:gesture:before",s),window.addEventListener("KeyboardShow",o,!1),window.addEventListener("KeyboardHide",r,!1),e.AppManager.appRouterEvent.addEventListener("UTmeStateChange",d),function(){window.removeEventListener("KeyboardShow",o,!1),window.removeEventListener("KeyboardHide",r,!1),u.off("mouse:down:before",s),u.off("mouse:gesture:before",s),u.upperCanvasEl.removeEventListener("touchend",l,!1),e.AppManager.appRouterEvent.removeEventListener("UTmeStateChange",d),clearTimeout(n),clearTimeout(a),g.exitEditing(),u.dispose()}}},[q]),Object(l.useEffect)(function(){var e;de&&de.text&&(pe||(e=de.text,de&&(e=e.replace(/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/gi,""),de.text=e,de.hiddenTextarea&&(de.hiddenTextarea.value=e),fe.requestRenderAll())))},[pe,de]);var Dt=Object(l.useCallback)(function(){Je(!qe),de&&de.exitEditing()},[de]);function It(){return(It=Object(o.a)(a.a.mark(function e(){var t,n,o,r,c,l,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.createElement("canvas"),n=v.left,o=v.top,r=v.width,c=v.height,t.width=r,t.height=c,l=fe.getContext("2d").getImageData(n,o,r,c),t.getContext("2d").putImageData(l,0,0),s=t.toDataURL(),G.a.storeImageData({imageName:"front-".concat(i.layers.length),imageData:s}),e.prev=9,e.next=12,Object(x.a)("setLayers",i.layers);case 12:Object(x.a)("navigateTo",{to:"/mixChoice",params:{itemModal:"show",previousPage:i.previousPage}}),Qe(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),nt(!0);case 19:case"end":return e.stop()}},e,this,[[9,16]])}))).apply(this,arguments)}function zt(e){e.preventDefault(),e.stopPropagation()}var Ut=Object(l.useCallback)(function(){de&&(de.__isTransformed=!1,de.rotate(0),de.scale(1),de.text="",de.hiddenTextarea&&(de.hiddenTextarea.value=""),dt(""),ft(""),Ae(H),ce(!0),fe.requestRenderAll(),de.exitEditing())},[de]);function Gt(){return(Gt=Object(o.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.a)("setTextColor",t);case 3:Oe(t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),nt(!0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))).apply(this,arguments)}return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("div",{style:W,onTouchStart:function(){de&&(de.isEditing||ie(!0))},onTouchEnd:function(){ie(!1)}},s.a.createElement("div",{style:{display:"N"===Lt?"block":"none"}},s.a.createElement(u.a,{page:"text",revoke:Dt},s.a.createElement(P.a,{onClick:function(){return function(){return It.apply(this,arguments)}(i.preStamp)},disabled:re,style:{top:pe?-50:2}})),s.a.createElement("div",{style:{border:"COL00"!==i.activeItem[2].id?"1px solid transparent":"1px solid rgb(221, 221, 221)"},className:pe?"keyboardBord On":"keyboardBord Off"},s.a.createElement("img",{onTouchStart:function(e){return function(e,t){e.stopPropagation(),t||(e.target.src=p.a)}(e,pe)},onTouchEnd:function(e){return function(e,t){e.stopPropagation(),t||(e.target.src=E.a)}(e,pe)},onClick:function(){return Mt(pe)},className:"keyboardIcon",src:pe?y.a:E.a,alt:"\u952e\u76d8\u56fe\u6807".concat(pe?"\u6253\u5f00":"\u5173\u95ed","\u72b6\u6001")})),s.a.createElement(T.a,{onMouseDown:zt,onTouchEnd:Nt,topLayer:t.topLayer,data:t.mixData,noMultiply:!0},s.a.createElement("img",{style:{pointerEvents:"none",position:"absolute",width:b.width+4,height:b.height+3.5,left:b.left-2,top:b.top-2,display:ne?"":"none",zIndex:11},src:M.a,alt:""}),s.a.createElement("div",{className:"wrapBox",style:{position:"absolute",zIndex:10,top:0,left:0,width:m,height:m}},s.a.createElement("canvas",{ref:q,width:g,height:g,style:{width:m,height:m}}))),Xe?s.a.createElement(A.a,{moveIcon:"Text_Drag.gif",resizeIcon:"Text_Resize.gif",title:"make.text.resize.title",hideTypesetProps:function(){return Qe(!1)}}):"",s.a.createElement(L.a,{pageMark:"text",cancelDesign:Ut,show:qe,setShow:function(e){return Je(e)}})),s.a.createElement("div",{onClick:function(){Rt("N")},style:{width:"100%",display:"Y"===Lt?"flex":"none"},className:"firstVisited"},s.a.createElement("img",{width:184,height:250,src:n(1197)}),s.a.createElement("div",{style:{width:"75%",fontFamily:"ja"===I.current?"NotoSansCJKjp-Bold":"initial",fontWeight:"ja"===I.current?"initial":"bold",fontSize:"ja"===I.current?"17px":"20px",marginTop:62,color:"#1b1b1b"}},s.a.createElement(R.a,{code:"make.text.instruction"})))),pe?s.a.createElement("div",{onMouseDown:zt,style:{position:"fixed",bottom:Ze?0:8+c.keyboard-(window.screen.height-window.innerHeight)/2,width:c.deviceWidth,height:65}}):"N"!==Lt||qe?"":s.a.createElement(D.a,null,s.a.createElement(F.a,{showStatus:qe?"hidden":"show"})),s.a.createElement("div",{style:{display:pe?"block":"none"},onMouseDown:zt},s.a.createElement(S.a,{style:{position:"fixed",bottom:Ze?0:8+c.keyboard-(window.screen.height-(window.screen.height>700&&window.innerHeight<700?716:window.innerHeight))/2,left:16,height:65},platform:Ze,textele:de,popupchange:function(e){e&&Object.keys(K).forEach(J),Pt()},overlayList:Bt,goVis:Ue,goBack:Pt,Ref:function(e){mt.current=e},changeFontHeight:function(e){Object(x.a)("log","changeFontHeight"+e),rt(e)}}),s.a.createElement(B.a,{style:{position:"fixed",bottom:Ze?15:8+c.keyboard-(window.screen.height-(window.screen.height>700&&window.innerHeight<700?716:window.innerHeight))/2+14,height:50},platform:Ze,textele:de,align:Pe,Ref:function(e){wt.current=e},setAlign:De}),s.a.createElement(_.a,{style:{position:"fixed",bottom:Ze?0:8+c.keyboard-(window.screen.height-(window.screen.height>700&&window.innerHeight<700?716:window.innerHeight))/2,right:16,height:65},platform:Ze,textele:de,fontColor:ye,Ref:function(e){bt.current=e},setFontColor:function(e){return Gt.apply(this,arguments)}}))),s.a.createElement(U.a,{visible:tt,title:"error.network.title",description:"error.network.description",text:"OK",onClick:function(){nt(!1)}}))})}.call(this,n(46))},463:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var i=n(9),a=n(0),o=n.n(a),r=(n(10),n(246),n(455),n(445)),c=n.n(r),l=n(448),s=n.n(l),d=(n(183),n(150)),u=n(20),h=n(16);function g(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],l=n[1],g=Object(a.useContext)(u.a),f=Object(a.useState)(!1),m=Object(i.a)(f,2),w=m[0],b=m[1];function p(t){l(!1),"current"===t?e.cancelDesign&&(e.cancelDesign(),e.setShow(!1)):(b(!0),setTimeout(function(){b(!0)},100))}return Object(a.useEffect)(function(){l(e.show)},[e.show]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"revokeMask",style:{display:r?"block":"none"},onClick:function(){e.setShow(!1),setTimeout(function(){e.setShow(!1)},100)}}),o.a.createElement("div",{style:{width:"100%",backgroundColor:"#fff",position:"fixed",zIndex:21,bottom:r?0:-194,fontSize:"ja"===g.current?17:20,fontWeight:500,transition:"bottom 0.2s"}},o.a.createElement("div",{className:"revokeOperation",onClick:function(){return p("current")}},o.a.createElement("div",{className:"revokeOpImg"},o.a.createElement("img",{src:s.a})),o.a.createElement("span",{style:{fontWeight:"ja"===g.current?"":"bold",fontFamily:"ja"===g.current?"NotoSansCJKjp-Bold":"HelveticaNeue-Bold"}},"mix"===e.pageMark?o.a.createElement(h.a,{code:"make.revoke.resetEffect"}):o.a.createElement(h.a,{code:"make.revoke.resetGraphic"}))),o.a.createElement("div",{className:"revokeOperation",onClick:function(){return p("initial")}},o.a.createElement("div",{className:"revokeOpImg"},o.a.createElement("img",{src:c.a})),o.a.createElement("span",{style:{fontWeight:"ja"===g.current?"":"bold",fontFamily:"ja"===g.current?"NotoSansCJKjp-Bold":"HelveticaNeue-Bold"}},o.a.createElement(h.a,{code:"make.revoke.BackToTheOriginalState"}))),o.a.createElement("div",{style:{height:52,padding:15}},o.a.createElement("button",{style:{height:52,lineHeight:"52px",letterSpacing:.4,width:"100%",border:"1px solid #1b1b1b",fontSize:16,backgroundColor:"white",fontFamily:"ja"===g.current?"NotoSansCJKjp-Bold":"UniqloPro-Bold"},onClick:function(){return e.setShow(!1)}},o.a.createElement(h.a,{code:"make.revoke.cancel"})))),o.a.createElement(d.a,{resetLayers:e.resetLayers,status:w,isAgainFu:function(t){b(!1),e.setShow&&e.setShow(!1)}}))}},473:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(57),a=n(0),o=n.n(a),r=n(449),c=n.n(r),l=n(459),s=n.n(l),d=n(47);function u(e){var t=e.disabled,n=e.onClick,r=e.style;return Object(a.useEffect)(function(){Object(d.a)()},[]),o.a.createElement("div",{onClick:t?null:function(){return Object(d.b)(n)}},o.a.createElement("img",{src:t?s.a:c.a,className:"GotoMixIcon",alt:"",style:Object(i.a)({position:"absolute",right:12,top:2,zIndex:11,width:40,height:40,transition:"all .4s"},r)}))}},960:function(e,t,n){}}]);
//# sourceMappingURL=13.072903dc.chunk.js.map