{"version":3,"sources":["assets sync /^/.//.*Align/.svg$","../node_modules/ansi-colors/index.js","../node_modules/ansi-colors/symbols.js","routes/text/fontSelect.js","routes/text/alignSelect.js","routes/text/selectColor.js","routes/text/index.js","components/revoke.js","components/GoToNext.js"],"names":["map","./centerAlign.svg","./leftAlign.svg","./rightAlign.svg","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","colors","enabled","visible","styles","NODE_ENV","PUBLIC_URL","REACT_APP_WEBVIEW_MODE","REACT_APP_SCALE_IMAGE_BEFORE_UPLOAD","REACT_APP_UPLOAD_DESIGN_QUALITY","FORCE_COLOR","wrap","style","str","nl","open","close","regex","includes","replace","concat","define","name","codes","type","RegExp","ansi","push","Reflect","defineProperty","get","color","input","stack","n","length","setPrototypeOf","this","re","ansiRegex","hasColor","hasAnsi","lastIndex","test","unstyle","none","clear","noop","stripColor","symbols","process","isWindows","platform","isLinux","windows","bullet","check","cross","ellipsis","heart","info","line","middot","minus","plus","question","questionSmall","pointer","pointerSmall","warning","other","ballotCross","questionFull","enumerable","value","Text","props","languageType","useContext","LocaleContext","_useState","useState","_useState2","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","iconVisible","setIconVisible","keyboard","ItemContext","_useState3","_useState4","maxHeigth","setMaxHeigth","_useState5","_useState6","titleHeight","setTitleHeight","useEffect","bottom","window","screen","height","innerHeight","overlayList","changeFontHeight","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","_components_Popup__WEBPACK_IMPORTED_MODULE_4__","onVisibleChange","popupchange","renderOverlay","overlayProps","Ref","triggerRect","closePopup","onMouseDown","position","zIndex","backgroundColor","left","width","viewBox","fill","d","className","textAlign","borderBottom","display","goVis","onClick","goBack","fontFamily","current","fontWeight","fontSize","_components_Locale__WEBPACK_IMPORTED_MODULE_6__","overflowY","React","Children","item","isValidElement","cloneElement","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","src","require","formatArr","name_ja","name_en","popupVisible","setPopupVisible","marginLeft","_components_Locale__WEBPACK_IMPORTED_MODULE_5__","index","setAlign","key","lineHeight","visibility","align","colorList","listItemBtm","setListItemBtm","innerWidth","right","paddingTop","v","marginBottom","setFontColor","border","fontColor","colorImg","alt","top","overflow","fonts","TTGothicMB101-Light","TTGothicMB101-Bold","TTGothicMB101-Regular","NotoSansCJKjp-Bold","NotoSansCJKjp-Regular","NotoSansCJKjp-Thin","TTReim-Bold","TTReim-Light","TTReim-Regular","TTUDShinMGo-Bold","TTUDShinMGo-Regular","TTUDShinMGo-Light","UniqloPro-Bold","UniqloPro-Light","UniqloPro-Regular","loadedFont","loadFont","font","FontFace","indexOf","document","found","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__","values","find","face","family","getFontFace","load","then","textWidthPre","textHeightPre","lastTop","lastLeft","lastSelectionStart","lastSelectionEnd","injectImages","make","MakeContext","canvasSize","imageSize","areaStyle","canvasArea","deviceHeight","fontSizeOrigin","Math","floor","canvasRef","useRef","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","jiuVisible","setJiuVisible","rightArrowVis","setRightArrowVis","text1","setText","_useState7","_useState8","canvas","setCanvas","_useState9","_useState10","keyState","setKeyState","_useState11","_useState12","_useState13","_useState14","setFontFamily","_useState15","_useState16","setFontWeight","_useState17","_useState18","setFontSize","_useState19","_useState20","_useState21","_useState22","setGoVis","_useState23","_useState24","showStatus","setShowStatus","_useState25","_useState26","showTypeset","setShowTypeset","isAndroid","navigator","userAgent","_useState27","_useState28","alertModelVisible","setAlertModelVisible","_useState29","_useState30","fontHeight","setFontHeight","_useState31","_useState32","textPre","setTextPre","_useState33","_useState34","textPre2","setTextPre2","fontComponent","alignComponent","colorComponent","_useState35","size_ja","size_en","checked","_useState36","fontFamilyList","setFont","_useState37","weight","_useState38","fontWeightList","setFontWeightList","_useState39","_useState40","setOverlaylist","_useState41","_useState42","firstVisited","setFirstVisited","enterText","useCallback","preventDefault","isEditing","isMoving","_scaling","enterEditing","selectfont","index2","newFamilyList","forEach","newfontWeightList","data","react__WEBPACK_IMPORTED_MODULE_4___default","_remainTypeset","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","_context","prev","next","instruction","checkGlobalInstruction","constants","Text_Resize_Instruction","sent","setGlobalInstructionVisited","t0","stop","apply","arguments","cancelfocus","exitEditing","remainTypeset","rightArrow","invoke","getElementsByClassName","addEventListener","items","lock","lockRotation","lockMovementX","lockMovementY","lockScalingX","lockScalingY","lockUniScaling","lockSkewingX","lockSkewingY","lockScalingFlip","_savedProps","inCompositionMode","setSelectionStyles","compositionStart","selectionEnd","cursorColor","compositionColor","__isTransformed","setPositionByOrigin","fabric","Point","setCoords","renderAll","set","handleEditingChange","text","console","log","delta","selectionStart","backspace","inputType","newFontSize","width1","calcTextWidth","height1","calcTextHeight","newWidth","min","undefined","requestRenderAll","setTimeout","handleEditingEntered","hiddenTextarea","maxLength","cssText","handleEditingExited","handleTransformChange","handleSelectionChange","on","off","clip","clipPath","Rect","handleMouseDown","handleMouseUp","handleTouchCancel","can","upperCanvasEl","removeEventListener","t","t2","handleKeyBoardShow","_ref","_ref$data","offsetTop","setKeyboard","handleKeyBoardHide","touches","restartCursorIfNeeded","handleMouseDownBefore","_target","_activeObject","handleStateChange","_ref2","prevAppid","nextAppid","appid","Canvas","enableRetinaScaling","stopContextMenu","selection","selectionColor","Textbox","hasControls","hasBorders","originY","charSpacing","fixFabricSize","add","setActiveObject","center","checkInstruction","Text_Page_Instruction","visited","setZoom","setInstructionVisited","call","global","AppManager","appRouterEvent","clearTimeout","dispose","emojireg","change","_toDatalessJSON","_callee2","temporaryCanvas","imageData","toDataurl","_context2","getContext","getImageData","putImageData","toDataURL","imageTools","storeImageData","imageName","layers","to","params","itemModal","previousPage","stopPropagation","cancelDesign","rotate","scale","_setFontColorFu","_callee3","_context3","Fragment","onTouchStart","onTouchEnd","_navbar__WEBPACK_IMPORTED_MODULE_6__","page","revoke","_components_GoToNext__WEBPACK_IMPORTED_MODULE_29__","toDatalessJSON","preStamp","disabled","activeItem","target","keyboardGray","handleKeyboardTouchStart","keyboardBlack","handleKeyboardTouchEnd","keyboardWhite","_components_ViewPort__WEBPACK_IMPORTED_MODULE_22__","topLayer","mixData","noMultiply","pointerEvents","editArea","ref","_components_TypesetPrompt__WEBPACK_IMPORTED_MODULE_27__","moveIcon","resizeIcon","title","hideTypesetProps","_components_revoke__WEBPACK_IMPORTED_MODULE_24__","pageMark","show","setShow","status","marginTop","_components_Locale__WEBPACK_IMPORTED_MODULE_25__","deviceWidth","_toolbar__WEBPACK_IMPORTED_MODULE_30__","_components_Enlarge__WEBPACK_IMPORTED_MODULE_23__","_fontSelect__WEBPACK_IMPORTED_MODULE_19__","textele","overlay","h","_alignSelect__WEBPACK_IMPORTED_MODULE_20__","_selectColor__WEBPACK_IMPORTED_MODULE_21__","_x","_components_AlertModal__WEBPACK_IMPORTED_MODULE_33__","description","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","isAgainEdit","setIsAgainEdit","revokeDesign","param","react__WEBPACK_IMPORTED_MODULE_1___default","transition","rotateNormal","_components_Locale__WEBPACK_IMPORTED_MODULE_10__","returnNormal","padding","letterSpacing","_isAgainEdit__WEBPACK_IMPORTED_MODULE_8__","resetLayers","isAgainFu","GoToNext","InitializationThrottle","throttle","GotoMixIconDis","GotoMixIcon"],"mappings":"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","file":"static/js/13.072903dc.chunk.js","sourcesContent":["var map = {\n\t\"./centerAlign.svg\": 570,\n\t\"./leftAlign.svg\": 571,\n\t\"./rightAlign.svg\": 572\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1194;","'use strict';\n\nvar colors = {\n  enabled: true,\n  visible: true,\n  styles: {},\n  keys: {}\n};\n\nif ('FORCE_COLOR' in process.env) {\n  colors.enabled = process.env.FORCE_COLOR !== '0';\n}\n\nvar ansi = function ansi(style) {\n  style.open = \"\\x1B[\".concat(style.codes[0], \"m\");\n  style.close = \"\\x1B[\".concat(style.codes[1], \"m\");\n  style.regex = new RegExp(\"\\\\u001b\\\\[\".concat(style.codes[1], \"m\"), 'g');\n  return style;\n};\n\nvar wrap = function wrap(style, str, nl) {\n  var open = style.open,\n      close = style.close,\n      regex = style.regex;\n  str = open + (str.includes(close) ? str.replace(regex, close + open) : str) + close; // see https://github.com/chalk/chalk/pull/92, thanks to the\n  // chalk contributors for this fix. However, we've confirmed that\n  // this issue is also present in Windows terminals\n\n  return nl ? str.replace(/\\r?\\n/g, \"\".concat(close, \"$&\").concat(open)) : str;\n};\n\nvar style = function style(input, stack) {\n  if (input === '' || input == null) return '';\n  if (colors.enabled === false) return input;\n  if (colors.visible === false) return '';\n  var str = '' + input;\n  var nl = str.includes('\\n');\n  var n = stack.length;\n\n  while (n-- > 0) {\n    str = wrap(colors.styles[stack[n]], str, nl);\n  }\n\n  return str;\n};\n\nvar define = function define(name, codes, type) {\n  colors.styles[name] = ansi({\n    name: name,\n    codes: codes\n  });\n  var t = colors.keys[type] || (colors.keys[type] = []);\n  t.push(name);\n  Reflect.defineProperty(colors, name, {\n    get: function get() {\n      var color = function color(input) {\n        return style(input, color.stack);\n      };\n\n      Reflect.setPrototypeOf(color, colors);\n      color.stack = this.stack ? this.stack.concat(name) : [name];\n      return color;\n    }\n  });\n};\n\ndefine('reset', [0, 0], 'modifier');\ndefine('bold', [1, 22], 'modifier');\ndefine('dim', [2, 22], 'modifier');\ndefine('italic', [3, 23], 'modifier');\ndefine('underline', [4, 24], 'modifier');\ndefine('inverse', [7, 27], 'modifier');\ndefine('hidden', [8, 28], 'modifier');\ndefine('strikethrough', [9, 29], 'modifier');\ndefine('black', [30, 39], 'color');\ndefine('red', [31, 39], 'color');\ndefine('green', [32, 39], 'color');\ndefine('yellow', [33, 39], 'color');\ndefine('blue', [34, 39], 'color');\ndefine('magenta', [35, 39], 'color');\ndefine('cyan', [36, 39], 'color');\ndefine('white', [37, 39], 'color');\ndefine('gray', [90, 39], 'color');\ndefine('grey', [90, 39], 'color');\ndefine('bgBlack', [40, 49], 'bg');\ndefine('bgRed', [41, 49], 'bg');\ndefine('bgGreen', [42, 49], 'bg');\ndefine('bgYellow', [43, 49], 'bg');\ndefine('bgBlue', [44, 49], 'bg');\ndefine('bgMagenta', [45, 49], 'bg');\ndefine('bgCyan', [46, 49], 'bg');\ndefine('bgWhite', [47, 49], 'bg');\ndefine('blackBright', [90, 39], 'bright');\ndefine('redBright', [91, 39], 'bright');\ndefine('greenBright', [92, 39], 'bright');\ndefine('yellowBright', [93, 39], 'bright');\ndefine('blueBright', [94, 39], 'bright');\ndefine('magentaBright', [95, 39], 'bright');\ndefine('cyanBright', [96, 39], 'bright');\ndefine('whiteBright', [97, 39], 'bright');\ndefine('bgBlackBright', [100, 49], 'bgBright');\ndefine('bgRedBright', [101, 49], 'bgBright');\ndefine('bgGreenBright', [102, 49], 'bgBright');\ndefine('bgYellowBright', [103, 49], 'bgBright');\ndefine('bgBlueBright', [104, 49], 'bgBright');\ndefine('bgMagentaBright', [105, 49], 'bgBright');\ndefine('bgCyanBright', [106, 49], 'bgBright');\ndefine('bgWhiteBright', [107, 49], 'bgBright');\n/* eslint-disable no-control-regex */\n\nvar re = colors.ansiRegex = /\\u001b\\[\\d+m/gm;\n\ncolors.hasColor = colors.hasAnsi = function (str) {\n  re.lastIndex = 0;\n  return !!str && typeof str === 'string' && re.test(str);\n};\n\ncolors.unstyle = function (str) {\n  re.lastIndex = 0;\n  return typeof str === 'string' ? str.replace(re, '') : str;\n};\n\ncolors.none = colors.clear = colors.noop = function (str) {\n  return str;\n}; // no-op, for programmatic usage\n\n\ncolors.stripColor = colors.unstyle;\ncolors.symbols = require('./symbols');\ncolors.define = define;\nmodule.exports = colors;","'use strict';\n\nvar isWindows = process.platform === 'win32';\nvar isLinux = process.platform === 'linux';\nvar windows = {\n  bullet: '•',\n  check: '√',\n  cross: '×',\n  ellipsis: '...',\n  heart: '❤',\n  info: 'i',\n  line: '─',\n  middot: '·',\n  minus: '－',\n  plus: '＋',\n  question: '?',\n  questionSmall: '﹖',\n  pointer: '>',\n  pointerSmall: '»',\n  warning: '‼'\n};\nvar other = {\n  ballotCross: '✘',\n  bullet: '•',\n  check: '✔',\n  cross: '✖',\n  ellipsis: '…',\n  heart: '❤',\n  info: 'ℹ',\n  line: '─',\n  middot: '·',\n  minus: '－',\n  plus: '＋',\n  question: '?',\n  questionFull: '？',\n  questionSmall: '﹖',\n  pointer: isLinux ? '▸' : '❯',\n  pointerSmall: isLinux ? '‣' : '›',\n  warning: '⚠'\n};\nmodule.exports = isWindows ? windows : other;\nReflect.defineProperty(module.exports, 'windows', {\n  enumerable: false,\n  value: windows\n});\nReflect.defineProperty(module.exports, 'other', {\n  enumerable: false,\n  value: other\n});","import React, { useContext, useEffect, useState } from 'react';\nimport { Back_Normal } from '../../assets/Back_Normal.svg';\nimport Popup from '../../components/Popup';\nimport './textModel.css';\nimport Locale from '../../components/Locale';\nimport { ItemContext } from '../../contexts/ItemContext';\nimport { LocaleContext } from '../../contexts/LocaleContext';\nimport invoke from '../../utils/invoke'\n\nexport default function Text(props) {\n  const languageType = useContext(LocaleContext);\n  const [iconVisible, setIconVisible] = useState(false);\n  const { keyboard } = useContext(ItemContext);\n  const [maxHeigth, setMaxHeigth] = useState('100%')\n  const [titleHeight, setTitleHeight] = useState(56)\n\n  function goBack() {\n    props.goBack();\n  }\n\n  useEffect(()=>{\n    \n    // invoke(\"log\",'window.innerHeight'+window.innerHeight)\n    // invoke(\"log\",'window.screen.height'+window.screen.height)\n    // invoke(\"log\",'keyboard'+keyboard)\n    let bottom = props.platform ? 92 : keyboard - (window.screen.height - (window.screen.height>700&&window.innerHeight<700?716:window.innerHeight)) / 2 + 108;\n    if(props.platform){\n      if((window.innerHeight - bottom - 10)>(56*(props.overlayList.length+1))){\n        setMaxHeigth('100%')\n        props.changeFontHeight(56)\n        setTitleHeight(56)\n      }else{\n        if( 42 < ((window.innerHeight - bottom - 10)/(props.overlayList.length+1)) && ((window.innerHeight - bottom - 10 )/(props.overlayList.length+1)) < 56 ){\n          setMaxHeigth('100%')\n          props.changeFontHeight((window.innerHeight - bottom - 10)/(props.overlayList.length + 1 ))\n          setTitleHeight((window.innerHeight - bottom - 10)/(props.overlayList.length + 1 ))\n        }else{\n          setMaxHeigth(window.innerHeight - bottom - 10 - 42)\n          props.changeFontHeight(42)\n          setTitleHeight(42)\n        }\n      }\n    }\n    else{\n      // if((window.screen.height - bottom - 30 - 56)>(56*props.overlayList.length)){\n      //   setMaxHeigth('100%')\n      // }else{\n      //   setMaxHeigth(window.screen.height - bottom - 30 - 56)\n      // }\n      if ((window.screen.height - bottom - 10) > ( 56 * (props.overlayList.length+1))){\n        setMaxHeigth('100%')\n        props.changeFontHeight(56)\n        setTitleHeight(56)\n      }else{\n        if( 42 < ((window.screen.height - bottom - 10)/(props.overlayList.length+1)) && ((window.screen.height - bottom - 10)/(props.overlayList.length+1)) < 56 ){\n          setMaxHeigth('100%')\n          props.changeFontHeight((window.screen.height - bottom - 10)/(props.overlayList.length + 1))\n          setTitleHeight((window.screen.height - bottom - 10)/(props.overlayList.length + 1))\n        }else{\n          setMaxHeigth(window.screen.height - bottom - 10 - 42)\n          props.changeFontHeight(42)\n          setTitleHeight(42)\n        }\n      }\n      // setMaxHeigth(window.screen.height - bottom - 30 - 56)\n    }\n  },[window.innerHeight,window.screen.height,keyboard,props])\n\n  return (\n    <Popup\n      onVisibleChange={(e) => {\n        props.popupchange(e);\n      }}\n      renderOverlay={(overlayProps) => {\n        // console.log(overlayProps)\n        props.Ref(overlayProps)\n        const { triggerRect, closePopup, visible } = overlayProps\n        setIconVisible(visible);\n        if (!triggerRect) return <div />;\n        const { keyboard } = useContext(ItemContext);\n        // let bottom = window.innerHeight - triggerRect.top + 10\n        let bottom = props.platform ? 92 : keyboard - (window.screen.height - (window.screen.height>700&&window.innerHeight<700?716:window.innerHeight)) / 2 + 108;\n        // if (!props.textele.isEditing) {\n        //   bottom = keyboard + 60\n        // } else {\n        //   bottom = window.innerHeight - triggerRect.top + 10 + 250\n        // }\n        // console.log(triggerRect)\n        // if (!props.textele.isEditing) {\n        // } else {\n        // bottom = window.innerHeight - triggerRect.top + 10 + 250\n        // }\n        return (\n          <div onMouseDown={props.onMouseDown}\n            style={{ position: 'fixed', zIndex: '11', backgroundColor: '#FFF', left: 0, width: window.screen.width, bottom }}>\n            {/* 三角形 */}\n            <div style={{ position: 'absolute', bottom: -26, left: 26 }}>\n              <svg width='30' height='24' viewBox='0 0 30 24'>\n                <path\n                  fill='#fff'\n                  d='M30 0 L15 20 L 0 0 z'\n                />\n              </svg>\n            </div>\n            <div className='title' style={{ height: titleHeight, width: '100%', textAlign: 'center', borderBottom: '1px solid #dadada' }}>\n              <span className='backArrow' style={{ display: props.goVis ? 'initial' : 'none' }} onClick={() => goBack()} />\n              <span className='childItem-span' style={{\n                fontFamily: languageType.current === 'ja' ? 'NotoSansCJKjp-Bold' : 'initial',\n                fontWeight: languageType.current === 'ja' ? 'initial' : 'bold',\n                fontSize: languageType.current === 'ja' ? '17px' : '20px',\n              }}>\n                {\n                  props.goVis ? <Locale code='make.text.weightSelect.title' /> : <Locale code='make.text.fontSelect.title' />\n                }\n              </span>\n            </div>\n            <div style={{width:'100%',height:maxHeigth,overflowY:'auto'}}>\n              {props.goVis ? React.Children.map(props.overlayList, (item) => {\n                if (React.isValidElement(item)) {\n                  return React.cloneElement(\n                    item, {\n                      onClick: (e) => {\n                        item.props.onClick && item.props.onClick(e);\n                        closePopup();\n                      },\n                    },\n                  );\n                } else {\n                  return item;\n                }\n              })\n              : props.overlayList}\n            </div>\n            \n          </div>\n        );\n      }}\n    >\n      <div className='textfubar' style={{ zIndex: iconVisible ? 12 : 0, ...props.style }}>\n        <img width={50} height={50} src={require('../../assets/font-normal.svg')} />\n      </div>\n    </Popup>\n  );\n}\n","import React, { useContext, useEffect, useState } from 'react';\nimport check from '../../assets/check.png';\nimport Popup from '../../components/Popup';\nimport Locale from '../../components/Locale';\nimport './textModel.css';\nimport { ItemContext } from '../../contexts/ItemContext';\nimport { LocaleContext } from '../../contexts/LocaleContext';\n\nconst formatArr = [\n  { name_ja: '左揃え', name_en: 'Left', value: 'left' },\n  { name_ja: '左右中央揃え', name_en: 'Center', value: 'center' },\n  { name_ja: '右揃え', name_en: 'Right', value: 'right' }];\n\nexport default function Text(props) {\n  const languageType = useContext(LocaleContext)\n  const { keyboard } = useContext(ItemContext)\n  const [popupVisible, setPopupVisible] = useState(false)\n  const [maxHeigth, setMaxHeigth] = useState('100%')\n  const [titleHeight, setTitleHeight] = useState(56)\n\n  useEffect(()=>{\n    \n    // invoke(\"log\",'window.innerHeight'+window.innerHeight)\n    // invoke(\"log\",'window.screen.height'+window.screen.height)\n    // invoke(\"log\",'keyboard'+keyboard)\n    let bottom = props.platform ? 92 : keyboard - (window.screen.height - (window.screen.height>700&&window.innerHeight<700?716:window.innerHeight)) / 2 + 108;\n    if(props.platform){\n      if((window.innerHeight - bottom - 10)>(56*4)){\n        setMaxHeigth('100%')\n        // props.changeFontHeight(56)\n        setTitleHeight(56)\n      }else{\n        if( 42 < ((window.innerHeight - bottom - 10)/4) && ((window.innerHeight - bottom - 10 )/4) < 56 ){\n          setMaxHeigth('100%')\n          // props.changeFontHeight((window.innerHeight - bottom - 30)/4)\n          setTitleHeight((window.innerHeight - bottom - 10)/4)\n        }else{\n          setMaxHeigth(window.innerHeight - bottom - 10 - 42)\n          // props.changeFontHeight(42)\n          setTitleHeight(42)\n        }\n      }\n    }\n    else{\n      // if((window.screen.height - bottom - 30 - 56)>(56*props.overlayList.length)){\n      //   setMaxHeigth('100%')\n      // }else{\n      //   setMaxHeigth(window.screen.height - bottom - 30 - 56)\n      // }\n      if ((window.screen.height - bottom - 10) > ( 56 * 4)){\n        setMaxHeigth('100%')\n        // props.changeFontHeight(56)\n        setTitleHeight(56)\n      }else{\n        if( 42 < ((window.screen.height - bottom - 10)/4) && ((window.screen.height - bottom - 10)/4) < 56 ){\n          setMaxHeigth('100%')\n          // props.changeFontHeight((window.screen.height - bottom - 30)/4)\n          setTitleHeight((window.screen.height - bottom - 10)/4)\n        }else{\n          setMaxHeigth(window.screen.height - bottom - 10 - 42)\n          // props.changeFontHeight(42)\n          setTitleHeight(42)\n        }\n      }\n      // setMaxHeigth(window.screen.height - bottom - 30 - 56)\n    }\n  },[window.innerHeight,window.screen.height,keyboard,props])\n\n  return (\n    <Popup\n      renderOverlay={(overlayProps) => {\n        // console.log(overlayProps)\n        props.Ref(overlayProps)\n        const { triggerRect, closePopup, visible } = overlayProps;\n        setPopupVisible(visible);\n\n        if (!triggerRect) return <div />;\n        const { keyboard } = useContext(ItemContext);\n        let bottom = 0;\n        // if (!props.textele.isEditing) {\n        bottom = props.platform ? 92 : keyboard - (window.screen.height - (window.screen.height>700&&window.innerHeight<700?716:window.innerHeight)) / 2 + 108;\n        // } else {\n        //   bottom = window.innerHeight - triggerRect.top + 10 + 250\n        // }\n        return (\n          <div style={{ position: 'fixed', zIndex: '11', backgroundColor: '#FFF', width: window.screen.width, bottom }}>\n            {/* 三角形 */}\n            <div style={{ position: 'absolute', bottom: -26, left: '50%', marginLeft: -15 }}>\n              <svg width='30' height='24' viewBox='0 0 30 24'>\n                <path\n                  fill='#fff'\n                  d='M30 0 L15 20 L 0 0 z'\n                />\n              </svg>\n            </div>\n            <div className='title' style={{ height: titleHeight, width: '100%', textAlign: 'center', borderBottom: '1px solid #dadada' }}>\n              <span className='childItem-span' style={{\n                fontFamily: languageType.current === 'ja' ? 'NotoSansCJKjp-Bold' : 'initial',\n                fontWeight: languageType.current === 'ja' ? 'initial' : 'bold',\n                fontSize: languageType.current === 'ja' ? '17px' : '20px',\n              }}>\n                <Locale code='make.text.alignSelect.title' />\n              </span>\n            </div>\n            <div style={{width:'100%',height:maxHeigth,overflowY:'auto'}}>\n              {formatArr.map((item, index) => {\n                return (\n                  <div className='fontSelectBox' style={{ height: titleHeight }} onClick={() => (props.setAlign(item.value), closePopup())} key={item.name_en} value={item.name_en}>\n                    <img src={require(`../../assets/${item.value}Align.svg`)} width={28} height={28} />\n                    <div className='itemContent' style={{ lineHeight: '56px' }}>\n                      <span className='childItem-span' style={{\n                        fontFamily: languageType.current === 'ja' ? 'NotoSansCJKjp-Bold' : 'initial',\n                        fontWeight: languageType.current === 'ja' ? 'initial' : 'bold',\n                        fontSize: languageType.current === 'ja' ? '17px' : '20px',\n                      }}>\n                        {languageType.current === 'ja' ? item.name_ja : item.name_en}\n                      </span>\n                    </div>\n                    <img width={24} height={24} src={check} style={{ visibility: item.value === props.align ? 'visible' : 'hidden' }} />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        );\n      }}\n    >\n      <div className='textfubar2' style={{ zIndex: popupVisible ? 12 : 0, ...props.style }}>\n        <img src={require(`../../assets/${props.align}Align.svg`)} width={28} height={28} />\n      </div>\n    </Popup>\n  );\n}\n","import React, { useContext, useState, useEffect } from 'react';\nimport { MakeContext } from '../MakeContext';\nimport Popup from '../../components/Popup';\nimport colorImg from '../../assets/color.svg';// 选择颜色\nimport Locale from '../../components/Locale';\nimport './textModel.css';\nimport { ItemContext } from '../../contexts/ItemContext';\nimport { LocaleContext } from '../../contexts/LocaleContext';\nimport invoke from '../../utils/invoke'\n\nconst colorList = [\n  '#000000', '#666666', '#BFBFBF', '#FFFFFF', '#CC2B24', '#E48F33', '#CDBE9F',\n  '#FCEF4E', '#BDE370', '#4F972A', '#9ADCEB', '#3B86C8', '#48369F', '#F4BEEE', '#ED6FA2',\n];\n\nexport default function Text(props) {\n  const languageType = useContext(LocaleContext);\n  const [iconVisible, setIconVisible] = useState(false);\n  const { keyboard } = useContext(ItemContext);\n  const [maxHeigth, setMaxHeigth] = useState('100%')\n  const [listItemBtm, setListItemBtm] = useState(32)\n  useEffect(()=>{\n    // if(((window.innerWidth / (375 / 31))*3+56+30+24+26+50)>(window.screen.height - keyboard)){\n    //   setMaxHeigth((window.screen.height - keyboard-(56+30+24+26+100)))\n    // }\n    // else{\n    //   setMaxHeigth(\"100%\")\n    // }\n    let bottom = props.platform ? 92 : keyboard - (window.screen.height - (window.screen.height>700&&window.innerHeight<700?716:window.innerHeight)) / 2 + 108;\n    // setMaxHeigth(window.innerHeight - bottom - 30 - 56)\n    // if(props.platform){\n    //   setMaxHeigth(window.innerHeight - bottom - 30 - 56)\n    // }\n    // else{\n    //   setMaxHeigth(window.screen.height - bottom - 30 - 56)\n    // }\n    if(props.platform){\n      if((window.innerHeight - bottom - 10 - 56)>(3*(window.innerWidth / (375 / 31)+32)+35)){\n        setMaxHeigth('100%')\n        setListItemBtm(32)\n      }else{\n        setMaxHeigth(window.innerHeight - bottom - 10 - 56)\n        if((window.innerHeight - bottom - 10 - 56)<210){\n          setListItemBtm(17)\n        }else{\n          setListItemBtm(32)\n        }\n      }\n    }\n    else{\n      if((window.screen.height - bottom - 10 - 56)>(3*(window.innerWidth / (375 / 31)+32)+35)){\n        setMaxHeigth('100%')\n        setListItemBtm(32)\n      }else{\n        setMaxHeigth(window.screen.height - bottom - 10 - 56)\n        if((window.screen.height - bottom - 10 - 56)<210){\n          setListItemBtm(17)\n        }else{\n          setListItemBtm(32)\n        }\n      }\n      // setMaxHeigth(window.screen.height - bottom - 30 - 56)\n    }\n  },[window.innerHeight,window.screen.height,keyboard])\n\n  return (\n    <Popup\n      renderOverlay={(overlayProps) => {\n        props.Ref(overlayProps)\n        const { triggerRect, closePopup, visible } = overlayProps\n        setIconVisible(visible);\n        if (!triggerRect) return <div />;\n        const { keyboard } = useContext(ItemContext);\n        let bottom = 0;\n        // text1.enterEditing()\n        // if (!props.textele.isEditing) {\n        bottom = props.platform ? 92 : keyboard - (window.screen.height - (window.screen.height>700&&window.innerHeight<700?716:window.innerHeight)) / 2 + 108;\n        // } else {\n        //   bottom = window.innerHeight - triggerRect.top + 10 + 250\n        // }\n        return (\n          <div style={{ position: 'fixed', zIndex: '11', backgroundColor: '#FFF', width: window.screen.width, bottom }}>\n            {/* 三角形 */}\n            <div style={{ position: 'absolute', bottom: -26, right: 26 }}>\n              <svg width='30' height='24' viewBox='0 0 30 24'>\n                <path\n                  fill='#fff'\n                  d='M30 0 L15 20 L 0 0 z'\n                />\n              </svg>\n            </div>\n            <div className='title' style={{ height: 56, width: '100%', textAlign: 'center', borderBottom: '1px solid #dadada' }}>\n              <span className='childItem-span' style={{\n                fontFamily: languageType.current === 'ja' ? 'NotoSansCJKjp-Bold' : 'initial',\n                fontWeight: languageType.current === 'ja' ? 'initial' : 'bold',\n                fontSize: languageType.current === 'ja' ? '17px' : '20px',\n              }}>\n                <Locale code='make.text.selectColor.title' />\n              </span>\n            </div>\n            <div style={{height: maxHeigth, overflowY:'hidden'}}>\n              <ul className='colorList' style={{paddingTop:maxHeigth<=150?13:32}}>\n                {colorList.map((v) => (\n                  <li\n                    style={{ width: window.innerWidth / (375 / 31), height: window.innerWidth / (375 / 31), marginBottom: listItemBtm }} key={v} onClick={() => {\n                    props.setFontColor(v);\n                    closePopup();\n                  }}>\n                    <div style={{\n                      width: window.innerWidth / 15,\n                      height: window.innerWidth / 15,\n                      backgroundColor: `${v}`,\n                      border: `${window.innerWidth / 375}px solid ${v === '#FFFFFF' ? '#CACACA' : v}`,\n                    }} className='childModel' />\n                    <div className={`${props.fontColor === v ? 'colorActive' : ''}`}\n                      style={{\n                        width: window.innerWidth / (375 / 31),\n                        height: window.innerWidth / (375 / 31),\n                        border: `2px solid ${v === '#FFFFFF' ? '#CACACA' : v}`,\n                        display: 'none',\n                      }} />\n                  </li>\n                ))}\n              </ul>\n            </div>\n            \n          </div>\n        );\n      }}\n    >\n      <div style={{ zIndex: iconVisible ? 12 : 0, ...props.style }} className='textfubar3'>\n        <img src={colorImg} width={50} height={50} alt='选取颜色图标' />\n      </div>\n    </Popup>\n  );\n}\n","import React, { useCallback, useContext, useEffect, useRef, useState } from 'react'\nimport { MakeContext } from '../MakeContext'\nimport Navbar from '../navbar'\nimport { fabric } from '../../utils/fabric'\nimport { black, visible } from 'ansi-colors'\nimport rightArrow from '../../assets/Arrow.svg'\nimport check from '../../assets/check.png'\nimport keyboardGray from '../../assets/keyboard/keyboard_pressed_black.svg'\nimport keyboardBlack from '../../assets/keyboard/keyboard_normal_black.svg'\nimport keyboardWhite from '../../assets/keyboard/keyboard_normal_white.svg'\nimport { ItemContext } from '../../contexts/ItemContext'\nimport invoke from '../../utils/invoke'\nimport instruction from '../../utils/instruction'\nimport constants from '../../constants/instruction'\nimport './textModel.css'\nimport FontSelect from './fontSelect'\nimport AlignSelect from './alignSelect'\nimport SelectColor from './selectColor'\nimport ViewPort from '../../components/ViewPort'\nimport Enlarge from '../../components/Enlarge'\nimport RevokeComponent from '../../components/revoke'\nimport Locale from '../../components/Locale'\nimport { LocaleContext } from '../../contexts/LocaleContext'\nimport TypesetPrompt from '../../components/TypesetPrompt'\nimport editArea from '../../assets/editArea.png'\nimport GoToNext from '../../components/GoToNext'\nimport Toolbar from '../toolbar'\nimport injectImages from '../../hoc/injectImages'\nimport fixFabricSize from '../../utils/fixFabricSize'\nimport AlertModal from '../../components/AlertModal'\nimport imageTools from '../../utils/imageTools'\n\nconst style = {\n  position: 'fixed',\n  left: 0,\n  right: 0,\n  bottom: 0,\n  top: 0,\n  overflow: 'hidden'\n}\nrequire('./text.css')\n\nconst fonts = {\n  'TTGothicMB101-Light': './fonts/TTGothicMB101-Light.ttf',\n  'TTGothicMB101-Bold': './fonts/TTGothicMB101-Bold.ttf',\n  'TTGothicMB101-Regular': './fonts/TTGothicMB101-Regular.ttf',\n  'NotoSansCJKjp-Bold': './fonts/NotoSansCJKjp-Bold.otf',\n  'NotoSansCJKjp-Regular': './fonts/NotoSansCJKjp-Regular.otf',\n  'NotoSansCJKjp-Thin': './fonts/NotoSansCJKjp-Thin.otf',\n  'TTReim-Bold': './fonts/TTReim-Bold.ttf',\n  'TTReim-Light': './fonts/TTReim-Light.ttf',\n  'TTReim-Regular': './fonts/TTReim-Regular.ttf',\n  'TTUDShinMGo-Bold': './fonts/TTUDShinMGo-Bold.ttf',\n  'TTUDShinMGo-Regular': './fonts/TTUDShinMGo-Regular.ttf',\n  'TTUDShinMGo-Light': './fonts/TTUDShinMGo-Light.ttf',\n  'UniqloPro-Bold': './fonts/UniqloPro-Bold.otf',\n  'UniqloPro-Light': './fonts/UniqloPro-Light.otf',\n  'UniqloPro-Regular': './fonts/UniqloPro-Regular.otf'\n}\n\nconst loadedFont = []\n\nfunction getFontFace (font) {\n  if (document.fonts) {\n    const found = [...document.fonts.values()].find(face => face.family === font)\n    if (found) {\n      return found\n    }\n  }\n  return new FontFace(font, `url('${fonts[font]}')`)\n}\n\nfunction loadFont (font) {\n  if (typeof FontFace !== 'undefined' && loadedFont.indexOf(font) === -1) {\n    getFontFace(font).load().then(() => {\n      loadedFont.push(font)\n    })\n  }\n}\n\nfunction getPlatform () {\n  return navigator.userAgent.indexOf('Android') > -1 || navigator.userAgent.indexOf('Adr') > -1\n}\n\nlet textWidthPre = 0\nlet textHeightPre = 0\nlet lastTop = 0\nlet lastLeft = 0\nlet lastSelectionStart = 0\nlet lastSelectionEnd = 0\n\nfunction Text (props) {\n  const make = useContext(MakeContext)\n  const item = useContext(ItemContext)\n  const { canvasSize, imageSize, areaStyle, canvasArea, deviceHeight } = item\n  const fontSizeOrigin = Math.floor(canvasArea.height * 0.8)\n  const alignOrigin = 'center'\n  const fontFamilyOrigin = 'UniqloPro'\n  const fontWeightOrigin = 'Bold'\n  const fontColorOrigin = '#000000'\n  const languageType = useContext(LocaleContext)\n  const canvasRef = useRef()\n  const [jiuVisible, setJiuVisible] = useState(false)\n  const [rightArrowVis, setRightArrowVis] = useState(true)\n  const [text1, setText] = useState()\n  const [canvas, setCanvas] = useState()\n  const [keyState, setKeyState] = useState(false)\n  const [fontColor, setFontColor] = useState(fontColorOrigin)\n  const [fontFamily, setFontFamily] = useState(fontFamilyOrigin)\n  const [fontWeight, setFontWeight] = useState(fontWeightOrigin)\n  const [fontSize, setFontSize] = useState(fontSizeOrigin)\n  const [align, setAlign] = useState(alignOrigin)\n  const [goVis, setGoVis] = useState(false)\n  const [showStatus, setShowStatus] = useState(false)\n  const [showTypeset, setShowTypeset] = useState(false)\n  const isAndroid = getPlatform()\n  const [alertModelVisible, setAlertModelVisible] = useState(false)\n  // const [alertTextError, setAlertTextError] = useState(false)\n  const [fontHeight, setFontHeight] = useState(56)\n  const [textPre, setTextPre] = useState('')\n  const [textPre2, setTextPre2] = useState('')\n  const fontComponent = useRef(null)\n  const alignComponent = useRef(null)\n  const colorComponent = useRef(null)\n\n  const [fontFamilyList, setFont] = useState([\n    {\n      name_en: 'Gothic',\n      value: 'TTGothicMB101-Bold',\n      name_ja: 'ゴシック',\n      size_ja: 17,\n      size_en: 20,\n      checked: false\n    },\n    {\n      name_en: 'Rounded',\n      value: 'TTUDShinMGo-Bold',\n      name_ja: '丸ゴシック',\n      size_ja: 17,\n      size_en: 20,\n      checked: false\n    }, {\n      name_en: 'Mincho',\n      value: 'TTReim-Bold',\n      name_ja: '明朝体',\n      size_ja: 17,\n      size_en: 20,\n      checked: false\n    }, {\n      name_en: 'ENGLISH',\n      value: 'UniqloPro-Bold',\n      name_ja: 'ENGLISH',\n      size_ja: 20,\n      size_en: 20,\n      checked: true\n    }\n  ])\n  const [fontWeightList, setFontWeightList] = useState([\n    { name_ja: 'ほそい', name_en: 'Thin', checked: false, value: 'Light', weight: 300 },\n    { name_ja: 'ふつう', name_en: 'Regular', checked: false, value: 'Regular', weight: 'normal' },\n    { name_ja: 'ふとい', name_en: 'Bold', checked: true, value: 'Bold', weight: 'bold' }])\n  const [overlayList, setOverlaylist] = useState([])\n  const [firstVisited, setFirstVisited] = useState('')\n  const enterText = useCallback((e) => {\n    if (!isAndroid) {\n      e.preventDefault()\n    }\n    if (text1 && !text1.isEditing && !text1.isMoving && !text1._scaling) {\n      // invoke('log', 'enterText');\n      text1.enterEditing()\n    }\n  }, [text1])\n\n  useEffect(() => {\n    if (isAndroid) {\n      invoke('clickScreenCenter', {})\n    }\n    // if(!goVis){\n    //   setOverlaylist(fontFamilyList.map((item, index) => {\n    //     return (\n    //       <div className='fontSelectBox' style={{ height: fontHeight }} onClick={() => selectfont(item, index, '0')} key={item.name_en} value={item.name_en}>\n    //         <img width={24} height={24} src={check} style={{ visibility: item.checked ? 'visible' : 'hidden' }} />\n    //         <div className='itemContent' style={{ lineHeight: `${fontHeight}px` }}>\n    //           <span className='childItem-span' style={{\n    //             fontFamily: item.value,\n    //             fontSize: languageType.current === 'ja' ? item.size_ja : item.size_en\n    //           }}>\n    //             {languageType.current === 'ja' ? item.name_ja : item.name_en}\n    //           </span>\n    //         </div>\n    //         <img width={24} height={24} src={rightArrow} />\n    //       </div>\n    //     )\n    //   }))\n    // }\n    const viewport = document.getElementsByClassName('wrapBox')[0]\n    // console.log(viewport, 'contextm');\n    viewport.addEventListener('contextmenu', function (e) {\n      // console.log(e, 'contextm');\n      e.preventDefault()\n    }, false)\n    invoke('getTextColor').then(items => {\n      setFontColor(items)\n    })\n  }, [])\n  useEffect(() => {\n    const lock = !textPre2 || keyState\n    if (text1) {\n      text1.lockRotation = lock\n      text1.lockMovementX = lock\n      text1.lockMovementY = lock\n      text1.lockScalingX = lock\n      text1.lockScalingY = lock\n      text1.lockUniScaling = lock\n      text1.lockSkewingX = lock\n      text1.lockSkewingY = lock\n      text1.lockScalingFlip = lock\n      const { _savedProps } = text1\n      if (_savedProps) {\n        _savedProps.lockMovementX = lock\n        _savedProps.lockMovementY = lock\n      }\n    }\n  }, [canvas, text1, textPre2, keyState])\n\n  useEffect(() => {\n    if (!goVis) {\n      setOverlaylist(fontFamilyList.map((item, index) => {\n        return (\n          <div className='fontSelectBox'\n            style={{ height: fontHeight }}\n            onClick={() => selectfont(item, index, '0')}\n            key={item.name_en}\n            value={item.name_en}>\n            <img width={24} height={24} src={check} style={{ visibility: item.checked ? 'visible' : 'hidden' }} />\n            <div className='itemContent' style={{ lineHeight: `${fontHeight}px` }}>\n              <span className='childItem-span' style={{\n                fontFamily: item.value,\n                fontSize: languageType.current === 'ja' ? item.size_ja : item.size_en\n              }}>\n                {languageType.current === 'ja' ? item.name_ja : item.name_en}\n              </span>\n            </div>\n            <img width={24} height={24} src={rightArrow} />\n          </div>\n        )\n      }))\n    }\n  }, [fontHeight, goVis])\n  // 颜色数组\n  useEffect(() => {\n    if (canvas && text1) {\n      const { width, left, top } = canvasArea\n      if (text1.inCompositionMode) {\n        text1.setSelectionStyles({\n          fill: fontColor,\n          fontFamily: `${fontFamily}-${fontWeight}`\n        }, text1.compositionStart, text1.selectionEnd)\n      }\n      loadFont(`${fontFamily}-${fontWeight}`)\n      text1.fontSize = fontSize\n      text1.cursorColor = fontColor\n      text1.compositionColor = fontColor\n      text1.textAlign = align\n      if (!text1.__isTransformed) {\n        if (align === 'center') {\n          text1.setPositionByOrigin(new fabric.Point(left + width / 2, top), 'center', 'top')\n          text1.setCoords()\n        } else if (align === 'left') {\n          text1.setPositionByOrigin(new fabric.Point(left, top), 'left', 'top')\n          text1.setCoords()\n        } else {\n          text1.setPositionByOrigin(new fabric.Point(left + width, top), 'right', 'top')\n          text1.setCoords()\n        }\n      }\n      canvas.renderAll()\n    }\n  }, [canvas, canvasArea, canvasSize, text1, align, fontSize, fontColor, fontFamily, fontWeight])\n\n  useEffect(() => {\n    if (text1 && text1.__isTransformed) {\n      // invoke('log', (lastLeft + canvasArea.left) + ',' + (lastTop + canvasArea.top));\n      text1.set({\n        left: text1.left - lastLeft + canvasArea.left,\n        top: text1.top - lastTop + canvasArea.top\n      }).setCoords()\n    }\n    lastTop = canvasArea.top\n    lastLeft = canvasArea.left\n  }, [text1, canvasArea, canvasSize])\n\n  useEffect(() => {\n    if (!keyState) {\n      colorComponent.current.closePopup()\n      fontComponent.current.closePopup()\n      alignComponent.current.closePopup()\n    }\n    if (text1) {\n      function handleEditingChange (e) {\n        const { text } = text1\n        console.log('fontComponent')\n        console.log(fontComponent)\n        if (fontComponent.current.visible) {\n          fontComponent.current.closePopup()\n        }\n        if (alignComponent.current.visible) {\n          alignComponent.current.closePopup()\n        }\n        if (colorComponent.current.visible) {\n          colorComponent.current.closePopup()\n        }\n        if (!isAndroid && text1.inCompositionMode && text === textPre) {\n          return\n        }\n        const delta = text.length - textPre.length\n        text1.setSelectionStyles({\n          fill: fontColor,\n          fontFamily: `${fontFamily}-${fontWeight}`\n        }, text1.selectionStart - delta, text1.selectionEnd)\n        const { width, height } = canvasArea\n        const backspace = (!e.inputType || e.inputType !== 'insertFromComposition') && textPre2.length > text.length\n        if (text1.text !== '') {\n          setRightArrowVis(false)\n        } else {\n          setRightArrowVis(true)\n        }\n        let width1 = text1.calcTextWidth()\n        let height1 = text1.calcTextHeight()\n        let newFontSize\n        if (!backspace) {\n          if (width < width1) { // 当宽超出编辑区域，字体缩小\n            newFontSize = Math.floor(width / width1 * fontSize)\n          } else if (height < height1) {\n            newFontSize = Math.floor(height / height1 * fontSize)\n          }\n        } else {\n          if (width1 > 0) {\n            if (textHeightPre > height1) {\n              newFontSize = Math.min(Math.floor(height / height1 * fontSize), fontSizeOrigin)\n              const newWidth = width1 * newFontSize / fontSize\n              if (width < newWidth) {\n                newFontSize = Math.floor(width / newWidth * newFontSize)\n              }\n            } else if (textWidthPre > width1) {\n              newFontSize = Math.min(Math.floor(width / width1 * fontSize), fontSizeOrigin)\n              if (newFontSize / fontSize * height1 > height) {\n                newFontSize = undefined\n              }\n            }\n          } else {\n            newFontSize = fontSizeOrigin\n          }\n        }\n        // 对于修改后的字体，如果整体文本的高度超过编辑区域，需要重新计算文字大小，保证文本在宽度和高度都在编辑区域内\n        if (newFontSize) {\n          setFontSize(newFontSize)\n        }\n        textWidthPre = width1\n        textHeightPre = height1\n        canvas.requestRenderAll()\n        setTimeout(function () {\n          if (!text1.inCompositionMode) {\n            setTextPre(text)\n            // textPre = text;\n          }\n          setTextPre2(text)\n          // textPre2 = text;\n        }, 0)\n      }\n\n      function handleEditingEntered () {\n        setKeyState(true)\n        text1.lockRotation = true\n        text1.lockScalingX = true\n        text1.lockScalingY = true\n        if (text1.hiddenTextarea) {\n          text1.hiddenTextarea.maxLength = 1000\n          if (!isAndroid) {\n            text1.hiddenTextarea.style.cssText += 'text-indent: -999em;margin-left: -100%;'\n          }\n        }\n      }\n\n      function handleEditingExited () {\n        setKeyState(false)\n        const lock = !textPre2\n        text1.lockRotation = lock\n        text1.lockScalingX = lock\n        text1.lockScalingY = lock\n      }\n\n      function handleTransformChange () {\n        text1.__isTransformed = true\n      }\n\n      function handleSelectionChange () {\n        if (text1.selectionStart !== text1.selectionEnd) {\n          if (text1.selectionStart !== lastSelectionStart) {\n            text1.selectionEnd = text1.selectionStart\n          } else if (text1.selectionEnd !== lastSelectionEnd) {\n            text1.selectionStart = text1.selectionEnd\n          }\n        }\n        lastSelectionStart = text1.selectionStart\n        lastSelectionEnd = text1.selectionEnd\n      }\n\n      text1.on('changed', handleEditingChange)\n      text1.on('editing:entered', handleEditingEntered)\n      text1.on('editing:exited', handleEditingExited)\n      text1.on('rotating', handleTransformChange)\n      text1.on('moved', handleTransformChange)\n      text1.on('scaling', handleTransformChange)\n      text1.on('selection:changed', handleSelectionChange)\n      return () => {\n        text1.off('changed', handleEditingChange)\n        text1.off('editing:entered', handleEditingEntered)\n        text1.off('editing:exited', handleEditingExited)\n        text1.off('rotating', handleTransformChange)\n        text1.off('moved', handleTransformChange)\n        text1.off('scaling', handleTransformChange)\n        text1.off('selection:changed', handleSelectionChange)\n      }\n    }\n  }, [canvas, text1, canvasArea, fontSize, fontColor, fontFamily, fontWeight, keyState, textPre, textPre2])\n\n  useEffect(() => {\n    if (canvas && text1) {\n      const { width, height, top, left } = canvasArea\n\n      function clip () {\n        const clipPath = new fabric.Rect({ width, height, top, left })\n        canvas.clipPath = clipPath\n        canvas.renderAll()\n      }\n\n      function handleMouseDown (e) {\n        if (!text1.isEditing) {\n          const clipPath = new fabric.Rect({ width: canvasSize, height: canvasSize, top: 0, left: 0 })\n          canvas.clipPath = clipPath\n          canvas.renderAll()\n        }\n      }\n\n      function handleMouseUp () {\n        if (!text1.isEditing) {\n          clip()\n        }\n      }\n\n      function handleTouchCancel () {\n        setJiuVisible(false)\n      }\n\n      clip()\n      const can = canvas.upperCanvasEl\n      can.addEventListener('touchstart', handleMouseDown, false)\n      can.addEventListener('touchend', handleMouseUp, false)\n      can.addEventListener('touchcancel', handleTouchCancel, false)\n      return () => {\n        can.removeEventListener('touchstart', handleMouseDown, false)\n        can.removeEventListener('touchend', handleMouseUp, false)\n        can.removeEventListener('touchcancel', handleTouchCancel, false)\n      }\n    }\n  }, [canvas, text1, canvasArea, canvasSize])\n\n  useEffect(() => {\n    const { current } = canvasRef\n    if (current) {\n      const canvas = new fabric.Canvas(current, {\n        enableRetinaScaling: false,\n        stopContextMenu: false,\n        selection: false,\n        selectionColor: 'transparent'\n      })\n      const text1 = new fabric.Textbox('', {\n        lineHeight: 1,\n        width: canvasArea.width,\n        fontSize: fontSizeOrigin,\n        height: canvasArea.height,\n        textAlign: alignOrigin,\n        hasControls: false,\n        hasBorders: false,\n        originY: 'top',\n        isEditing: false,\n        charSpacing: 50\n      })\n      fixFabricSize(canvas, imageSize, imageSize)\n      canvas.add(text1).setActiveObject(text1)\n      text1.center()\n      setCanvas(canvas)\n      setText(text1)\n      let t\n      let t2\n      instruction.checkInstruction(constants.Text_Page_Instruction).then((visited) => {\n        if (!visited) {\n          setFirstVisited('Y')\n          instruction.setInstructionVisited(constants.Text_Page_Instruction).then(() => {\n            t = setTimeout(() => {\n              setFirstVisited('N')\n              item.setZoom(true)\n              // text1.enterEditing() // UTM-976\n            }, 3000)\n          })\n        } else {\n          setFirstVisited('N')\n          t2 = setTimeout(() => {\n            item.setZoom(true)\n            // text1.enterEditing() // UTM-976\n          }, 800)\n        }\n      })\n\n      // function handleKeyBoardShow ({ data }) {\n      //   item.setKeyboard(isAndroid ? data + 60 : data)\n      //   if (text1.isEditing) {\n      //     setKeyState(true)\n      //   }\n      // }\n\n      function handleKeyBoardShow ({ data: { height, offsetTop } }) { // 动态计算安卓手机编辑区域问题 add by zhoujun -- 20190624\n        // invoke('log','data:'+JSON.stringify(data))\n        // invoke('log','height: '+height)\n        // invoke('log','deviceHeight: '+deviceHeight)\n        // invoke('log','offsetTop: '+offsetTop)\n        item.setKeyboard(isAndroid ? deviceHeight - offsetTop : height)\n        if (text1.isEditing) {\n          setKeyState(true)\n        }\n      }\n\n      function handleKeyBoardHide (e) {\n        item.setKeyboard(0)\n        if (text1.isEditing) {\n          setKeyState(false)\n          // text1.exitEditing()\n        }\n      }\n\n      let _scaling = false\n      let touches = 0\n\n      function handleMouseUp (e) {\n        if ((text1._scaling && !text1.isMoving) || touches > 0) {\n          _scaling = true\n        }\n        touches = e.touches.length\n        text1.restartCursorIfNeeded()\n      }\n\n      function handleMouseDownBefore (e) {\n        canvas._target = canvas._activeObject\n      }\n\n      // function handlePageFocusChange({ data }) {\n      //   data = JSON.parse(data);\n      //   if (data && !isAndroid) {\n      //     text1.enterEditing();\n      //   }\n      // }\n      invoke('setScrollEnable', false)\n\n      function handleStateChange ({ type, prevAppid, nextAppid }) {\n        const { appid } = make\n        if (type === 'push' && prevAppid === appid) {\n          invoke('setScrollEnable', true)\n        }\n        if (type === 'pop' && nextAppid === appid) {\n          invoke('setScrollEnable', false)\n        }\n      }\n\n      const { enterEditing } = text1\n      text1.enterEditing = function (e) {\n        if (!_scaling) {\n          enterEditing.call(text1, e)\n        }\n        _scaling = false\n      }\n      canvas.upperCanvasEl.addEventListener('touchend', handleMouseUp, false)\n      canvas.on('mouse:down:before', handleMouseDownBefore)\n      canvas.on('mouse:gesture:before', handleMouseDownBefore)\n      window.addEventListener('KeyboardShow', handleKeyBoardShow, false)\n      window.addEventListener('KeyboardHide', handleKeyBoardHide, false)\n      // window.addEventListener('UTmePageFocus', handlePageFocusChange, false)  // UTM-976\n      global.AppManager.appRouterEvent.addEventListener('UTmeStateChange', handleStateChange)\n      return () => {\n        window.removeEventListener('KeyboardShow', handleKeyBoardShow, false)\n        window.removeEventListener('KeyboardHide', handleKeyBoardHide, false)\n        // window.removeEventListener('UTmePageFocus', handlePageFocusChange, false)  // UTM-976\n        canvas.off('mouse:down:before', handleMouseDownBefore)\n        canvas.off('mouse:gesture:before', handleMouseDownBefore)\n        canvas.upperCanvasEl.removeEventListener('touchend', handleMouseUp, false)\n        global.AppManager.appRouterEvent.removeEventListener('UTmeStateChange', handleStateChange)\n        clearTimeout(t)\n        clearTimeout(t2)\n        text1.exitEditing()\n        canvas.dispose()\n      }\n    }\n  }, [canvasRef])\n\n  function setJiuToVisible () {\n    // invoke('log', 'text1' + text1)\n    if (text1) {\n      // invoke('log', 'text1.isEditing' + text1.isEditing)\n\n      if (!text1.isEditing) {\n        setJiuVisible(true)\n      }\n    }\n  }\n\n  function setJiuToHidden () {\n    setJiuVisible(false)\n  }\n\n  function selectfont (item, index2, type) {\n    if (type === '0') {\n      let newFamilyList = []\n      fontFamilyList.forEach((item, index) => {\n        if (index === index2) {\n          item.checked = true\n          item.fontFamily = item.value\n          setFontFamily(item.value.replace('-Bold', ''))\n        } else {\n          item.checked = false\n        }\n        newFamilyList.push(item)\n      })\n      setFont(newFamilyList)\n      setGoVis(true)\n    } else {\n      let newfontWeightList = []\n      fontWeightList.forEach((item, index) => {\n        // console.log(index, index2);\n        if (index === index2) {\n          item.checked = true\n          setFontWeight(item.value)\n        } else {\n          item.checked = false\n        }\n        newfontWeightList.push(item)\n      })\n      setFontWeightList(newfontWeightList)\n    }\n    const data = fontWeightList.map((item, index) => {\n      return (\n        <div className='fontSelectBox'\n          style={{ height: fontHeight }}\n          onClick={() => selectfont(item, index, '1')}\n          key={item.name_en}\n          value={item.name_en}>\n          <img width={24} height={24} src={check} style={{ visibility: item.checked ? 'visible' : 'hidden' }} />\n          <div className='itemContent' style={{ lineHeight: `${fontHeight}px` }}>\n            <span className='childItem-span' style={{\n              fontWeight: item.weight,\n              fontSize: languageType.current === 'ja' ? 17 : 20\n            }}>\n              {languageType.current === 'ja' ? item.name_ja : item.name_en}\n            </span>\n          </div>\n          <div style={{ width: 24, height: 24 }} />\n        </div>\n      )\n    })\n    setOverlaylist(data)\n  }\n\n  async function remainTypeset () {\n    if (!showTypeset) {\n      try {\n        let moved = await instruction.checkGlobalInstruction(constants.Text_Resize_Instruction)\n        if (!moved) {\n          setShowTypeset(true)\n          await instruction.setGlobalInstructionVisited(constants.Text_Resize_Instruction)\n        }\n      } catch (e) {\n        setAlertModelVisible(true)\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (text1) {\n      if (text1.text) {\n        if (!keyState) {\n          delEmoji(text1.text)\n        }\n      }\n    }\n  }, [keyState, text1])\n  function cancelfocus (keyState) {\n    if (keyState) {\n      text1.exitEditing()\n      // if (isEmojiCharacter(text1.text)) {\n      // setAlertTextError(true)\n      // delEmoji(text1.text)\n      return\n      // }\n    } else {\n      text1.enterEditing()\n    }\n    remainTypeset()\n  }\n\n  function goBack () {\n    const data = fontFamilyList.map((item, index) => {\n      return (\n        <div className='fontSelectBox'\n          style={{ height: fontHeight }}\n          onClick={() => selectfont(item, index, '0')}\n          key={item.name_en}\n          value={item.name_en}>\n          <img width={24} height={24} src={check} style={{ visibility: item.checked ? 'visible' : 'hidden' }} />\n          <div className='itemContent' style={{ lineHeight: `${fontHeight}px` }}>\n            <span className='childItem-span' style={{\n              fontFamily: item.value,\n              fontSize: languageType.current === 'ja' ? item.size_ja : item.size_en\n            }}>\n              {languageType.current === 'ja' ? item.name_ja : item.name_en}\n            </span>\n          </div>\n          <img width={24} height={24} src={rightArrow} />\n        </div>\n      )\n    })\n    setOverlaylist(data)\n    setGoVis(false)\n  }\n\n  const change = useCallback(() => {\n    setShowStatus(!showStatus)\n    if (text1) {\n      text1.exitEditing()\n    }\n  }, [text1])\n\n  // 判断文本中是否有emoji\n  function isEmojiCharacter (substring) {\n    for (var i = 0; i < substring.length; i++) {\n      var hs = substring.charCodeAt(i)\n      if (hs >= 0xd800 && hs <= 0xdbff) {\n        if (substring.length > 1) {\n          var ls = substring.charCodeAt(i + 1)\n          var uc = ((hs - 0xd800) * 0x400) + (ls - 0xdc00) + 0x10000\n          if (uc >= 0x1d000 && uc <= 0x1f77f) {\n            return true\n          }\n        }\n      } else if (substring.length > 1) {\n        var ls = substring.charCodeAt(i + 1)\n        if (ls == 0x20e3) {\n          return true\n        }\n      } else {\n        if (hs >= 0x2100 && hs <= 0x27ff) {\n          return true\n        } else if (hs >= 0x2B05 && hs <= 0x2b07) {\n          return true\n        } else if (hs >= 0x2934 && hs <= 0x2935) {\n          return true\n        } else if (hs >= 0x3297 && hs <= 0x3299) {\n          return true\n        } else if (hs == 0xa9 || hs == 0xae || hs == 0x303d || hs == 0x3030 ||\n                      hs == 0x2b55 || hs == 0x2b1c || hs == 0x2b1b ||\n                      hs == 0x2b50) {\n          return true\n        }\n      }\n    }\n  }\n\n  // 删除emoji\n  function delEmoji (emojireg) {\n    if (text1) {\n      var regStr = /[\\uD83C|\\uD83D|\\uD83E][\\uDC00-\\uDFFF][\\u200D|\\uFE0F]|[\\uD83C|\\uD83D|\\uD83E][\\uDC00-\\uDFFF]|[0-9|*|#]\\uFE0F\\u20E3|[0-9|#]\\u20E3|[\\u203C-\\u3299]\\uFE0F\\u200D|[\\u203C-\\u3299]\\uFE0F|[\\u2122-\\u2B55]|\\u303D|[\\A9|\\AE]\\u3030|\\uA9|\\uAE|\\u3030/ig\n      // var ranges = [\n      //   '\\ud83c[\\udf00-\\udfff]',\n      //   '\\ud83d[\\udc00-\\ude4f]',\n      //   '\\ud83d[\\ude80-\\udeff]'\n      // ]\n      // emojireg = emojireg.replace(new RegExp(ranges.join('|'), 'g'), '')\n      emojireg = emojireg.replace(regStr, '')\n      text1.text = emojireg\n      if (text1.hiddenTextarea) {\n        text1.hiddenTextarea.value = emojireg\n      }\n      canvas.requestRenderAll()\n      // text1.exitEditing()\n    }\n  }\n\n  async function toDatalessJSON () {\n    const temporaryCanvas = document.createElement('canvas')\n    const { left, top, width, height } = canvasArea\n    temporaryCanvas.width = width\n    temporaryCanvas.height = height\n    const imageData = canvas.getContext('2d').getImageData(left, top, width, height)\n    const ctx = temporaryCanvas.getContext('2d')\n    ctx.putImageData(imageData, 0, 0)\n    const toDataurl = temporaryCanvas.toDataURL()\n    imageTools.storeImageData({ imageName: `front-${make.layers.length}`, imageData: toDataurl })\n    try {\n      await invoke('setLayers', make.layers)\n      invoke('navigateTo', {\n        to: '/mixChoice',\n        params: { itemModal: 'show', previousPage: make.previousPage }\n      })\n      setShowTypeset(false)\n    } catch (error) {\n      // TODO 处理错误\n      setAlertModelVisible(true)\n    }\n  }\n\n  function onMouseDown (e) {\n    e.preventDefault()\n    e.stopPropagation()\n  }\n\n  const cancelDesign = useCallback(() => {\n    if (text1) {\n      text1.__isTransformed = false\n      text1.rotate(0)\n      text1.scale(1)\n      text1.text = ''\n      if (text1.hiddenTextarea) {\n        text1.hiddenTextarea.value = ''\n      }\n      setTextPre('')\n      setTextPre2('')\n      // setAlign(alignOrigin);\n      setFontSize(fontSizeOrigin)\n      // setFontColor(fontColorOrigin);\n      // setFontFamily(fontFamilyOrigin);\n      // setFontWeight(fontWeightOrigin);\n      setRightArrowVis(true)\n      // selectfont(fontFamilyList[3], 3, '0');\n      // selectfont(fontWeightList[2], 2, '1');\n      canvas.requestRenderAll()\n      text1.exitEditing()\n    }\n  }, [text1])\n\n  function handleKeyboardTouchStart (e, keyState) {\n    e.stopPropagation()\n    if (keyState) {\n    } else {\n      e.target.src = keyboardGray\n    }\n  }\n\n  function handleKeyboardTouchEnd (e, keyState) {\n    e.stopPropagation()\n    if (keyState) {\n    } else {\n      e.target.src = keyboardBlack\n    }\n  }\n\n  async function setFontColorFu (v) {\n    try {\n      await invoke('setTextColor', v)\n      setFontColor(v)\n    } catch (error) {\n      setAlertModelVisible(true)\n    }\n  }\n\n  function handleVisibleChange (visible) {\n    if (visible) {\n      Object.keys(fonts).forEach(loadFont)\n    }\n    goBack()\n  }\n\n  return (\n    <>\n      <div>\n        <div\n          style={style}\n          onTouchStart={setJiuToVisible}\n          onTouchEnd={setJiuToHidden}\n        >\n          <div style={{ display: firstVisited === 'N' ? 'block' : 'none' }}>\n            <Navbar page={'text'} revoke={change}>\n              <GoToNext onClick={() => toDatalessJSON(make.preStamp)} disabled={rightArrowVis} style={{ top: keyState ? -50 : 2 }} />\n            </Navbar>\n            <div style={{ border: make.activeItem[2].id !== 'COL00' ? '1px solid transparent' : '1px solid rgb(221, 221, 221)' }}\n              className={keyState ? 'keyboardBord On' : 'keyboardBord Off'}>\n              <img onTouchStart={e => handleKeyboardTouchStart(e, keyState)}\n                onTouchEnd={e => handleKeyboardTouchEnd(e, keyState)}\n                onClick={() => cancelfocus(keyState)}\n                className='keyboardIcon'\n                src={keyState ? keyboardWhite : keyboardBlack}\n                alt={`键盘图标${keyState ? '打开' : '关闭'}状态`} />\n            </div>\n            <ViewPort onMouseDown={onMouseDown} onTouchEnd={enterText} topLayer={props.topLayer} data={props.mixData} noMultiply>\n              <img\n                style={{\n                  pointerEvents: 'none',\n                  position: 'absolute',\n                  width: areaStyle.width + 4,\n                  height: areaStyle.height + 3.5,\n                  left: areaStyle.left - 2,\n                  top: areaStyle.top - 2,\n                  display: jiuVisible ? '' : 'none',\n                  zIndex: 11\n                }}\n                src={editArea}\n                alt=''\n              />\n              <div\n                className='wrapBox'\n                style={{ position: 'absolute', zIndex: 10, top: 0, left: 0, width: imageSize, height: imageSize }}\n              >\n                <canvas\n                  ref={canvasRef}\n                  width={canvasSize}\n                  height={canvasSize}\n                  style={{ width: imageSize, height: imageSize }}\n                />\n              </div>\n            </ViewPort>\n            {\n              showTypeset ? <TypesetPrompt moveIcon='Text_Drag.gif'\n                resizeIcon='Text_Resize.gif'\n                title='make.text.resize.title'\n                hideTypesetProps={() => setShowTypeset(false)} /> : ''\n            }\n            {/* <div onClick={() => { smallbg() }}>缩小</div> */}\n            {/* {showSelect()} */}\n            {/* <Toolbar><Enlarge /></Toolbar> */}\n            <RevokeComponent pageMark={'text'} cancelDesign={cancelDesign} show={showStatus} setShow={(status) => setShowStatus(status)} />\n          </div>\n          <div onClick={() => {\n            setFirstVisited('N')\n          }} style={{ width: '100%', display: firstVisited === 'Y' ? 'flex' : 'none' }} className='firstVisited'>\n            <img width={184} height={250} src={require('../../assets/Text_anime.gif')} />\n            <div style={{\n              width: '75%',\n              fontFamily: languageType.current === 'ja' ? 'NotoSansCJKjp-Bold' : 'initial',\n              fontWeight: languageType.current === 'ja' ? 'initial' : 'bold',\n              fontSize: languageType.current === 'ja' ? '17px' : '20px',\n              marginTop: 62,\n              color: '#1b1b1b'\n            }}>\n              <Locale code='make.text.instruction' />\n            </div>\n          </div>\n        </div>\n        {keyState ? <div onMouseDown={onMouseDown} style={{\n          position: 'fixed',\n          bottom: isAndroid ? 0 : 8 + item.keyboard - (window.screen.height - window.innerHeight) / 2,\n          width: item.deviceWidth,\n          height: 65\n        }} />\n          : firstVisited === 'N' && !showStatus ? <Toolbar><Enlarge showStatus={!showStatus ? 'show' : 'hidden'} /></Toolbar> : ''\n        }\n        <div style={{ display: keyState ? 'block' : 'none' }} onMouseDown={onMouseDown}>\n          <FontSelect\n            style={{\n              position: 'fixed',\n              bottom: isAndroid ? 0 : 8 + item.keyboard - (window.screen.height - (window.screen.height > 700 && window.innerHeight < 700 ? 716 : window.innerHeight)) / 2,\n              // width: item.deviceWidth,\n              left: 16,\n              height: 65\n            }}\n            platform={isAndroid}\n            textele={text1}\n            popupchange={handleVisibleChange}\n            overlayList={overlayList}\n            goVis={goVis}\n            goBack={goBack}\n            Ref={(overlay) => {\n              fontComponent.current = overlay\n            }}\n            changeFontHeight={(h) => {\n              invoke('log', 'changeFontHeight' + h)\n              setFontHeight(h)\n            }}\n          />\n          {/* 选择对齐方式 */}\n          <AlignSelect\n            style={{\n              position: 'fixed',\n              bottom: isAndroid ? 15 : 8 + item.keyboard - (window.screen.height - (window.screen.height > 700 && window.innerHeight < 700 ? 716 : window.innerHeight)) / 2 + 14,\n              // width: item.deviceWidth,\n              height: 50\n            }}\n            platform={isAndroid}\n            textele={text1}\n            align={align}\n            Ref={(overlay) => {\n              alignComponent.current = overlay\n            }}\n            setAlign={setAlign}\n          />\n          {/* 选择颜色 */}\n          <SelectColor\n            style={{\n              position: 'fixed',\n              bottom: isAndroid ? 0 : 8 + item.keyboard - (window.screen.height - (window.screen.height > 700 && window.innerHeight < 700 ? 716 : window.innerHeight)) / 2,\n              right: 16,\n              // width: item.deviceWidth,\n              height: 65\n            }}\n            platform={isAndroid}\n            textele={text1}\n            fontColor={fontColor}\n            Ref={(overlay) => {\n              colorComponent.current = overlay\n            }}\n            setFontColor={setFontColorFu}\n          />\n        </div>\n      </div>\n      <AlertModal visible={alertModelVisible} title='error.network.title' description='error.network.description' text='OK' onClick={() => {\n        setAlertModelVisible(false)\n      }} />\n      {/* <AlertModal visible={alertTextError} title='error.textFormat.title' description='error.textFormat.description' text='OK' onClick={() => {\n        setAlertTextError(false)\n      }} /> */}\n    </>\n  )\n}\n\nexport default injectImages()(Text)\n","import React, { useEffect, useState, useRef, useContext } from 'react'\nimport ReactDOM from 'react-dom'\nimport './revoke.css'\nimport returnPress from '../assets/return-pressed.svg'\nimport returnNormal from '../assets/return-normal.svg'\nimport rotateNormal from '../assets/rotate-normal.svg'\nimport dataRevoke from '.././utils/revokeLayer'\nimport IsAgainEdit from './isAgainEdit'\nimport { LocaleContext } from '../contexts/LocaleContext'\nimport Locale from '../components/Locale'\n\nexport default function revoke (props) {\n  const [show, setShow] = useState(false)\n  const languageType = useContext(LocaleContext)\n  const [isAgainEdit, setIsAgainEdit] = useState(false)\n  useEffect(() => {\n    setShow(props.show)\n  }, [props.show])\n\n  function revokeDesign (param) {\n    setShow(false)\n    if (param === 'current') {\n      if (props.cancelDesign) {\n        props.cancelDesign()\n        props.setShow(false)\n      }\n      // dataRevoke()\n    } else {\n      setIsAgainEdit(true)\n      setTimeout(() => {\n        setIsAgainEdit(true)\n      }, 100)\n    //   dataRevoke(props.pageMark)\n    }\n  }\n\n  function isAgainFu (e) {\n    setIsAgainEdit(false)\n    if (props.setShow) {\n      props.setShow(false)\n    }\n  }\n\n  return (\n    <>\n      <div className='revokeMask' style={{ display: show ? 'block' : 'none' }} onClick={() => {\n        props.setShow(false)\n        setTimeout(() => {\n          props.setShow(false)\n        }, 100)\n      }} />\n      <div style={{\n        width: '100%',\n        // maxHeight: 160,\n        backgroundColor: '#fff',\n        position: 'fixed',\n        zIndex: 21,\n        bottom: show ? 0 : -194,\n        fontSize: languageType.current === 'ja' ? 17 : 20,\n        fontWeight: 500,\n        transition: 'bottom 0.2s'\n      }}>\n        <div className='revokeOperation' onClick={() => revokeDesign('current')}>\n          <div className='revokeOpImg' >\n            <img src={rotateNormal} />\n          </div>\n          <span style={{ fontWeight: languageType.current === 'ja' ? '' : 'bold', fontFamily: languageType.current === 'ja' ? 'NotoSansCJKjp-Bold' : 'HelveticaNeue-Bold' }}>\n            {/* 重设图片 */}\n            {\n              props.pageMark === 'mix'\n                ? <Locale code='make.revoke.resetEffect' />\n                : <Locale code='make.revoke.resetGraphic' />\n            }\n          </span>\n        </div>\n        <div className='revokeOperation' onClick={() => revokeDesign('initial')}>\n          <div className='revokeOpImg'>\n            <img src={returnNormal} />\n          </div>\n          <span style={{ fontWeight: languageType.current === 'ja' ? '' : 'bold', fontFamily: languageType.current === 'ja' ? 'NotoSansCJKjp-Bold' : 'HelveticaNeue-Bold' }}>\n            {/* 回到初始状态 */}\n            <Locale code='make.revoke.BackToTheOriginalState' />\n          </span>\n        </div>\n        <div style={{ height: 52, padding: 15 }}>\n          <button style={{\n            height: 52,\n            lineHeight: '52px',\n            // lineHeight: ,\n            letterSpacing: 0.4,\n            // marginTop: 7,\n            width: '100%',\n            // width: window.innerWidth - 16,\n            // marginLeft: 8,\n            // fontWeight: 500,\n            border: '1px solid #1b1b1b',\n            fontSize: 16,\n            backgroundColor: 'white',\n            fontFamily: languageType.current === 'ja' ? 'NotoSansCJKjp-Bold' : 'UniqloPro-Bold'\n          }} onClick={() => props.setShow(false)}>\n            {/* 取消 */}\n            <Locale code='make.revoke.cancel' />\n          </button>\n        </div>\n      </div>\n      <IsAgainEdit resetLayers={props.resetLayers} status={isAgainEdit} isAgainFu={isAgainFu} />\n      </>\n  )\n}\n","import React, { useEffect } from 'react'\nimport GotoMixIcon from '../assets/Next_Normal.svg'\nimport GotoMixIconDis from '../assets/next-disabel.svg'\nimport { throttle, InitializationThrottle } from '../utils/throttle'\nexport default function GoToNext (props) {\n  const { disabled, onClick, style } = props\n  useEffect(() => {\n    InitializationThrottle()\n  }, [])\n  return (\n    <div onClick={disabled ? null : () => throttle(onClick)}>\n      <img\n        src={disabled ? GotoMixIconDis : GotoMixIcon}\n        className='GotoMixIcon'\n        alt=''\n        style={{\n          position: 'absolute',\n          right: 12,\n          top: 2,\n          zIndex: 11,\n          width: 40,\n          height: 40,\n          transition: 'all .4s',\n          ...style\n        }} />\n    </div>\n  )\n}\n"],"sourceRoot":""}