{"version":3,"sources":["routes/Mix/AutoDesigner/index.js","assets sync /^/.//.*/.svg$","routes/Mix/ModePicker.js","routes/Mix/Instruction.js","utils/getEventPoint.js"],"names":["style","position","left","right","bottom","top","overflow","stop","injectImages","props","mixData","isLayerTop","canvasRef","useRef","multiplyRef","_useContext","useContext","ItemContext","multiply","areaStyle","setZoom","imageSrc","canvasArea","canvasSize","canvasWidth","width","canvasHeight","height","_useContext2","MakeContext","appid","layers","previousPage","_useState","useState","_useState2","Object","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","images","setImages","_useState3","_useState4","background","setBackground","_useState5","_useState6","showStatus","setShowStatus","_useState7","uniqlo","BlendMode","NORMAL","_useState8","selectedMode","setSelectedMode","modePickerVisible","length","_useState9","_useState10","drag","setDrag","_useState11","_useState12","alertModelVisible","setAlertModelVisible","_useState13","_useState14","firstVisited","setFirstVisited","_useState15","_useState16","control","setControl","change","useCallback","setTimeout","useEffect","loadImages","undefined","data","then","loadImage","cancelDesign","clear","stringify","_stringify","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee","current","storeImage","imageData","wrap","_context","prev","next","Promise","all","imageTools","storeImageData","imageName","concat","toDataURL","emptyData","stopAcceleratorMonitor","invoke","to","params","t0","this","apply","arguments","startAcceleratorMonitor","animate","onEnterFrame","requestAnimationFrame","bind","_fixUseEffectWarn","_callee2","_context2","instruction","checkInstruction","constants","Shake_Instruction","sent","setInstructionVisited","blendMode","LayoutImpl","prototype","_len","args","Array","_key","call","canvas","multiplyImage","fixUseEffectWarn","handleMouseDown","e","_getEventPoint","getEventPoint","x","y","onMousePress","handleMouseMove","_getEventPoint2","onMouseDrag","handleMouseUp","_getEventPoint3","onMouseUp","handleMessage","_ref2","_JSON$parse","JSON","parse","mAcc_x","mAcc_y","FACTOR","_accelerationX","_accelerationY","countUpForce","timeoutId","clearTimeout","handleStateChange","_ref3","type","prevAppid","nextAppid","GL","stageJS","Context3D","_images","back","front","stage3D","Stage3D","backBitmap","BitmapData","fromImageElement","frontBitmap","weakMode","stampRule","stampFlag","flag_effect_layout","acc_l","initWithData","startRendering","addEventListener","window","global","AppManager","appRouterEvent","dispose","removeEventListener","canvasStyle","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","opacity","react__WEBPACK_IMPORTED_MODULE_4___default","createElement","_components_AlertModal__WEBPACK_IMPORTED_MODULE_22__","visible","title","description","text","onClick","display","_navbar__WEBPACK_IMPORTED_MODULE_5__","disabled","revoke","_components_GoToNext__WEBPACK_IMPORTED_MODULE_8__","_components_ViewPort__WEBPACK_IMPORTED_MODULE_15__","topLayer","ref","pointerEvents","_toolbar__WEBPACK_IMPORTED_MODULE_7__","justifyContent","_ModePicker__WEBPACK_IMPORTED_MODULE_9__","_components_Enlarge__WEBPACK_IMPORTED_MODULE_6__","_components_revoke__WEBPACK_IMPORTED_MODULE_16__","pageMark","resetLayers","show","setShow","_Instruction__WEBPACK_IMPORTED_MODULE_14__","map","./Actions.svg","./AddToCart.svg","./Album.svg","./Album_press.svg","./AlwaysInFront.svg","./Arrow.svg","./Arrows.svg","./Attention.svg","./Back_Normal.svg","./Back_Pressed.svg","./Back_Pressed_Circle.svg","./BrushStyle_Normal.svg","./Btn/Glitch/Normal/01.svg","./Btn/Glitch/Normal/02.svg","./Btn/Glitch/Normal/03.svg","./Btn/Glitch/Pressed/01.svg","./Btn/Glitch/Pressed/02.svg","./Btn/Glitch/Pressed/03.svg","./Btn/Moma/Normal/01.svg","./Btn/Moma/Normal/02.svg","./Btn/Moma/Normal/03.svg","./Btn/Moma/Pressed/01.svg","./Btn/Moma/Pressed/02.svg","./Btn/Moma/Pressed/03.svg","./Btn/layout/Normal/01.svg","./Btn/layout/Normal/02.svg","./Btn/layout/Normal/03.svg","./Btn/layout/Pressed/01.svg","./Btn/layout/Pressed/02.svg","./Btn/layout/Pressed/03.svg","./Btn/mosaic/Normal/01.svg","./Btn/mosaic/Normal/02.svg","./Btn/mosaic/Normal/03.svg","./Btn/mosaic/Pressed/01.svg","./Btn/mosaic/Pressed/02.svg","./Btn/mosaic/Pressed/03.svg","./Btn/none/Normal/01.svg","./Btn/none/Normal/02.svg","./Btn/none/Normal/03.svg","./Btn/none/Pressed/Pressed.svg","./Btn/splash/Normal/01.svg","./Btn/splash/Normal/02.svg","./Btn/splash/Normal/03.svg","./Btn/splash/Pressed/01.svg","./Btn/splash/Pressed/02.svg","./Btn/splash/Pressed/03.svg","./Btn/xmoma/Normal/01.svg","./Btn/xmoma/Normal/02.svg","./Btn/xmoma/Normal/03.svg","./Btn/xmoma/Pressed/01.svg","./Btn/xmoma/Pressed/02.svg","./Btn/xmoma/Pressed/03.svg","./Camera.svg","./Camera_press.svg","./CannotContribute.svg","./CannotProduce.svg","./Close_Normal.svg","./Close_Pressed.svg","./Color_Normal_01.svg","./Color_Normal_02.svg","./Color_Normal_03.svg","./Color_Normal_04.svg","./Color_Normal_05.svg","./Color_Normal_06.svg","./Color_Normal_07.svg","./Color_Normal_08.svg","./Color_Normal_09.svg","./Complete.svg","./DeleteStampIcon.svg","./DottedStyle_Normal.svg","./Effects.svg","./Help_Normal.svg","./Help_Pressed.svg","./LayerAdd_Normal.svg","./LayerNone_Normal.svg","./Layers.svg","./LineStyle_Normal.svg","./More.svg","./NOAUTODESIGNER.svg","./NODuplicateSameSticker.svg","./NOGLITCH.svg","./NOMOSAIC.svg","./NOMoMACollage.svg","./NOMoMAEarlyMordenStyle.svg","./NOOverlap.svg","./NOPAINT.svg","./NOPHOTO.svg","./NOReverse.svg","./NORotate.svg","./NOSPLASH.svg","./NOSTAMP.svg","./NOTYPOGRAPHY.svg","./NOUseMultipleStickers.svg","./New.svg","./News.svg","./Next_Normal.svg","./Publish_Normal.svg","./RestrictedFunctions.svg","./Return_Normal.svg","./Return_Pressed.svg","./Return_Pressed_Circle.svg","./Save.svg","./Save_Press.svg","./Shake_text/EN/Remix_Disable_EN.svg","./Shake_text/EN/Text_AutoDesigner_EN.svg","./Shake_text/EN/Text_AutoDesigner_EN_Pressed.svg","./Shake_text/EN/Text_Glitch_EN.svg","./Shake_text/EN/Text_Glitch_EN_Pressed.svg","./Shake_text/EN/Text_MoMACollage_EN.svg","./Shake_text/EN/Text_MoMACollage_EN_Pressed.svg","./Shake_text/EN/Text_MoMAEarlyModernStyle_EN.svg","./Shake_text/EN/Text_MoMAEarlyModernStyle_EN_Pressed.svg","./Shake_text/EN/Text_Mosaic_EN.svg","./Shake_text/EN/Text_Mosaic_EN_Pressed.svg","./Shake_text/EN/Text_NoRemix_EN.svg","./Shake_text/EN/Text_NoRemix_EN_Pressed.svg","./Shake_text/EN/Text_Splash_EN.svg","./Shake_text/EN/Text_Splash_EN_Pressed.svg","./Shake_text/JP/Remix_Disable_JP.svg","./Shake_text/JP/Text_AutoDesigner.svg","./Shake_text/JP/Text_AutoDesigner_Pressed.svg","./Shake_text/JP/Text_Glitch.svg","./Shake_text/JP/Text_Glitch_Pressed.svg","./Shake_text/JP/Text_MoMACollage.svg","./Shake_text/JP/Text_MoMACollage_Pressed.svg","./Shake_text/JP/Text_MoMAEarlyModernStyle.svg","./Shake_text/JP/Text_MoMAEarlyModernStyle_Pressed.svg","./Shake_text/JP/Text_Mosaic.svg","./Shake_text/JP/Text_Mosaic_Pressed.svg","./Shake_text/JP/Text_NoRemix.svg","./Shake_text/JP/Text_NoRemix_Pressed.svg","./Shake_text/JP/Text_Splash.svg","./Shake_text/JP/Text_Splash_Pressed.svg","./Shape/Shape_Circle.svg","./Shape/Shape_Flower_1.svg","./Shape/Shape_Flower_2.svg","./Shape/Shape_Flower_3.svg","./Shape/Shape_Flower_4.svg","./Shape/Shape_Heart.svg","./Shape/Shape_Hexagon.svg","./Shape/Shape_Parallelogram_1.svg","./Shape/Shape_Parallelogram_2.svg","./Shape/Shape_Parallelogram_3.svg","./Shape/Shape_Parallelogram_4.svg","./Shape/Shape_Quarter_circle_1.svg","./Shape/Shape_Quarter_circle_2.svg","./Shape/Shape_Quarter_circle_3.svg","./Shape/Shape_Quarter_circle_4.svg","./Shape/Shape_Rectangle.svg","./Shape/Shape_Rhombus.svg","./Shape/Shape_Right_triangle_1.svg","./Shape/Shape_Right_triangle_2.svg","./Shape/Shape_Right_triangle_3.svg","./Shape/Shape_Right_triangle_4.svg","./Shape/Shape_Rounded.svg","./Shape/Shape_Square.svg","./Shape/Shape_Star.svg","./Shape/Shape_Triangle_1.svg","./Shape/Shape_Triangle_2.svg","./Shape/Shape_Triangle_3.svg","./Shape/Shape_Triangle_4.svg","./Shape/Shape_Zebra_crossing_1.svg","./Shape/Shape_Zebra_crossing_2.svg","./Shape/Shape_Zebra_crossing_3.svg","./Shape/Shape_Zebra_crossing_4.svg","./ShapeNew/Shape_Circle.svg","./ShapeNew/Shape_Circle_Fill.svg","./ShapeNew/Shape_Flower_1.svg","./ShapeNew/Shape_Flower_1_Fill.svg","./ShapeNew/Shape_Flower_2.svg","./ShapeNew/Shape_Flower_2_Fill.svg","./ShapeNew/Shape_Flower_3.svg","./ShapeNew/Shape_Flower_3_Fill.svg","./ShapeNew/Shape_Flower_4.svg","./ShapeNew/Shape_Flower_4_Fill.svg","./ShapeNew/Shape_Heart.svg","./ShapeNew/Shape_Heart_Fill.svg","./ShapeNew/Shape_Hexagon.svg","./ShapeNew/Shape_Hexagon_Fill.svg","./ShapeNew/Shape_Parallelogram_1.svg","./ShapeNew/Shape_Parallelogram_1_Fill.svg","./ShapeNew/Shape_Parallelogram_2.svg","./ShapeNew/Shape_Parallelogram_2_Fill.svg","./ShapeNew/Shape_Parallelogram_3.svg","./ShapeNew/Shape_Parallelogram_3_Fill.svg","./ShapeNew/Shape_Parallelogram_4.svg","./ShapeNew/Shape_Parallelogram_4_Fill.svg","./ShapeNew/Shape_QuarterCircle_1.svg","./ShapeNew/Shape_QuarterCircle_1_Fill.svg","./ShapeNew/Shape_QuarterCircle_2.svg","./ShapeNew/Shape_QuarterCircle_2_Fill.svg","./ShapeNew/Shape_QuarterCircle_3.svg","./ShapeNew/Shape_QuarterCircle_3_Fill.svg","./ShapeNew/Shape_QuarterCircle_4.svg","./ShapeNew/Shape_QuarterCircle_4_Fill.svg","./ShapeNew/Shape_Rectangle.svg","./ShapeNew/Shape_Rectangle_Fill.svg","./ShapeNew/Shape_Rhombus.svg","./ShapeNew/Shape_Rhombus_Fill.svg","./ShapeNew/Shape_RightTriangle_1.svg","./ShapeNew/Shape_RightTriangle_1_Fill.svg","./ShapeNew/Shape_RightTriangle_2.svg","./ShapeNew/Shape_RightTriangle_2_Fill.svg","./ShapeNew/Shape_RightTriangle_3.svg","./ShapeNew/Shape_RightTriangle_3_Fill.svg","./ShapeNew/Shape_RightTriangle_4.svg","./ShapeNew/Shape_RightTriangle_4_Fill.svg","./ShapeNew/Shape_Rounded.svg","./ShapeNew/Shape_Rounded_Fill.svg","./ShapeNew/Shape_Square.svg","./ShapeNew/Shape_Square_Fill.svg","./ShapeNew/Shape_Star.svg","./ShapeNew/Shape_Star_Fill.svg","./ShapeNew/Shape_Triangle_1.svg","./ShapeNew/Shape_Triangle_1_Fill.svg","./ShapeNew/Shape_Triangle_2.svg","./ShapeNew/Shape_Triangle_2_Fill.svg","./ShapeNew/Shape_Triangle_3.svg","./ShapeNew/Shape_Triangle_3_Fill.svg","./ShapeNew/Shape_Triangle_4.svg","./ShapeNew/Shape_Triangle_4_Fill.svg","./ShapeNew/Shape_ZebraCrossing_1.svg","./ShapeNew/Shape_ZebraCrossing_1_Fill.svg","./ShapeNew/Shape_ZebraCrossing_2.svg","./ShapeNew/Shape_ZebraCrossing_2_Fill.svg","./ShapeNew/Shape_ZebraCrossing_3.svg","./ShapeNew/Shape_ZebraCrossing_3_Fill.svg","./ShapeNew/Shape_ZebraCrossing_4.svg","./ShapeNew/Shape_ZebraCrossing_4_Fill.svg","./Tips_Stop.svg","./and.svg","./arrow2.svg","./back/back_normal.svg","./back/back_pressed.svg","./blend-alpha-pressed.svg","./blend-alpha.svg","./blend-mask-pressed.svg","./blend-mask.svg","./blend-multiply-pressed.svg","./blend-multiply.svg","./blend-normal-pressed.svg","./blend-normal.svg","./blend-screen-pressed.svg","./blend-screen.svg","./brush-style-pressed.svg","./brush-style.svg","./centerAlign.svg","./check.svg","./close-normal.svg","./close-normalchange.svg","./color.svg","./dotted-style-pressed.svg","./dotted-style.svg","./editArea.svg","./eraser.svg","./eraser_selected_normal.svg","./eraser_selected_pressed.svg","./error.svg","./failed.svg","./font-normal.svg","./home/en/paint_text_normal.170x110.svg","./home/en/paint_text_normal.svg","./home/en/paint_text_pressed.170x110.svg","./home/en/paint_text_pressed.svg","./home/en/pic_text_normal.170x110.svg","./home/en/pic_text_normal.svg","./home/en/pic_text_pressed.170x110.svg","./home/en/pic_text_pressed.svg","./home/en/stamp_text_normal.170x110.svg","./home/en/stamp_text_normal.svg","./home/en/stamp_text_pressed.170x110.svg","./home/en/stamp_text_pressed.svg","./home/en/text_text_normal.170x110.svg","./home/en/text_text_normal.svg","./home/en/text_text_pressed.170x110.svg","./home/en/text_text_pressed.svg","./home/jp/Text_Text_pressed-1.svg","./home/jp/paint_text_normal.170x110.svg","./home/jp/paint_text_normal.svg","./home/jp/paint_text_pressed.170x110.svg","./home/jp/paint_text_pressed.svg","./home/jp/pic_text_normal.170x110.svg","./home/jp/pic_text_normal.svg","./home/jp/pic_text_pressed.170x110.svg","./home/jp/pic_text_pressed.svg","./home/jp/stamp_text_normal.170x110.svg","./home/jp/stamp_text_normal.svg","./home/jp/stamp_text_pressed.170x110.svg","./home/jp/stamp_text_pressed.svg","./home/jp/text_text_normal.170x110.svg","./home/jp/text_text_normal.svg","./home/jp/text_text_pressed.170x110.svg","./home/jp/text_text_pressed.svg","./icon-brush.svg","./keyboard/keyboard_normal_black.svg","./keyboard/keyboard_normal_white.svg","./keyboard/keyboard_pressed_black.svg","./leftAlign.svg","./line-style-pressed.svg","./line-style.svg","./link.svg","./make_text/paint_text_normal_en_android.svg","./make_text/paint_text_normal_en_ios.svg","./make_text/paint_text_normal_ja_android.svg","./make_text/paint_text_normal_ja_ios.svg","./make_text/paint_text_pressed_en_android.svg","./make_text/paint_text_pressed_en_ios.svg","./make_text/paint_text_pressed_ja_android.svg","./make_text/paint_text_pressed_ja_ios.svg","./make_text/photo_text_normal_en_android.svg","./make_text/photo_text_normal_en_ios.svg","./make_text/photo_text_normal_ja_android.svg","./make_text/photo_text_normal_ja_ios.svg","./make_text/photo_text_pressed_en_android.svg","./make_text/photo_text_pressed_en_ios.svg","./make_text/photo_text_pressed_ja_android.svg","./make_text/photo_text_pressed_ja_ios.svg","./make_text/stamp_text_normal_en_android.svg","./make_text/stamp_text_normal_en_ios.svg","./make_text/stamp_text_normal_ja_android.svg","./make_text/stamp_text_normal_ja_ios.svg","./make_text/stamp_text_pressed_en_android.svg","./make_text/stamp_text_pressed_en_ios.svg","./make_text/stamp_text_pressed_ja_android.svg","./make_text/stamp_text_pressed_ja_ios.svg","./make_text/text_text_normal_en_android.svg","./make_text/text_text_normal_en_ios.svg","./make_text/text_text_normal_ja_android.svg","./make_text/text_text_normal_ja_ios.svg","./make_text/text_text_pressed_en_android.svg","./make_text/text_text_pressed_en_ios.svg","./make_text/text_text_pressed_ja_android.svg","./make_text/text_text_pressed_ja_ios.svg","./mix-1.svg","./mix-2.svg","./mix-3.svg","./mix-4.svg","./mix-5.svg","./mix-6.svg","./mode-normal.svg","./moma-normal-02.svg","./moma-normal.svg","./mosaic-circle-pressed.svg","./mosaic-circle-style-pressed.svg","./mosaic-circle-style.svg","./mosaic-circle.svg","./mosaic-normal.svg","./mosaic-round-rect-pressed.svg","./mosaic-round-rect-style-pressed.svg","./mosaic-round-rect-style.svg","./mosaic-round-rect.svg","./mosaic-square-pressed.svg","./mosaic-square-style-pressed.svg","./mosaic-square-style.svg","./mosaic-square.svg","./mosaicCircle_Normal.svg","./mosaicCircle_Pressed.svg","./mosaicSquare_Normal.svg","./mosaicSquare_Pressed.svg","./newSave.svg","./next-disabel.svg","./next_disabel.svg","./normal.svg","./normal_press.svg","./paint.svg","./photo.svg","./play-normal.svg","./prohibit.svg","./prohibit/allowed/NODuplicateSameSticker.svg","./prohibit/allowed/NOOverlap.svg","./prohibit/allowed/NOReverse.svg","./prohibit/allowed/NORotate.svg","./prohibit/allowed/NOUseMultipleStickers.svg","./prohibit/allowed/duplicate-same-sticker-normal.svg","./prohibit/allowed/overlap-normal.svg","./prohibit/allowed/reverse-normal.svg","./prohibit/allowed/rotate-normal.svg","./prohibit/allowed/use-multiple-stickers-normal.svg","./prohibit/effects/NOAUTODESIGNER.svg","./prohibit/effects/NOGLITCH.svg","./prohibit/effects/NOMOSAIC.svg","./prohibit/effects/NOMoMACollage.svg","./prohibit/effects/NOMoMAEarlyMordenStyle.svg","./prohibit/effects/NOSPLASH.svg","./prohibit/effects/autodesigner-normal.svg","./prohibit/effects/glitch-normal.svg","./prohibit/effects/mo-ma-collage-normal.svg","./prohibit/effects/mo-ma-early-morden-style-normal.svg","./prohibit/effects/mosaic-normal.svg","./prohibit/effects/splash-normal.svg","./prohibit/layers/NOPAINT.svg","./prohibit/layers/NOPHOTO.svg","./prohibit/layers/NOSTAMP.svg","./prohibit/layers/NOTYPOGRAPHY.svg","./prohibit/layers/paint-normal.svg","./prohibit/layers/photo-normal.svg","./prohibit/layers/stamp-normal.svg","./prohibit/layers/typography-normal.svg","./prohibit/restricted/AlwaysInFront.svg","./prohibit/restricted/CannotContribute.svg","./prohibit/restricted/CannotProduce.svg","./remix_gif/none_Normal.svg","./remix_gif/none_Pressed.svg","./return-normal.svg","./return-normalchange.svg","./return-pressed.svg","./return/return_normal.svg","./return/return_pressed.svg","./rightAlign.svg","./rotate-normal.svg","./shape-normals/Shape_Circle_normal.svg","./shape-normals/Shape_Flower_normal_1.svg","./shape-normals/Shape_Flower_normal_2.svg","./shape-normals/Shape_Flower_normal_3.svg","./shape-normals/Shape_Flower_normal_4.svg","./shape-normals/Shape_Heart_normal.svg","./shape-normals/Shape_Hexagon_normal.svg","./shape-normals/Shape_Parallelogram_normal_1.svg","./shape-normals/Shape_Parallelogram_normal_2.svg","./shape-normals/Shape_Parallelogram_normal_3.svg","./shape-normals/Shape_Parallelogram_normal_4.svg","./shape-normals/Shape_Quarter_circle_normal_1.svg","./shape-normals/Shape_Quarter_circle_normal_2.svg","./shape-normals/Shape_Quarter_circle_normal_3.svg","./shape-normals/Shape_Quarter_circle_normal_4.svg","./shape-normals/Shape_Rectangle_normal.svg","./shape-normals/Shape_Rhombus_normal.svg","./shape-normals/Shape_Right_triangle_normal_1.svg","./shape-normals/Shape_Right_triangle_normal_2.svg","./shape-normals/Shape_Right_triangle_normal_3.svg","./shape-normals/Shape_Right_triangle_normal_4.svg","./shape-normals/Shape_Rounded_normal.svg","./shape-normals/Shape_Square_normal.svg","./shape-normals/Shape_Star_normal.svg","./shape-normals/Shape_Triangle_normal_1.svg","./shape-normals/Shape_Triangle_normal_2.svg","./shape-normals/Shape_Triangle_normal_3.svg","./shape-normals/Shape_Triangle_normal_4.svg","./shape-normals/Shape_Zebra_crossing_normal_1.svg","./shape-normals/Shape_Zebra_crossing_normal_2.svg","./shape-normals/Shape_Zebra_crossing_normal_3.svg","./shape-normals/Shape_Zebra_crossing_normal_4.svg","./stamp.svg","./stop-normal.svg","./text-color-normal.svg","./text.svg","./textBoxIconBackground.svg","./thick_brush_selected_Pressed.svg","./thick_brush_selected_normal.svg","./thin-brush.svg","./thin_brush_selected_normal.svg","./thin_brush_selected_pressed.svg","./triangle.svg","./typeColorBtnRed.svg","./warning.svg","webpackContext","req","id","webpackContextResolve","__webpack_require__","Error","code","keys","resolve","module","exports","StyleButton","active","border","extraProps","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","languageType","LocaleContext","react__WEBPACK_IMPORTED_MODULE_2___default","assign","alignItems","padding","borderBottom","backgroundColor","src","require","icon","fontFamily","color","textAlign","fontSize","fontWeight","_components_Locale__WEBPACK_IMPORTED_MODULE_4__","label","ModePicker","make","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","styleIcon","setStyleIcon","popupVisible","setPopupVisible","modePickerStatus","setModePickerStatus","createClickHandler","closePopup","blendfunc","blendfuncNGnum","forEach","element","flag_can_other_layer_over","flag_effect_blendfunc","_components_Popup__WEBPACK_IMPORTED_MODULE_3__","renderOverlay","overlayProps","triggerRect","innerWidth","zIndex","className","ALPHA","SCREEN","MULTIPLY","ERASE","marginLeft","viewBox","fill","d","onTouchStart","onTouchEnd","newStyleIcon","replace","onMouseUpChange","borderRadius","boxSizing","alt","__webpack_exports__","Instruction","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_components_Locale__WEBPACK_IMPORTED_MODULE_1__","_contexts_LocaleContext__WEBPACK_IMPORTED_MODULE_2__","flexDirection","marginTop","t","touches","_target$getBoundingCl","target","getBoundingClientRect","touch","clientX","clientY"],"mappings":"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","file":"static/js/21.e8959609.chunk.js","sourcesContent":["import React, { useCallback, useContext, useEffect, useReducer, useRef, useState } from 'react'\nimport Navbar from '../../navbar'\nimport Enlarge from '../../../components/Enlarge'\nimport Toolbar from '../../toolbar'\nimport GoToNext from '../../../components/GoToNext'\nimport ModePicker from '../ModePicker'\nimport { ItemContext } from '../../../contexts/ItemContext'\nimport { MakeContext } from '../../../routes/MakeContext'\nimport instruction from '../../../utils/instruction'\nimport constants from '../../../constants/instruction'\nimport Instruction from '../Instruction'\nimport ViewPort from '../../../components/ViewPort'\nimport RevokeComponent from '../../../components/revoke'\nimport injectImages from '../../../hoc/injectImages'\nimport loadImages, { loadImage } from '../../../utils/loadImages'\nimport invoke from '../../../utils/invoke'\nimport { stageJS, uniqlo } from '../../../metalib'\nimport getEventPoint from '../../../utils/getEventPoint'\nimport AlertModal from '../../../components/AlertModal'\nimport imageTools from '../../../utils/imageTools'\n\nconst style = {\n  position: 'absolute',\n  left: 0,\n  right: 0,\n  bottom: 0,\n  top: 0,\n  overflow: 'hidden'\n}\n\nlet stop = true\n\nfunction animate (control) {\n  if (control && !stop) {\n    control.onEnterFrame(null)\n    requestAnimationFrame(animate.bind(null, control))\n  }\n}\n\nfunction AutoDesigner (props) {\n  const { mixData, isLayerTop } = props\n  const canvasRef = useRef()\n  const multiplyRef = useRef()\n  const { multiply, areaStyle, setZoom, imageSrc, canvasArea, canvasSize } = useContext(ItemContext)\n  const { width: canvasWidth, height: canvasHeight } = canvasArea\n  const { appid, layers, previousPage } = useContext(MakeContext)\n  const [images, setImages] = useState([])\n  const [background, setBackground] = useState()\n  const [showStatus, setShowStatus] = useState(false)\n  const [selectedMode, setSelectedMode] = useState(uniqlo.BlendMode.NORMAL)\n  const modePickerVisible = layers.length > 1 && !isLayerTop\n  const [drag, setDrag] = useState(false)\n  const [alertModelVisible, setAlertModelVisible] = useState(false)\n  const [firstVisited, setFirstVisited] = useState('')\n  const [control, setControl] = useState()\n  const change = useCallback(function change () {\n    setShowStatus(!showStatus)\n    setTimeout(() => {\n      setShowStatus(!showStatus)\n    }, 100)\n  }, [showStatus])\n\n  useEffect(() => {\n    loadImages(isLayerTop ? undefined : mixData, props.data)\n      .then(setImages)\n  }, [isLayerTop, mixData, props.data])\n\n  useEffect(() => {\n    if (multiply) {\n      loadImage(imageSrc)\n        .then(setBackground)\n    }\n  }, [multiply, imageSrc])\n\n  const cancelDesign = useCallback(function cancelDesign () {\n    if (control) {\n      control.clear()\n    }\n  }, [control])\n\n  const stringify = useCallback(async function stringify () {\n    const { current } = canvasRef\n    function storeImage (imageData, data) {\n      return Promise.all([\n        imageTools.storeImageData({ imageName: `back-${layers.length}`, imageData }),\n        isLayerTop ? imageTools.storeImageData({ imageName: 'topLayer', imageData: data }) : undefined\n      ])\n    }\n\n    if (current && !drag) {\n      const data = current.toDataURL()\n      const imageData = isLayerTop ? mixData || imageTools.emptyData : data\n\n      stopAcceleratorMonitor()\n      // 对await做try catch处理，如果失败，这里要停在当前页，让用户重新点击下一步按钮，update by 周俊 -- 20190614\n      try {\n        await invoke('setLayers', layers)\n        await storeImage(imageData, data)\n\n        invoke('navigateTo', {\n          to: '/make/Done',\n          params: { previousPage }\n        })\n      } catch (error) {\n        setAlertModelVisible(true)\n      }\n    }\n  }, [canvasRef, layers, drag])\n\n  useEffect(() => {\n    if (control) {\n      control.blendMode = selectedMode\n    }\n  }, [control, selectedMode])\n\n  useEffect(() => {\n    if (control) {\n      const { onEnterFrame } = uniqlo.LayoutImpl.prototype\n      const { current } = multiplyRef\n      if (current && background) {\n        control.onEnterFrame = (...args) => {\n          onEnterFrame.call(control, ...args)\n          const { current: canvas } = canvasRef\n          imageTools.multiplyImage(background, canvas, canvasArea, canvasSize, current)\n        }\n      } else {\n        control.onEnterFrame = onEnterFrame\n      }\n    }\n  }, [control, canvasArea, background, canvasSize, multiplyRef, canvasRef])\n\n  function stopAcceleratorMonitor () {\n    stop = true\n    invoke('stopAcceleratorMonitor', {})\n  }\n\n  function startAcceleratorMonitor (control) {\n    stop = false\n    animate(control)\n    invoke('startAcceleratorMonitor')\n  }\n\n  async function fixUseEffectWarn () {\n    try {\n      let visited = await instruction.checkInstruction(constants.Shake_Instruction)\n      if (!visited) {\n        setFirstVisited('Y')\n        await instruction.setInstructionVisited(constants.Shake_Instruction)\n        setTimeout(() => {\n          setFirstVisited('N')\n        }, 3000)\n      } else {\n        setFirstVisited('N')\n      }\n    } catch (error) {\n      setAlertModelVisible(true)\n      setFirstVisited('N')\n    }\n  }\n\n  useEffect(() => {\n    fixUseEffectWarn()\n  }, [])\n\n  useEffect(() => {\n    const { current } = canvasRef\n    if (current && images.length) {\n      const [back, front] = images\n      const stage3D = new stageJS.Stage3D(current)\n      const backBitmap = back && stageJS.BitmapData.fromImageElement(back)\n      const frontBitmap = stageJS.BitmapData.fromImageElement(front)\n      let weakMode = false\n      if (layers[layers.length - 1].stampRule) {\n        if (layers[layers.length - 1].stampRule.stampFlag.flag_effect_layout === 'LOOSE_NG') {\n          weakMode = true\n        }\n      }\n      const control = new uniqlo.LayoutImpl(weakMode)\n      setControl(control)\n      control.acc_l = 1\n\n      control.initWithData(stage3D, backBitmap, frontBitmap)\n      control.startRendering()\n\n      function handleMouseDown (e) {\n        setDrag(true)\n        const { x, y } = getEventPoint(e)\n        control.onMousePress(x, -y)\n      }\n\n      function handleMouseMove (e) {\n        const { x, y } = getEventPoint(e)\n        control.onMouseDrag(x, -y)\n      }\n\n      function handleMouseUp (e) {\n        setDrag(false)\n        const { x, y } = getEventPoint(e)\n        control.onMouseUp(x, -y)\n      }\n\n      let timeoutId\n      function handleMessage ({ data }) {\n        const { x, y } = JSON.parse(data)\n        const { mAcc_x, mAcc_y, FACTOR } = control\n        if (mAcc_x == 0 && mAcc_y == 0) {\n          control.mAcc_x = x\n          control.mAcc_y = y\n          control._accelerationX = 0\n          control._accelerationY = 0\n          control.countUpForce = 0\n        } else {\n          control._accelerationX = (mAcc_x - x)\n          control._accelerationY = (mAcc_y - y)\n          control.mAcc_x = (x * FACTOR) + (mAcc_x * (1 - FACTOR))\n          control.mAcc_y = (y * FACTOR) + (mAcc_y * (1 - FACTOR))\n        }\n        if (timeoutId) {\n          clearTimeout(timeoutId)\n        }\n        timeoutId = setTimeout(() => {\n          control.mAcc_x = 0\n          control.mAcc_y = 0\n          control._accelerationX = 0\n          control._accelerationY = 0\n        }, 100)\n      }\n\n      // function handlePageFocusChange ({ data }) {\n      //   data = JSON.parse(data)\n      //   if (data) {\n      //     startAcceleratorMonitor()\n      //   }\n      // }\n\n      let GL\n\n      function handleStateChange ({ type, prevAppid, nextAppid }) {\n        if (type === 'push' && prevAppid === appid) {\n          GL = stageJS.Context3D.GL\n          stopAcceleratorMonitor()\n        }\n        if (type === 'pop' && nextAppid === appid && GL) {\n          stageJS.Context3D.GL = GL\n          startAcceleratorMonitor(control)\n        }\n      }\n      // current.addEventListener('mousedown', handleMouseDown, false)\n      current.addEventListener('touchstart', handleMouseDown, false)\n      // current.addEventListener('mousemove', handleMouseMove, false)\n      current.addEventListener('touchmove', handleMouseMove, false)\n      // current.addEventListener('mouseup', handleMouseUp, false)\n      current.addEventListener('touchend', handleMouseUp, false)\n      window.addEventListener('UTmeShakeMessage', handleMessage, false)\n      // window.addEventListener('UTmePageFocus', handlePageFocusChange, false)\n      global.AppManager.appRouterEvent.addEventListener('UTmeStateChange', handleStateChange)\n      startAcceleratorMonitor(control)\n\n      setTimeout(() => setZoom(true), 800)\n\n      return () => {\n        control.dispose()\n        // current.removeEventListener('mousedown', handleMouseDown, false)\n        current.removeEventListener('touchstart', handleMouseDown, false)\n        // current.removeEventListener('mousemove', handleMouseMove, false)\n        current.removeEventListener('touchmove', handleMouseMove, false)\n        // current.removeEventListener('mouseup', handleMouseUp, false)\n        current.removeEventListener('touchend', handleMouseUp, false)\n        window.removeEventListener('UTmeShakeMessage', handleMessage, false)\n        // window.addEventListener('UTmePageFocus', handlePageFocusChange, false)\n        global.AppManager.appRouterEvent.removeEventListener('UTmeStateChange', handleStateChange)\n        stopAcceleratorMonitor()\n      }\n    }\n  }, [canvasRef, images])\n\n  const canvasStyle = multiply ? { ...areaStyle, opacity: 0 } : areaStyle\n\n  return (\n    <div style={style}>\n      <AlertModal visible={alertModelVisible} title='error.network.title' description='error.network.description' text='OK' onClick={() => { setAlertModelVisible(false) }} />\n      <div style={{ display: firstVisited === 'N' ? 'block' : 'none' }}>\n        <Navbar disabled={drag} back={stopAcceleratorMonitor} revoke={change}>\n          <GoToNext onClick={stringify} />\n        </Navbar>\n        <ViewPort topLayer={props.topLayer} data={isLayerTop && mixData}>\n          <canvas\n            ref={canvasRef}\n            width={canvasWidth}\n            height={canvasHeight}\n            style={canvasStyle}\n          />\n          {multiply && <canvas width={canvasWidth} height={canvasHeight} style={{ ...areaStyle, pointerEvents: 'none' }} ref={multiplyRef} />}\n        </ViewPort>\n        <Toolbar style={{\n          display: 'flex',\n          justifyContent: 'space-between'\n        }}>\n          {\n            modePickerVisible ? <ModePicker disabled={drag} selectedMode={selectedMode} setSelectedMode={setSelectedMode} /> : ''\n          }\n          <Enlarge position={modePickerVisible ? 'relative' : ''} disabled={drag} />\n        </Toolbar>\n        <RevokeComponent pageMark='mix' resetLayers={stopAcceleratorMonitor} cancelDesign={cancelDesign} show={showStatus} setShow={setShowStatus} />\n      </div>\n      <Instruction onClick={() => {\n        setFirstVisited('N')\n      }} firstVisited={firstVisited} />\n    </div>\n  )\n}\n\nexport default injectImages('front')(AutoDesigner)\n","var map = {\n\t\"./Actions.svg\": 516,\n\t\"./AddToCart.svg\": 575,\n\t\"./Album.svg\": 576,\n\t\"./Album_press.svg\": 577,\n\t\"./AlwaysInFront.svg\": 741,\n\t\"./Arrow.svg\": 565,\n\t\"./Arrows.svg\": 742,\n\t\"./Attention.svg\": 743,\n\t\"./Back_Normal.svg\": 569,\n\t\"./Back_Pressed.svg\": 744,\n\t\"./Back_Pressed_Circle.svg\": 745,\n\t\"./BrushStyle_Normal.svg\": 746,\n\t\"./Btn/Glitch/Normal/01.svg\": 747,\n\t\"./Btn/Glitch/Normal/02.svg\": 748,\n\t\"./Btn/Glitch/Normal/03.svg\": 749,\n\t\"./Btn/Glitch/Pressed/01.svg\": 750,\n\t\"./Btn/Glitch/Pressed/02.svg\": 751,\n\t\"./Btn/Glitch/Pressed/03.svg\": 752,\n\t\"./Btn/Moma/Normal/01.svg\": 753,\n\t\"./Btn/Moma/Normal/02.svg\": 754,\n\t\"./Btn/Moma/Normal/03.svg\": 755,\n\t\"./Btn/Moma/Pressed/01.svg\": 756,\n\t\"./Btn/Moma/Pressed/02.svg\": 757,\n\t\"./Btn/Moma/Pressed/03.svg\": 758,\n\t\"./Btn/layout/Normal/01.svg\": 759,\n\t\"./Btn/layout/Normal/02.svg\": 760,\n\t\"./Btn/layout/Normal/03.svg\": 761,\n\t\"./Btn/layout/Pressed/01.svg\": 762,\n\t\"./Btn/layout/Pressed/02.svg\": 763,\n\t\"./Btn/layout/Pressed/03.svg\": 764,\n\t\"./Btn/mosaic/Normal/01.svg\": 765,\n\t\"./Btn/mosaic/Normal/02.svg\": 766,\n\t\"./Btn/mosaic/Normal/03.svg\": 767,\n\t\"./Btn/mosaic/Pressed/01.svg\": 768,\n\t\"./Btn/mosaic/Pressed/02.svg\": 769,\n\t\"./Btn/mosaic/Pressed/03.svg\": 770,\n\t\"./Btn/none/Normal/01.svg\": 771,\n\t\"./Btn/none/Normal/02.svg\": 772,\n\t\"./Btn/none/Normal/03.svg\": 773,\n\t\"./Btn/none/Pressed/Pressed.svg\": 774,\n\t\"./Btn/splash/Normal/01.svg\": 775,\n\t\"./Btn/splash/Normal/02.svg\": 776,\n\t\"./Btn/splash/Normal/03.svg\": 777,\n\t\"./Btn/splash/Pressed/01.svg\": 778,\n\t\"./Btn/splash/Pressed/02.svg\": 779,\n\t\"./Btn/splash/Pressed/03.svg\": 780,\n\t\"./Btn/xmoma/Normal/01.svg\": 781,\n\t\"./Btn/xmoma/Normal/02.svg\": 782,\n\t\"./Btn/xmoma/Normal/03.svg\": 783,\n\t\"./Btn/xmoma/Pressed/01.svg\": 784,\n\t\"./Btn/xmoma/Pressed/02.svg\": 785,\n\t\"./Btn/xmoma/Pressed/03.svg\": 786,\n\t\"./Camera.svg\": 787,\n\t\"./Camera_press.svg\": 788,\n\t\"./CannotContribute.svg\": 789,\n\t\"./CannotProduce.svg\": 790,\n\t\"./Close_Normal.svg\": 791,\n\t\"./Close_Pressed.svg\": 792,\n\t\"./Color_Normal_01.svg\": 517,\n\t\"./Color_Normal_02.svg\": 518,\n\t\"./Color_Normal_03.svg\": 519,\n\t\"./Color_Normal_04.svg\": 520,\n\t\"./Color_Normal_05.svg\": 521,\n\t\"./Color_Normal_06.svg\": 522,\n\t\"./Color_Normal_07.svg\": 523,\n\t\"./Color_Normal_08.svg\": 524,\n\t\"./Color_Normal_09.svg\": 525,\n\t\"./Complete.svg\": 243,\n\t\"./DeleteStampIcon.svg\": 578,\n\t\"./DottedStyle_Normal.svg\": 793,\n\t\"./Effects.svg\": 526,\n\t\"./Help_Normal.svg\": 794,\n\t\"./Help_Pressed.svg\": 795,\n\t\"./LayerAdd_Normal.svg\": 579,\n\t\"./LayerNone_Normal.svg\": 796,\n\t\"./Layers.svg\": 527,\n\t\"./LineStyle_Normal.svg\": 797,\n\t\"./More.svg\": 528,\n\t\"./NOAUTODESIGNER.svg\": 798,\n\t\"./NODuplicateSameSticker.svg\": 799,\n\t\"./NOGLITCH.svg\": 800,\n\t\"./NOMOSAIC.svg\": 801,\n\t\"./NOMoMACollage.svg\": 802,\n\t\"./NOMoMAEarlyMordenStyle.svg\": 803,\n\t\"./NOOverlap.svg\": 804,\n\t\"./NOPAINT.svg\": 805,\n\t\"./NOPHOTO.svg\": 806,\n\t\"./NOReverse.svg\": 807,\n\t\"./NORotate.svg\": 808,\n\t\"./NOSPLASH.svg\": 809,\n\t\"./NOSTAMP.svg\": 810,\n\t\"./NOTYPOGRAPHY.svg\": 811,\n\t\"./NOUseMultipleStickers.svg\": 812,\n\t\"./New.svg\": 456,\n\t\"./News.svg\": 813,\n\t\"./Next_Normal.svg\": 449,\n\t\"./Publish_Normal.svg\": 814,\n\t\"./RestrictedFunctions.svg\": 529,\n\t\"./Return_Normal.svg\": 815,\n\t\"./Return_Pressed.svg\": 816,\n\t\"./Return_Pressed_Circle.svg\": 817,\n\t\"./Save.svg\": 580,\n\t\"./Save_Press.svg\": 581,\n\t\"./Shake_text/EN/Remix_Disable_EN.svg\": 38,\n\t\"./Shake_text/EN/Text_AutoDesigner_EN.svg\": 157,\n\t\"./Shake_text/EN/Text_AutoDesigner_EN_Pressed.svg\": 164,\n\t\"./Shake_text/EN/Text_Glitch_EN.svg\": 159,\n\t\"./Shake_text/EN/Text_Glitch_EN_Pressed.svg\": 166,\n\t\"./Shake_text/EN/Text_MoMACollage_EN.svg\": 156,\n\t\"./Shake_text/EN/Text_MoMACollage_EN_Pressed.svg\": 163,\n\t\"./Shake_text/EN/Text_MoMAEarlyModernStyle_EN.svg\": 155,\n\t\"./Shake_text/EN/Text_MoMAEarlyModernStyle_EN_Pressed.svg\": 162,\n\t\"./Shake_text/EN/Text_Mosaic_EN.svg\": 160,\n\t\"./Shake_text/EN/Text_Mosaic_EN_Pressed.svg\": 167,\n\t\"./Shake_text/EN/Text_NoRemix_EN.svg\": 161,\n\t\"./Shake_text/EN/Text_NoRemix_EN_Pressed.svg\": 168,\n\t\"./Shake_text/EN/Text_Splash_EN.svg\": 158,\n\t\"./Shake_text/EN/Text_Splash_EN_Pressed.svg\": 165,\n\t\"./Shake_text/JP/Remix_Disable_JP.svg\": 39,\n\t\"./Shake_text/JP/Text_AutoDesigner.svg\": 171,\n\t\"./Shake_text/JP/Text_AutoDesigner_Pressed.svg\": 178,\n\t\"./Shake_text/JP/Text_Glitch.svg\": 173,\n\t\"./Shake_text/JP/Text_Glitch_Pressed.svg\": 180,\n\t\"./Shake_text/JP/Text_MoMACollage.svg\": 170,\n\t\"./Shake_text/JP/Text_MoMACollage_Pressed.svg\": 177,\n\t\"./Shake_text/JP/Text_MoMAEarlyModernStyle.svg\": 169,\n\t\"./Shake_text/JP/Text_MoMAEarlyModernStyle_Pressed.svg\": 176,\n\t\"./Shake_text/JP/Text_Mosaic.svg\": 174,\n\t\"./Shake_text/JP/Text_Mosaic_Pressed.svg\": 181,\n\t\"./Shake_text/JP/Text_NoRemix.svg\": 175,\n\t\"./Shake_text/JP/Text_NoRemix_Pressed.svg\": 182,\n\t\"./Shake_text/JP/Text_Splash.svg\": 172,\n\t\"./Shake_text/JP/Text_Splash_Pressed.svg\": 179,\n\t\"./Shape/Shape_Circle.svg\": 582,\n\t\"./Shape/Shape_Flower_1.svg\": 583,\n\t\"./Shape/Shape_Flower_2.svg\": 584,\n\t\"./Shape/Shape_Flower_3.svg\": 585,\n\t\"./Shape/Shape_Flower_4.svg\": 586,\n\t\"./Shape/Shape_Heart.svg\": 587,\n\t\"./Shape/Shape_Hexagon.svg\": 588,\n\t\"./Shape/Shape_Parallelogram_1.svg\": 589,\n\t\"./Shape/Shape_Parallelogram_2.svg\": 590,\n\t\"./Shape/Shape_Parallelogram_3.svg\": 591,\n\t\"./Shape/Shape_Parallelogram_4.svg\": 592,\n\t\"./Shape/Shape_Quarter_circle_1.svg\": 593,\n\t\"./Shape/Shape_Quarter_circle_2.svg\": 594,\n\t\"./Shape/Shape_Quarter_circle_3.svg\": 595,\n\t\"./Shape/Shape_Quarter_circle_4.svg\": 596,\n\t\"./Shape/Shape_Rectangle.svg\": 597,\n\t\"./Shape/Shape_Rhombus.svg\": 598,\n\t\"./Shape/Shape_Right_triangle_1.svg\": 599,\n\t\"./Shape/Shape_Right_triangle_2.svg\": 600,\n\t\"./Shape/Shape_Right_triangle_3.svg\": 601,\n\t\"./Shape/Shape_Right_triangle_4.svg\": 602,\n\t\"./Shape/Shape_Rounded.svg\": 603,\n\t\"./Shape/Shape_Square.svg\": 604,\n\t\"./Shape/Shape_Star.svg\": 605,\n\t\"./Shape/Shape_Triangle_1.svg\": 606,\n\t\"./Shape/Shape_Triangle_2.svg\": 607,\n\t\"./Shape/Shape_Triangle_3.svg\": 608,\n\t\"./Shape/Shape_Triangle_4.svg\": 609,\n\t\"./Shape/Shape_Zebra_crossing_1.svg\": 610,\n\t\"./Shape/Shape_Zebra_crossing_2.svg\": 611,\n\t\"./Shape/Shape_Zebra_crossing_3.svg\": 612,\n\t\"./Shape/Shape_Zebra_crossing_4.svg\": 613,\n\t\"./ShapeNew/Shape_Circle.svg\": 614,\n\t\"./ShapeNew/Shape_Circle_Fill.svg\": 615,\n\t\"./ShapeNew/Shape_Flower_1.svg\": 616,\n\t\"./ShapeNew/Shape_Flower_1_Fill.svg\": 617,\n\t\"./ShapeNew/Shape_Flower_2.svg\": 618,\n\t\"./ShapeNew/Shape_Flower_2_Fill.svg\": 619,\n\t\"./ShapeNew/Shape_Flower_3.svg\": 620,\n\t\"./ShapeNew/Shape_Flower_3_Fill.svg\": 621,\n\t\"./ShapeNew/Shape_Flower_4.svg\": 622,\n\t\"./ShapeNew/Shape_Flower_4_Fill.svg\": 623,\n\t\"./ShapeNew/Shape_Heart.svg\": 624,\n\t\"./ShapeNew/Shape_Heart_Fill.svg\": 625,\n\t\"./ShapeNew/Shape_Hexagon.svg\": 626,\n\t\"./ShapeNew/Shape_Hexagon_Fill.svg\": 627,\n\t\"./ShapeNew/Shape_Parallelogram_1.svg\": 628,\n\t\"./ShapeNew/Shape_Parallelogram_1_Fill.svg\": 629,\n\t\"./ShapeNew/Shape_Parallelogram_2.svg\": 630,\n\t\"./ShapeNew/Shape_Parallelogram_2_Fill.svg\": 631,\n\t\"./ShapeNew/Shape_Parallelogram_3.svg\": 632,\n\t\"./ShapeNew/Shape_Parallelogram_3_Fill.svg\": 633,\n\t\"./ShapeNew/Shape_Parallelogram_4.svg\": 634,\n\t\"./ShapeNew/Shape_Parallelogram_4_Fill.svg\": 635,\n\t\"./ShapeNew/Shape_QuarterCircle_1.svg\": 636,\n\t\"./ShapeNew/Shape_QuarterCircle_1_Fill.svg\": 637,\n\t\"./ShapeNew/Shape_QuarterCircle_2.svg\": 638,\n\t\"./ShapeNew/Shape_QuarterCircle_2_Fill.svg\": 639,\n\t\"./ShapeNew/Shape_QuarterCircle_3.svg\": 640,\n\t\"./ShapeNew/Shape_QuarterCircle_3_Fill.svg\": 641,\n\t\"./ShapeNew/Shape_QuarterCircle_4.svg\": 642,\n\t\"./ShapeNew/Shape_QuarterCircle_4_Fill.svg\": 643,\n\t\"./ShapeNew/Shape_Rectangle.svg\": 644,\n\t\"./ShapeNew/Shape_Rectangle_Fill.svg\": 645,\n\t\"./ShapeNew/Shape_Rhombus.svg\": 646,\n\t\"./ShapeNew/Shape_Rhombus_Fill.svg\": 647,\n\t\"./ShapeNew/Shape_RightTriangle_1.svg\": 648,\n\t\"./ShapeNew/Shape_RightTriangle_1_Fill.svg\": 649,\n\t\"./ShapeNew/Shape_RightTriangle_2.svg\": 650,\n\t\"./ShapeNew/Shape_RightTriangle_2_Fill.svg\": 651,\n\t\"./ShapeNew/Shape_RightTriangle_3.svg\": 652,\n\t\"./ShapeNew/Shape_RightTriangle_3_Fill.svg\": 653,\n\t\"./ShapeNew/Shape_RightTriangle_4.svg\": 654,\n\t\"./ShapeNew/Shape_RightTriangle_4_Fill.svg\": 655,\n\t\"./ShapeNew/Shape_Rounded.svg\": 656,\n\t\"./ShapeNew/Shape_Rounded_Fill.svg\": 657,\n\t\"./ShapeNew/Shape_Square.svg\": 658,\n\t\"./ShapeNew/Shape_Square_Fill.svg\": 659,\n\t\"./ShapeNew/Shape_Star.svg\": 660,\n\t\"./ShapeNew/Shape_Star_Fill.svg\": 661,\n\t\"./ShapeNew/Shape_Triangle_1.svg\": 662,\n\t\"./ShapeNew/Shape_Triangle_1_Fill.svg\": 663,\n\t\"./ShapeNew/Shape_Triangle_2.svg\": 664,\n\t\"./ShapeNew/Shape_Triangle_2_Fill.svg\": 665,\n\t\"./ShapeNew/Shape_Triangle_3.svg\": 666,\n\t\"./ShapeNew/Shape_Triangle_3_Fill.svg\": 667,\n\t\"./ShapeNew/Shape_Triangle_4.svg\": 668,\n\t\"./ShapeNew/Shape_Triangle_4_Fill.svg\": 669,\n\t\"./ShapeNew/Shape_ZebraCrossing_1.svg\": 670,\n\t\"./ShapeNew/Shape_ZebraCrossing_1_Fill.svg\": 671,\n\t\"./ShapeNew/Shape_ZebraCrossing_2.svg\": 672,\n\t\"./ShapeNew/Shape_ZebraCrossing_2_Fill.svg\": 673,\n\t\"./ShapeNew/Shape_ZebraCrossing_3.svg\": 674,\n\t\"./ShapeNew/Shape_ZebraCrossing_3_Fill.svg\": 675,\n\t\"./ShapeNew/Shape_ZebraCrossing_4.svg\": 676,\n\t\"./ShapeNew/Shape_ZebraCrossing_4_Fill.svg\": 677,\n\t\"./Tips_Stop.svg\": 678,\n\t\"./and.svg\": 679,\n\t\"./arrow2.svg\": 457,\n\t\"./back/back_normal.svg\": 148,\n\t\"./back/back_pressed.svg\": 151,\n\t\"./blend-alpha-pressed.svg\": 818,\n\t\"./blend-alpha.svg\": 819,\n\t\"./blend-mask-pressed.svg\": 820,\n\t\"./blend-mask.svg\": 821,\n\t\"./blend-multiply-pressed.svg\": 822,\n\t\"./blend-multiply.svg\": 823,\n\t\"./blend-normal-pressed.svg\": 824,\n\t\"./blend-normal.svg\": 680,\n\t\"./blend-screen-pressed.svg\": 825,\n\t\"./blend-screen.svg\": 826,\n\t\"./brush-style-pressed.svg\": 827,\n\t\"./brush-style.svg\": 828,\n\t\"./centerAlign.svg\": 570,\n\t\"./check.svg\": 438,\n\t\"./close-normal.svg\": 458,\n\t\"./close-normalchange.svg\": 829,\n\t\"./color.svg\": 573,\n\t\"./dotted-style-pressed.svg\": 830,\n\t\"./dotted-style.svg\": 831,\n\t\"./editArea.svg\": 832,\n\t\"./eraser.svg\": 530,\n\t\"./eraser_selected_normal.svg\": 531,\n\t\"./eraser_selected_pressed.svg\": 833,\n\t\"./error.svg\": 477,\n\t\"./failed.svg\": 242,\n\t\"./font-normal.svg\": 515,\n\t\"./home/en/paint_text_normal.170x110.svg\": 834,\n\t\"./home/en/paint_text_normal.svg\": 532,\n\t\"./home/en/paint_text_pressed.170x110.svg\": 835,\n\t\"./home/en/paint_text_pressed.svg\": 836,\n\t\"./home/en/pic_text_normal.170x110.svg\": 837,\n\t\"./home/en/pic_text_normal.svg\": 533,\n\t\"./home/en/pic_text_pressed.170x110.svg\": 838,\n\t\"./home/en/pic_text_pressed.svg\": 839,\n\t\"./home/en/stamp_text_normal.170x110.svg\": 840,\n\t\"./home/en/stamp_text_normal.svg\": 534,\n\t\"./home/en/stamp_text_pressed.170x110.svg\": 841,\n\t\"./home/en/stamp_text_pressed.svg\": 842,\n\t\"./home/en/text_text_normal.170x110.svg\": 843,\n\t\"./home/en/text_text_normal.svg\": 535,\n\t\"./home/en/text_text_pressed.170x110.svg\": 844,\n\t\"./home/en/text_text_pressed.svg\": 845,\n\t\"./home/jp/Text_Text_pressed-1.svg\": 846,\n\t\"./home/jp/paint_text_normal.170x110.svg\": 847,\n\t\"./home/jp/paint_text_normal.svg\": 536,\n\t\"./home/jp/paint_text_pressed.170x110.svg\": 848,\n\t\"./home/jp/paint_text_pressed.svg\": 849,\n\t\"./home/jp/pic_text_normal.170x110.svg\": 850,\n\t\"./home/jp/pic_text_normal.svg\": 537,\n\t\"./home/jp/pic_text_pressed.170x110.svg\": 851,\n\t\"./home/jp/pic_text_pressed.svg\": 852,\n\t\"./home/jp/stamp_text_normal.170x110.svg\": 853,\n\t\"./home/jp/stamp_text_normal.svg\": 538,\n\t\"./home/jp/stamp_text_pressed.170x110.svg\": 854,\n\t\"./home/jp/stamp_text_pressed.svg\": 855,\n\t\"./home/jp/text_text_normal.170x110.svg\": 856,\n\t\"./home/jp/text_text_normal.svg\": 539,\n\t\"./home/jp/text_text_pressed.170x110.svg\": 857,\n\t\"./home/jp/text_text_pressed.svg\": 858,\n\t\"./icon-brush.svg\": 540,\n\t\"./keyboard/keyboard_normal_black.svg\": 567,\n\t\"./keyboard/keyboard_normal_white.svg\": 568,\n\t\"./keyboard/keyboard_pressed_black.svg\": 566,\n\t\"./leftAlign.svg\": 571,\n\t\"./line-style-pressed.svg\": 859,\n\t\"./line-style.svg\": 860,\n\t\"./link.svg\": 681,\n\t\"./make_text/paint_text_normal_en_android.svg\": 478,\n\t\"./make_text/paint_text_normal_en_ios.svg\": 479,\n\t\"./make_text/paint_text_normal_ja_android.svg\": 480,\n\t\"./make_text/paint_text_normal_ja_ios.svg\": 481,\n\t\"./make_text/paint_text_pressed_en_android.svg\": 482,\n\t\"./make_text/paint_text_pressed_en_ios.svg\": 483,\n\t\"./make_text/paint_text_pressed_ja_android.svg\": 484,\n\t\"./make_text/paint_text_pressed_ja_ios.svg\": 485,\n\t\"./make_text/photo_text_normal_en_android.svg\": 486,\n\t\"./make_text/photo_text_normal_en_ios.svg\": 487,\n\t\"./make_text/photo_text_normal_ja_android.svg\": 488,\n\t\"./make_text/photo_text_normal_ja_ios.svg\": 489,\n\t\"./make_text/photo_text_pressed_en_android.svg\": 490,\n\t\"./make_text/photo_text_pressed_en_ios.svg\": 491,\n\t\"./make_text/photo_text_pressed_ja_android.svg\": 492,\n\t\"./make_text/photo_text_pressed_ja_ios.svg\": 493,\n\t\"./make_text/stamp_text_normal_en_android.svg\": 494,\n\t\"./make_text/stamp_text_normal_en_ios.svg\": 495,\n\t\"./make_text/stamp_text_normal_ja_android.svg\": 496,\n\t\"./make_text/stamp_text_normal_ja_ios.svg\": 497,\n\t\"./make_text/stamp_text_pressed_en_android.svg\": 498,\n\t\"./make_text/stamp_text_pressed_en_ios.svg\": 499,\n\t\"./make_text/stamp_text_pressed_ja_android.svg\": 500,\n\t\"./make_text/stamp_text_pressed_ja_ios.svg\": 501,\n\t\"./make_text/text_text_normal_en_android.svg\": 502,\n\t\"./make_text/text_text_normal_en_ios.svg\": 503,\n\t\"./make_text/text_text_normal_ja_android.svg\": 504,\n\t\"./make_text/text_text_normal_ja_ios.svg\": 505,\n\t\"./make_text/text_text_pressed_en_android.svg\": 506,\n\t\"./make_text/text_text_pressed_en_ios.svg\": 507,\n\t\"./make_text/text_text_pressed_ja_android.svg\": 508,\n\t\"./make_text/text_text_pressed_ja_ios.svg\": 509,\n\t\"./mix-1.svg\": 861,\n\t\"./mix-2.svg\": 862,\n\t\"./mix-3.svg\": 863,\n\t\"./mix-4.svg\": 864,\n\t\"./mix-5.svg\": 865,\n\t\"./mix-6.svg\": 866,\n\t\"./mode-normal.svg\": 682,\n\t\"./moma-normal-02.svg\": 867,\n\t\"./moma-normal.svg\": 683,\n\t\"./mosaic-circle-pressed.svg\": 868,\n\t\"./mosaic-circle-style-pressed.svg\": 869,\n\t\"./mosaic-circle-style.svg\": 870,\n\t\"./mosaic-circle.svg\": 871,\n\t\"./mosaic-normal.svg\": 684,\n\t\"./mosaic-round-rect-pressed.svg\": 872,\n\t\"./mosaic-round-rect-style-pressed.svg\": 873,\n\t\"./mosaic-round-rect-style.svg\": 874,\n\t\"./mosaic-round-rect.svg\": 875,\n\t\"./mosaic-square-pressed.svg\": 876,\n\t\"./mosaic-square-style-pressed.svg\": 877,\n\t\"./mosaic-square-style.svg\": 878,\n\t\"./mosaic-square.svg\": 879,\n\t\"./mosaicCircle_Normal.svg\": 880,\n\t\"./mosaicCircle_Pressed.svg\": 881,\n\t\"./mosaicSquare_Normal.svg\": 882,\n\t\"./mosaicSquare_Pressed.svg\": 883,\n\t\"./newSave.svg\": 685,\n\t\"./next-disabel.svg\": 459,\n\t\"./next_disabel.svg\": 686,\n\t\"./normal.svg\": 687,\n\t\"./normal_press.svg\": 688,\n\t\"./paint.svg\": 884,\n\t\"./photo.svg\": 885,\n\t\"./play-normal.svg\": 689,\n\t\"./prohibit.svg\": 241,\n\t\"./prohibit/allowed/NODuplicateSameSticker.svg\": 690,\n\t\"./prohibit/allowed/NOOverlap.svg\": 691,\n\t\"./prohibit/allowed/NOReverse.svg\": 692,\n\t\"./prohibit/allowed/NORotate.svg\": 693,\n\t\"./prohibit/allowed/NOUseMultipleStickers.svg\": 694,\n\t\"./prohibit/allowed/duplicate-same-sticker-normal.svg\": 541,\n\t\"./prohibit/allowed/overlap-normal.svg\": 542,\n\t\"./prohibit/allowed/reverse-normal.svg\": 543,\n\t\"./prohibit/allowed/rotate-normal.svg\": 544,\n\t\"./prohibit/allowed/use-multiple-stickers-normal.svg\": 545,\n\t\"./prohibit/effects/NOAUTODESIGNER.svg\": 695,\n\t\"./prohibit/effects/NOGLITCH.svg\": 696,\n\t\"./prohibit/effects/NOMOSAIC.svg\": 697,\n\t\"./prohibit/effects/NOMoMACollage.svg\": 698,\n\t\"./prohibit/effects/NOMoMAEarlyMordenStyle.svg\": 699,\n\t\"./prohibit/effects/NOSPLASH.svg\": 700,\n\t\"./prohibit/effects/autodesigner-normal.svg\": 546,\n\t\"./prohibit/effects/glitch-normal.svg\": 547,\n\t\"./prohibit/effects/mo-ma-collage-normal.svg\": 548,\n\t\"./prohibit/effects/mo-ma-early-morden-style-normal.svg\": 549,\n\t\"./prohibit/effects/mosaic-normal.svg\": 550,\n\t\"./prohibit/effects/splash-normal.svg\": 551,\n\t\"./prohibit/layers/NOPAINT.svg\": 701,\n\t\"./prohibit/layers/NOPHOTO.svg\": 702,\n\t\"./prohibit/layers/NOSTAMP.svg\": 703,\n\t\"./prohibit/layers/NOTYPOGRAPHY.svg\": 704,\n\t\"./prohibit/layers/paint-normal.svg\": 552,\n\t\"./prohibit/layers/photo-normal.svg\": 553,\n\t\"./prohibit/layers/stamp-normal.svg\": 554,\n\t\"./prohibit/layers/typography-normal.svg\": 555,\n\t\"./prohibit/restricted/AlwaysInFront.svg\": 705,\n\t\"./prohibit/restricted/CannotContribute.svg\": 706,\n\t\"./prohibit/restricted/CannotProduce.svg\": 707,\n\t\"./remix_gif/none_Normal.svg\": 153,\n\t\"./remix_gif/none_Pressed.svg\": 154,\n\t\"./return-normal.svg\": 445,\n\t\"./return-normalchange.svg\": 886,\n\t\"./return-pressed.svg\": 455,\n\t\"./return/return_normal.svg\": 149,\n\t\"./return/return_pressed.svg\": 152,\n\t\"./rightAlign.svg\": 572,\n\t\"./rotate-normal.svg\": 448,\n\t\"./shape-normals/Shape_Circle_normal.svg\": 465,\n\t\"./shape-normals/Shape_Flower_normal_1.svg\": 708,\n\t\"./shape-normals/Shape_Flower_normal_2.svg\": 709,\n\t\"./shape-normals/Shape_Flower_normal_3.svg\": 710,\n\t\"./shape-normals/Shape_Flower_normal_4.svg\": 711,\n\t\"./shape-normals/Shape_Heart_normal.svg\": 466,\n\t\"./shape-normals/Shape_Hexagon_normal.svg\": 467,\n\t\"./shape-normals/Shape_Parallelogram_normal_1.svg\": 712,\n\t\"./shape-normals/Shape_Parallelogram_normal_2.svg\": 713,\n\t\"./shape-normals/Shape_Parallelogram_normal_3.svg\": 714,\n\t\"./shape-normals/Shape_Parallelogram_normal_4.svg\": 715,\n\t\"./shape-normals/Shape_Quarter_circle_normal_1.svg\": 716,\n\t\"./shape-normals/Shape_Quarter_circle_normal_2.svg\": 717,\n\t\"./shape-normals/Shape_Quarter_circle_normal_3.svg\": 718,\n\t\"./shape-normals/Shape_Quarter_circle_normal_4.svg\": 719,\n\t\"./shape-normals/Shape_Rectangle_normal.svg\": 468,\n\t\"./shape-normals/Shape_Rhombus_normal.svg\": 469,\n\t\"./shape-normals/Shape_Right_triangle_normal_1.svg\": 720,\n\t\"./shape-normals/Shape_Right_triangle_normal_2.svg\": 721,\n\t\"./shape-normals/Shape_Right_triangle_normal_3.svg\": 722,\n\t\"./shape-normals/Shape_Right_triangle_normal_4.svg\": 723,\n\t\"./shape-normals/Shape_Rounded_normal.svg\": 470,\n\t\"./shape-normals/Shape_Square_normal.svg\": 471,\n\t\"./shape-normals/Shape_Star_normal.svg\": 472,\n\t\"./shape-normals/Shape_Triangle_normal_1.svg\": 724,\n\t\"./shape-normals/Shape_Triangle_normal_2.svg\": 725,\n\t\"./shape-normals/Shape_Triangle_normal_3.svg\": 726,\n\t\"./shape-normals/Shape_Triangle_normal_4.svg\": 727,\n\t\"./shape-normals/Shape_Zebra_crossing_normal_1.svg\": 728,\n\t\"./shape-normals/Shape_Zebra_crossing_normal_2.svg\": 729,\n\t\"./shape-normals/Shape_Zebra_crossing_normal_3.svg\": 730,\n\t\"./shape-normals/Shape_Zebra_crossing_normal_4.svg\": 731,\n\t\"./stamp.svg\": 887,\n\t\"./stop-normal.svg\": 732,\n\t\"./text-color-normal.svg\": 733,\n\t\"./text.svg\": 888,\n\t\"./textBoxIconBackground.svg\": 734,\n\t\"./thick_brush_selected_Pressed.svg\": 889,\n\t\"./thick_brush_selected_normal.svg\": 556,\n\t\"./thin-brush.svg\": 557,\n\t\"./thin_brush_selected_normal.svg\": 558,\n\t\"./thin_brush_selected_pressed.svg\": 890,\n\t\"./triangle.svg\": 574,\n\t\"./typeColorBtnRed.svg\": 244,\n\t\"./warning.svg\": 735\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 439;","import React, { useState, useEffect, useContext } from 'react'\nimport Popup from '../../components/Popup'\nimport Locale from '../../components/Locale'\nimport { LocaleContext } from '../../contexts/LocaleContext'\nimport { uniqlo } from '../../metalib'\nimport { Flex } from 'antd-mobile'\nimport { MakeContext } from '../../contexts/MakeContext';\n\nfunction StyleButton (props) {\n  const { type: filterType, onClick, active, border, ...extraProps } = props\n  const languageType = useContext(LocaleContext)\n\n  useEffect(() => {}, [])\n\n  return (\n    <div\n      onClick={() => {\n        onClick()\n      }}\n      style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: 16,\n        borderBottom: border ? 'none' : '1px solid #dadada',\n        // boxShadow: 'inset 0 -1px 0 0 #DADADA',\n        // height: 56,\n        // lineHeight: '56px',\n        backgroundColor: '#FFF'\n      }}\n      {...extraProps}\n    >\n      <img src={require(`../../assets/${props.icon}`)} height={24} width={24} />\n      <div style={{\n        fontFamily: languageType.current === 'ja' ? 'NotoSansCJKjp-Bold' : 'initial',\n        color: '#1b1b1b',\n        textAlign: 'center',\n        width: '80%',\n        fontSize: languageType.current === 'ja' ? '17px' : '20px',\n        fontWeight: languageType.current === 'ja' ? 'initial' : 'bold'\n      }}>\n        <Locale code={props.label} />\n      </div>\n      {active ? <img src={require(`../../assets/check.svg`)} height={24} width={24} /> : <div style={{ width: 24, height: 24 }} />}\n    </div>\n  )\n}\n\nexport default function ModePicker (props) {\n  const { selectedMode, setSelectedMode } = props\n  const languageType = useContext(LocaleContext)\n  const make = useContext(MakeContext)\n  const [styleIcon, setStyleIcon] = useState('blend-normal')\n  const [popupVisible, setPopupVisible] = useState(false)\n  const [modePickerStatus, setModePickerStatus] = useState(false)\n\n  useEffect(() => {\n    let layers = make.layers\n    let blendfunc = true\n    let blendfuncNGnum = 0\n    layers.forEach(element => {\n      if (element.stampRule) {\n        if (element.stampRule.stampFlag.flag_can_other_layer_over === 'NG') {\n          blendfuncNGnum = blendfuncNGnum + 1\n        }\n      }\n    })\n    if(layers[layers.length - 1].stampRule){\n      if(layers[layers.length - 1].stampRule.stampFlag.flag_effect_blendfunc === 'NG'){\n          blendfunc = false\n      }\n      else{\n        blendfunc = true\n      }\n      \n    }\n    if ((layers.length - blendfuncNGnum) > 1&&blendfunc) {\n      setModePickerStatus(true)\n    } else {\n      setModePickerStatus(false)\n    }\n  }, [])\n  // function createClickHandler (type, closePopup) {\n  //   return function clickHandler () {\n  //     // props.onChange(type)\n  //     setSelectedMode(type)\n  //     closePopup()\n  //   }\n  // }\n\n  function createClickHandler (type, closePopup) {\n    return function clickHandler () {\n      // props.onChange(type)\n      if (type === 'ERASE') {\n        setStyleIcon('blend-mask')\n      } else if (type === 'ALPHA') {\n        setStyleIcon('blend-alpha')\n      } else if (type === 'SCREEN') {\n        setStyleIcon('blend-screen')\n      } else if (type === 'MULTIPLY') {\n        setStyleIcon('blend-multiply')\n      } else {\n        setStyleIcon('blend-normal')\n      }\n      setSelectedMode(type)\n      closePopup()\n    }\n  }\n\n  function onMouseDownChange () {\n    setStyleIcon(styleIcon + '-pressed')\n  }\n\n  function onMouseUpChange () {\n    let newStyleIcon = styleIcon.replace('-pressed', '')\n    setStyleIcon(newStyleIcon)\n  }\n\n  return (\n    <Popup\n      disabled={props.disabled}\n      renderOverlay={(overlayProps) => {\n        const { triggerRect, closePopup, visible } = overlayProps\n        setPopupVisible(visible)\n        if (!triggerRect) return <div />\n        return (\n          <div style={{ position: 'absolute', width: window.innerWidth, bottom: 102, zIndex: 12 }}>\n            <div className='txtBold' style={{\n              color: '#1B1B1B',\n              padding: 16,\n              fontFamily: languageType.current === 'ja' ? 'NotoSansCJKjp-Bold' : 'initial',\n              fontSize: languageType.current === 'ja' ? '17px' : '20px',\n              borderBottom: '1px solid #dadada',\n              backgroundColor: '#FFF',\n              textAlign: 'center',\n              fontWeight: languageType.current === 'ja' ? 'initial' : 'bold'\n            }}>\n              <Locale code='mix.mode.picker.title' />\n            </div>\n            <div>\n              <StyleButton\n                active={selectedMode === uniqlo.BlendMode.NORMAL}\n                onClick={createClickHandler(uniqlo.BlendMode.NORMAL, closePopup)}\n                type='normal' icon='blend-normal.svg' label='mix.mode.picker.normal' />\n              <StyleButton\n                active={selectedMode === uniqlo.BlendMode.ALPHA}\n                onClick={createClickHandler(uniqlo.BlendMode.ALPHA, closePopup)}\n                type='alpha' icon='blend-alpha.svg' label='mix.mode.picker.alpha' />\n              <StyleButton\n                active={selectedMode === uniqlo.BlendMode.SCREEN}\n                onClick={createClickHandler(uniqlo.BlendMode.SCREEN, closePopup)}\n                type='screen' icon='blend-screen.svg' label='mix.mode.picker.screen' />\n              <StyleButton\n                active={selectedMode === uniqlo.BlendMode.MULTIPLY}\n                onClick={createClickHandler(uniqlo.BlendMode.MULTIPLY, closePopup)}\n                type='multiply' icon='blend-multiply.svg' label='mix.mode.picker.multiply' />\n              <StyleButton\n                border='none'\n                active={selectedMode === uniqlo.BlendMode.ERASE}\n                onClick={createClickHandler(uniqlo.BlendMode.ERASE, closePopup)}\n                type='crop' icon='blend-mask.svg' label='mix.mode.picker.crop' />\n            </div>\n            <div style={{\n              position: 'absolute',\n              marginLeft: 26 }}>\n              <svg width='30' height='24' viewBox='0 0 30 24'>\n                <path\n                  fill='#fff'\n                  d='M30 0 L15 20 L 0 0 z'\n                />\n              </svg>\n            </div>\n          </div>\n        )\n      }}\n    >\n     {\n       modePickerStatus ? \n        <div\n          onTouchStart={() => {\n            onMouseDownChange()\n          }}\n          onTouchEnd={() => {\n            onMouseUpChange()\n          }}\n          style={{\n            borderRadius: 50,\n            width: 50,\n            boxSizing: 'border-box',\n            height: 50,\n            backgroundColor: 'white',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            border: '1px solid rgb(221, 221, 221)',\n            zIndex: popupVisible ? 13 : 11\n          }}\n        >\n          <span>\n            <img\n              src={require(`../../assets/${styleIcon}.svg`)}\n              alt=''\n              style={{\n                width: '100%',\n                height: '100%'\n              }}\n            />\n          </span>\n        </div> : <div style={{\n            width: 50,\n            boxSizing: 'border-box',\n            height: 50,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }} />\n    }\n    </Popup>\n  )\n}\n","import React, { useContext } from 'react'\nimport Locale from '../../components/Locale'\nimport { LocaleContext } from '../../contexts/LocaleContext'\n\nexport default function Instruction (props) {\n  const languageType = useContext(LocaleContext)\n  return (\n    <div onClick={props.onClick} style={{\n      display: props.firstVisited === 'Y' ? 'flex' : 'none',\n      position: 'fixed',\n      left: 0,\n      right: 0,\n      bottom: 0,\n      top: 0,\n      overflow: 'hidden',\n      backgroundColor: '#fff',\n      textAlign: 'center',\n      alignItems: 'center',\n      justifyContent: 'center',\n      flexDirection: 'column',\n      zIndex: 10\n    }}>\n      <img width={257.6} height={297.85} style={{ marginLeft: '30%' }} src={require('../../assets/shake_anime.gif')} />\n      <div style={{\n        marginTop: 20,\n        width: '75%',\n        color: '#1b1b1b',\n        fontFamily: languageType.current === 'ja' ? 'NotoSansCJKjp-Bold' : 'initial',\n        fontWeight: languageType.current === 'ja' ? 'initial' : 'bold',\n        fontSize: languageType.current === 'ja' ? '17px' : '20px'\n      }}>\n        <Locale code='mix.instruction' />\n      </div>\n    </div>\n  )\n}\n","export default function getEventPoint (t) {\n  const { touches, target } = t\n  const { left, top } = target.getBoundingClientRect()\n  if (touches) {\n    const touch = touches[0]\n    if (touch) {\n      return { x: touch.clientX - left, y: touch.clientY - top }\n    }\n  }\n  return { x: t.clientX - left, y: t.clientY - top }\n}\n"],"sourceRoot":""}