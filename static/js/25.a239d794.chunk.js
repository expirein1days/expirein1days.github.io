(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1760:function(e,t,a){},1772:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a.n(n),i=a(71),c=a(14),s=a(79),o=a(9),l=a(0),p=a.n(l),d=a(144),f=a(60),u=a(59),m=a.n(u),h=a(1200),b=(a(1760),a(19)),g=a(26),w=a(150),v=a(20),y=a(11),O=a(24);t.default=function(e){var t=Object(l.useState)([]),a=Object(o.a)(t,2),n=a[0],u=a[1],_=Object(l.useState)(!1),x=Object(o.a)(_,2),k=x[0],E=x[1],j=Object(l.useContext)(b.a),N=j.layers,S=Object(f.a)(),G=Object(l.useContext)(v.a),C=Object(l.useState)(!1),R=Object(o.a)(C,2),J=R[0],V=R[1];function D(){return(D=Object(c.a)(r.a.mark(function e(t,a,n,i){var c,s,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=28;break}if(c=[],s=JSON.stringify(i),(o=JSON.parse(s)).pop(),e.prev=5,o.forEach(function(e){"NG"===t["flag_layer_".concat(e)]&&c.push(e)}),!(c.length>0)){e.next=12;break}return e.next=10,Object(y.a)("stampDisabled",c);case 10:e.next=14;break;case 12:return e.next=14,Object(y.a)("stampDisabledOver");case 14:e.next=26;break;case 16:if(e.prev=16,e.t0=e.catch(5),o.forEach(function(e){"NG"===t["flag_layer_".concat(e)]&&c.push(e)}),!(c.length>0)){e.next=24;break}return e.next=22,Object(y.a)("stampDisabled",c);case 22:e.next=26;break;case 24:return e.next=26,Object(y.a)("stampDisabledOver");case 26:e.next=31;break;case 28:j.setModalVisible(!0),j.changeSelectedStamp(t),j.changePreStamp(t);case 31:case"end":return e.stop()}},e,this,[[5,16]])}))).apply(this,arguments)}Object(l.useEffect)(function(){var e=document.getElementsByClassName("stampShow")[0].parentNode;e.style.height=window.innerHeight,e.style.overflow="auto"},[]),Object(l.useEffect)(function(){var e;if(S.location.search){var t=m.a.parse(S.location.search.substr(1));if(t.passProps){var a=g.a.decodeURI(t.passProps).stamp,n=a.map(function(e){return e.id}).sort(function(e,t){return e-t}),r=[];n.map(function(e){var t=a.filter(function(t){return t.id===e});r.push.apply(r,Object(s.a)(t))}),j.changeStampTitleName(a[0].contents_holder_name),e=r}}var i="NG",c=[];if(N.forEach(function(e){Object(y.a)("log","element.type"+e.type),c.push(e.type),e.stampRule&&"NG"===e.stampRule.stampFlag.flag_can_other_layer_over&&(i="OK")}),e.length>0){var o=Array.from(new Set(e)).sort(function(e,t){return t.updated_on-e.updated_on}).map(function(e,t){var a=t+1,n=!1;return"NG"===e.flag_can_other_layer_over&&"OK"===i&&(n=!0),N.length>1&&("NG"===e.flag_layer_stamp&&c.indexOf("stamp")>-1||"NG"===e.flag_layer_paint&&c.indexOf("paint")>-1||"NG"===e.flag_layer_text&&c.indexOf("text")>-1||"NG"===e.flag_layer_photo&&c.indexOf("photo")>-1)&&(n=!0),p.a.createElement("div",{className:"wrap",key:e.id.toString(),onClick:function(){!function(e,t,a,n){D.apply(this,arguments)}(e,n,i,c)}},p.a.createElement("div",{style:{width:(window.innerWidth-40-91)/4,height:(window.innerWidth-40-91)/4,filter:"grayscale(".concat(n?"100%":"0%",")")}},p.a.createElement("img",{src:e.main_image_url,alt:"",style:{width:"100%",height:"100%"}})),e.is_new&&p.a.createElement("div",{style:{width:5,height:5,borderRadius:"100%",backgroundColor:"red",position:"absolute"}}),p.a.createElement("div",{style:{width:(window.innerWidth-40-91)/4,marginRight:a%4==0?0:30,textAlign:"center"}},"en"===G.current?p.a.createElement("div",{className:"down",style:{width:(window.innerWidth-40-91)/4}},p.a.createElement("p",{className:"wrapbreak"},e.name)):p.a.createElement("div",{className:"Jandown"},p.a.createElement("p",{className:"wrapbreak"},e.name))))});u(o)}},[]);var P={modalVisible:j.modalVisible,stamp:j.selectedStamp};return p.a.createElement("div",{style:{overflow:"auto",height:"100%",background:"#fff"}},p.a.createElement(d.a,{revoke:function(){E(!0)},page:"stampShowcase",currentPage:"stampShowcase"}),p.a.createElement("div",{style:{background:"#fff"}},p.a.createElement("div",{className:"stampShow",style:Object(i.a)({height:"auto",overflow:k||j.modalVisible?"hidden":"auto",display:"flex",justifyContent:"flex-start",paddingTop:20,marginTop:44,paddingLeft:20,paddintgRigh:21,background:"#fff",textOverflow:"ellipsis",whiteSpace:"nowrap"},"background","#fff")},n)),j.modalVisible&&p.a.createElement(h.a,P),k?p.a.createElement(w.a,{status:k,isAgainFu:function(e){E(!1)}}):"",J?p.a.createElement(O.a,{visible:J,title:"error.network.title",description:"error.network.description",text:"OK",onClick:function(){V(!1)}}):"")}}}]);
//# sourceMappingURL=25.a239d794.chunk.js.map