{"version":3,"sources":["routes/stamp/StampModal/index.js","assets/close-normal.svg","assets/Actions.svg","assets/Effects.svg","assets/Layers.svg","assets/RestrictedFunctions.svg"],"names":["StampModal","props","modalVisible","stamp","make","useContext","MakeContext","locale","LocaleContext","_useState","useState","_useState2","Object","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","alertModelVisible","setAlertModelVisible","changeRecentStampArr","recentStampArr","countryCode","layers","previousPage","setLayers","goSetStamp","preStamp","changeSetStampVisible","changeTextVisible","changeSelectedStamp","_x","_changeRecentStampsFun","apply","this","arguments","changeRecentStampsFun","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","recentStampObj","_recentStampArr","o","index","obj","stampObj","newStampArr","colorId","list","key","lastLayer","wrap","_context","prev","next","invoke","sent","JSON","stringify","parse","forEach","item","i","id","splice","unshift","length","pop","value","item_restrictions","push","concat","itemId","stampFlag","flag_layer_paint","flag_layer_text","flag_layer_photo","flag_layer_stamp","flag_can_other_layer_over","flag_effect_blendfunc","flag_effect_moma01","flag_effect_moma02","flag_effect_layout","flag_effect_splash","flag_effect_glitch","flag_effect_mosaic","stampId","mixArr","type","stampRule","to","params","setModalVisible","t0","stop","useEffect","InitializationThrottle","modalProps","visible","transparent","maskClosable","footer","text","onPress","throttle","title","react__WEBPACK_IMPORTED_MODULE_4___default","createElement","className","current","_components_Locale__WEBPACK_IMPORTED_MODULE_10__","code","onClick","style","position","top","left","height","width","src","require","onClose","antd_mobile__WEBPACK_IMPORTED_MODULE_5__","assign","wrapClassName","selectedStamp","stampIntroduce","flag","keys","actionAllowed","flag_used_with_multiple_stamps","flag_used_with_same_stamps","flag_rotation","flag_can_over","layerAllow","effectAllow","RestrictedFunctionsAllow","flag_list","isShowTitleHeader","maxHeight","overflow","overflowY","main_image_url","alt","contents_holder_name","name","display","fontSize","fontWeight","color","alignItems","fontFamily","price","split","_Users_09013730_git_hand_utme_make_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","paddingTop","paddingBottom","paddingLeft","paddingRight","justifyContent","boxShadow","copyright","flex","indexOf","createStampIntroduce","_components_AlertModal__WEBPACK_IMPORTED_MODULE_12__","description","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/5.1c3b4ca4.chunk.js","sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\nimport { Modal } from 'antd-mobile'\nimport { MakeContext } from '../../MakeContext'\nimport invoke from '../../../utils/invoke'\nimport '../stamp.css'\nimport { throttle, InitializationThrottle } from '../../../utils/throttle'\nimport Locale from '../../../components/Locale'\nimport { LocaleContext } from '../../../contexts/LocaleContext'\nimport AlertModal from '../../../components/AlertModal'\n// const throttle = function (fn, wait, scope) {\n//   clearTimeout(throttle.timer)\n//   throttle.timer = setTimeout(function () {\n//     fn.call(null, scope)\n//   }, wait)\n// }\n\nfunction StampModal (props) {\n  const { modalVisible, stamp } = props\n  const make = useContext(MakeContext)\n  const locale = useContext(LocaleContext)\n  const [alertModelVisible, setAlertModelVisible] = useState(false)\n  const {\n    recentStampArr,\n    changeRecentStampArr,\n    countryCode,\n    layers,\n    setLayers,\n    previousPage\n  } = make\n  function closeModal () {\n    // document.getElementById('root').childNodes[1].style.overflow = 'auto'\n    make.setModalVisible(false)\n  }\n  useEffect(() => {\n    InitializationThrottle()\n  }, [])\n  function createStampIntroduce (selectedStamp?:Object) {\n    let stampIntroduce:any = null\n    if (selectedStamp) {\n      const flag:Boolean = selectedStamp && Object.keys(selectedStamp).length > 0\n      const actionAllowed:Boolean = (selectedStamp.flag_used_with_multiple_stamps == 'NG' ||\n                      selectedStamp.flag_used_with_same_stamps == 'NG' ||\n                      selectedStamp.flag_rotation == 'NG' ||\n                      (selectedStamp.flag_can_over == 'NG' || selectedStamp.flag_can_over == 'LOOSE_NG')\n                      // selectedStamp.flag_rotation == 'NG' ||\n                      // selectedStamp.flag_can_over == 'NG'\n      )\n      const layerAllow:Boolean = (selectedStamp.flag_layer_stamp == 'NG' ||\n                     selectedStamp.flag_layer_paint == 'NG' ||\n                     selectedStamp.flag_layer_text == 'NG' ||\n                     selectedStamp.flag_layer_photo == 'NG'\n      )\n      // const effectAllow:Boolean = (selectedStamp.flag_effect_moma01 == 'NG' || selectedStamp.flag_effect_moma01 == 'LOOSE_NG') ||\n      //                (selectedStamp.flag_effect_moma02 == 'NG' || selectedStamp.flag_effect_moma02 == 'LOOSE_NG') ||\n      //                (selectedStamp.flag_effect_layout == 'NG' || selectedStamp.flag_effect_layout == 'LOOSE_NG') ||\n      //                (selectedStamp.flag_effect_splash == 'NG' || selectedStamp.flag_effect_splash == 'LOOSE_NG') ||\n      //                (selectedStamp.flag_effect_glitch == 'NG' || selectedStamp.flag_effect_glitch == 'LOOSE_NG') ||\n      //                (selectedStamp.flag_effect_mosaic == 'NG' || selectedStamp.flag_effect_mosaic == 'LOOSE_NG')\n\n      const effectAllow:Boolean = (selectedStamp.flag_effect_moma01 == 'NG' ||\n                     selectedStamp.flag_effect_moma02 == 'NG' ||\n                     selectedStamp.flag_effect_layout == 'NG' ||\n                     selectedStamp.flag_effect_splash == 'NG' ||\n                     selectedStamp.flag_effect_glitch == 'NG' ||\n                     selectedStamp.flag_effect_mosaic == 'NG')\n\n      const RestrictedFunctionsAllow:Boolean = (\n        selectedStamp.flag_can_other_layer_over == 'NG' ||\n        selectedStamp.flag_list == 'NG'\n      )\n      const isShowTitleHeader:Boolean = (\n        actionAllowed || layerAllow || effectAllow || RestrictedFunctionsAllow\n      )\n      if (flag) {\n        stampIntroduce = (\n          <div style={{ maxHeight: '400px', overflow: 'hidden', overflowY: 'scroll' }}>\n            <div className='stampIntroduceWrap' >\n              <div className='stampIntroduceLeft'>\n                <img src={selectedStamp.main_image_url} alt='' />\n              </div>\n              <div className='stampIntroduceRight' style={{ position: 'relative' }}>\n                {locale.current !== 'en' ? <div className='stampIntroduceHoldername' >{selectedStamp.contents_holder_name}</div> : <div className='stampIntroduceHoldernameEn' >{selectedStamp.contents_holder_name}</div>}\n                {locale.current !== 'en' ? <div className='stampIntroduceName' >{selectedStamp.name}</div> : <div className='stampIntroduceNameEn' >{selectedStamp.name}</div>}\n                {locale.current !== 'en' ? <div className='stampIntroduceCost' ><Locale code='make.home.stamp.modal.fee' /></div>\n                  : <div className='stampIntroduceCostEn' ><Locale code='make.home.stamp.modal.fee' /></div>\n                }\n                {locale.current !== 'en' && <div style={{ display: 'flex', width: '100%' }}>\n                  <div className='stampIntroducePrice'><div style={{\n                    fontSize: 16,\n                    fontWeight: 600\n                  }} /><div style={{\n                    fontSize: 17,\n                    color: '#1b1b1b',\n                    height: 24,\n                    display: 'flex',\n                    alignItems: 'center',\n                    fontFamily: 'NotoSansCJKjp-Bold'\n                  }}>{selectedStamp.price.split('¥')[1] === '0' ? '無料' : '¥' + selectedStamp.price.split('¥')[1]}</div></div>\n                  {selectedStamp.price.split('¥')[1] !== '0' && <div className='stampIntroduceConsumption'>\n                    <Locale code='make.home.stamp.modal.costDescription' />\n                    {/* +Tax / 1 Item */}\n                  </div>}\n                </div>}\n                {/* 英文 */}\n                {locale.current === 'en' && <div style={{ display: 'flex', width: '100%' }}>\n                  <div className='stampIntroducePrice'><div style={{ fontSize: 16,\n                    fontFamily: 'PingFangSC',\n                    fontWeight: 600,\n                    fontFamily: 'PingFangSC-Semibold'\n                  }} /><div style={{\n                    fontSize: 17,\n                    fontWeight: 'bold',\n                    color: '#1b1b1b',\n                    height: 24,\n                    display: 'flex',\n                    alignItems: 'center'\n                  }}>{selectedStamp.price.split('¥')[1] === '0' ? 'Free' : '¥' + selectedStamp.price.split('¥')[1]}</div></div>\n                  {selectedStamp.price.split('¥')[1] !== '0' && <div className='stampIntroduceConsumptionEn'>\n                    <Locale code='make.home.stamp.modal.costDescription' />\n                    {/* +Tax / 1 Item */}\n                  </div>}\n                </div>}\n                {/* <div className='stampIntroducePrice'>{selectedStamp.price === '¥0' ? 'Free' : selectedStamp.price}</div>\n              <div className='stampIntroduceCopyRight'>{selectedStamp.copyright}</div> */}\n              </div>\n            </div>\n            <div style={{\n              fontSize: 10,\n              paddingTop: 16,\n              paddingBottom: 16,\n              paddingLeft: 16,\n              paddingRight: 16,\n              color: '#7d7d7d',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              boxShadow: 'inset 0 -1px 0 0 #dadada'\n            }}>{selectedStamp.copyright}</div>\n            {isShowTitleHeader && <div>\n              {/* This sticker is subject to following restrictions */}\n              {locale.current !== 'en' ? <div className='stampLimit'><Locale code='make.home.stamp.modal.restrictions.tips' /></div> : <div className='stampLimitEn'><Locale code='make.home.stamp.modal.restrictions.tips' /></div>}\n            </div>}\n            <div className='stampLimitList'>\n              {actionAllowed &&\n              <div className='limitDetail'>\n                <div className='limitDetailLeft'>\n                  <img src={require('../../../assets/Actions.svg')} alt='' />\n                </div>\n                <div style={{ display: 'flex', alignItems: 'center', flex: 1 }}>\n                  <div className='limitDetailRight'>\n                    <div>\n                      {locale.current !== 'en' ? <div className='title'>できない操作</div> : <div className='titleEn'>Action not allowed</div>}\n                      {(selectedStamp.flag_used_with_multiple_stamps === 'NG' && locale.current !== 'en') && <div className='limitfirst'>· 複数スタンプの貼りつけ</div>}\n                      {(selectedStamp.flag_used_with_multiple_stamps === 'NG' && locale.current === 'en') && <div className='limitfirst'>· Use multiple stickers</div>}\n\n                      {(selectedStamp.flag_used_with_same_stamps === 'NG' && locale.current !== 'en') && <div className='limitSecond'>· 同じスタンプの貼りつけ</div>}\n                      {(selectedStamp.flag_used_with_same_stamps === 'NG' && locale.current === 'en') && <div className='limitSecond'>· Duplicate same sticker</div>}\n\n                      {(selectedStamp.flag_rotation === 'NG' && locale.current !== 'en') && <div className='limitSecond'>· 回転</div>}\n                      {(selectedStamp.flag_rotation === 'NG' && locale.current === 'en') && <div className='limitSecond'>· Rotate</div>}\n\n                      {(selectedStamp.flag_rotation === 'INVERT_NG' && locale.current !== 'en') && <div className='limitSecond'>· 半回転 </div>}\n                      {(selectedStamp.flag_rotation === 'INVERT_NG' && locale.current === 'en') && <div className='limitSecond'>· Reverse</div>}\n\n                      {/* {(selectedStamp.flag_can_over.indexOf('NG') > -1 && locale.current !== 'en') && <div className='limitSecond'>· 重ねる</div>} */}\n                      {/* {(selectedStamp.flag_can_over.indexOf('NG') > -1 && locale.current === 'en') && <div className='limitSecond'>· Overlap</div>} */}\n                      {selectedStamp.flag_can_over ? (selectedStamp.flag_can_over.indexOf('NG') > -1 && locale.current !== 'en') && <div className='limitSecond'>· 重ねる</div> : locale.current !== 'en' && <div className='limitSecond'>· 重ねる</div>}\n                      {selectedStamp.flag_can_over ? (selectedStamp.flag_can_over.indexOf('NG') > -1 && locale.current === 'en') && <div className='limitSecond'>· Overlap</div> : locale.current === 'en' && <div className='limitSecond'>· Overlap</div>}\n                    </div>\n                  </div>\n                </div>\n              </div>}\n              {layerAllow &&\n              <div className='limitDetail'>\n                <div className='limitDetailLeft'>\n                  <img src={require('../../../assets/Layers.svg')} alt='' />\n                </div>\n                <div className='limitDetailRight'>\n                  <div>\n                    {locale.current != 'en' ? <div className='title'>他のレイヤーとの組み合わせ</div> : <div className='titleEn'>Layers that can't be used</div>}\n                    {selectedStamp.flag_layer_stamp === 'NG' && <div className='limitfirst'>·   STAMP</div>}\n\n                    {selectedStamp.flag_layer_paint === 'NG' && <div className='limitfirst'>·  PAINT</div>}\n\n                    {selectedStamp.flag_layer_text === 'NG' && <div className='limitSecond'>·  TYPOGRAPHY</div>}\n\n                    {selectedStamp.flag_layer_photo === 'NG' && <div className='limitSecond'>·  PHOTO</div>}\n                  </div>\n                </div>\n              </div>}\n              {effectAllow &&\n              <div className='limitDetail'>\n                <div className='limitDetailLeft'>\n                  <img src={require('../../../assets/Effects.svg')} alt='' />\n                </div>\n                <div className='limitDetailRight'>\n                  {/* <div className='title'>すべてのエフェクトとの組み合わせ</div> */}\n                  <div>\n                    {locale.current != 'en' ? <div className='title'>すべてのエフェクトとの組み合わせ</div> : <div className='titleEn'>Effects that can't be used</div>}\n                    {/* {selectedStamp.flag_effect_moma01.indexOf('NG') > -1 && <div className='limitfirst'>· MoMA (Early Morden Style)</div>} */}\n                    {selectedStamp.flag_effect_moma01 === 'NG' && <div className='limitfirst'>· MoMA (Early Morden Style)</div>}\n                    {/* {selectedStamp.flag_effect_moma01 === 'NG' || selectedStamp.flag_effect_moma01 === 'LOOSE_NG' && locale.current==='en'&&<div className='limitfirst'>· MoMA (Early Morden Style)</div>} */}\n\n                    {/* {selectedStamp.flag_effect_moma01 === 'NG' && selectedStamp.flag_effect_moma01 === 'LOOSE_NG' && <div className='limitfirst'>· MoMA (Early Morden Style)</div>} */}\n                    {selectedStamp.flag_effect_moma02 === 'NG' && <div className='limitSecond'>· MoMA (Collage)</div>}\n                    {/* {selectedStamp.flag_effect_moma02.indexOf('NG') > -1 && <div className='limitSecond'>· MoMA (Collage)</div>} */}\n                    {/* {selectedStamp.flag_effect_moma02 === 'NG' || selectedStamp.flag_effect_moma02 === 'LOOSE_NG' && locale.current==='en'&& <div className='limitSecond'>· MoMA (Collage)</div>} */}\n                    {/* {selectedStamp.flag_effect_layout.indexOf('NG') > -1 && <div className='limitSecond'>· AUTO DESIGNER</div>} */}\n                    {selectedStamp.flag_effect_layout === 'NG' && <div className='limitSecond'>· AUTO DESIGNER</div>}\n                    {/* {selectedStamp.flag_effect_layout === 'NG' || selectedStamp.flag_effect_layout === 'LOOSE_NG' && locale.current==='en'&&<div className='limitSecond'>· AUTO DESIGNER</div>} */}\n                    {/* {selectedStamp.flag_effect_splash.indexOf('NG') > -1 && <div className='limitSecond'>· SPLASH</div>} */}\n                    {selectedStamp.flag_effect_splash === 'NG' && <div className='limitSecond'>· SPLASH</div>}\n                    {/* {selectedStamp.flag_effect_splash === 'NG' || selectedStamp.flag_effect_splash === 'LOOSE_NG' && locale.current==='en'&& <div className='limitSecond'>· SPLASH</div>} */}\n\n                    {/* {selectedStamp.flag_effect_glitch.indexOf('NG') > -1 && <div className='limitSecond'>· GLITCH</div>} */}\n                    {selectedStamp.flag_effect_glitch === 'NG' && <div className='limitSecond'>· GLITCH</div>}\n                    {/* {selectedStamp.flag_effect_glitch === 'NG' || selectedStamp.flag_effect_glitch === 'LOOSE_NG' && locale.current==='en'&&<div className='limitSecond'>· GLITCH</div>} */}\n                    {/* {selectedStamp.flag_effect_mosaic.indexOf('NG') > -1 && <div className='limitSecond'>· MOSAIC</div>} */}\n                    {selectedStamp.flag_effect_mosaic === 'NG' && <div className='limitSecond'>· MOSAIC</div>}\n                    {/* {selectedStamp.flag_effect_mosaic === 'NG' || selectedStamp.flag_effect_mosaic === 'LOOSE_NG' && locale.current==='en'&&<div className='limitSecond'>· MOSAIC</div>} */}\n                  </div>\n                </div>\n              </div>}\n              {RestrictedFunctionsAllow &&\n              <div className='limitDetail'>\n                <div className='limitDetailLeft'>\n                  <img src={require('../../../assets/RestrictedFunctions.svg')} alt='' />\n                </div>\n                <div className='limitDetailRight'>\n                  <div>\n                    {locale.current != 'en' ? <div className='title'>機能制限</div> : <div className='titleEn'>Restricted functions</div>}\n\n                    {selectedStamp.flag_can_other_layer_over === 'NG' && locale.current !== 'en' && <div className='limitfirst'>· 常に最前面</div>}\n                    {selectedStamp.flag_can_other_layer_over === 'NG' && locale.current === 'en' && <div className='limitfirst'>· Always in front</div>}\n\n                    {selectedStamp.flag_list === 'NG' && locale.current !== 'en' && <div className='limitSecond'>· マーケットに出品できません</div>}\n                    {selectedStamp.flag_list === 'NG' && locale.current === 'en' && <div className='limitSecond'>· Can't be listed on market</div>}\n                  </div>\n\n                </div>\n              </div>}\n            </div>\n          </div>\n        )\n      }\n    }\n    return stampIntroduce\n  }\n  function goSetStamp (preStamp:any) {\n    make.changeSetStampVisible(true)\n    make.changeTextVisible(true)\n    make.changeSelectedStamp(preStamp)\n    changeRecentStampsFun(preStamp)\n  }\n  async function changeRecentStampsFun (preStamp:any) {\n    try {\n      // 根据不同代理的countryCode设置最近使用的stamp\n      let recentStampObj = await invoke('getStorageItem', { key: 'recentStampObj' })\n      let recentStampArr\n      if (JSON.stringify(recentStampObj) === '{}' || JSON.stringify(recentStampObj) === '[]') {\n        recentStampArr = []\n      } else {\n        let o = JSON.parse(recentStampObj)\n\n        recentStampArr = o[countryCode] ? o[countryCode] : []\n      }\n      let index = -1\n      recentStampArr.forEach((item, i) => {\n        if (item && item.id === preStamp.id) {\n          index = i\n        }\n      })\n      invoke('log', 'preStamp' + JSON.stringify(preStamp))\n      // console.log('preStamp' + JSON.stringify(preStamp))\n      const isAdd = index > -1\n      if (isAdd) {\n        recentStampArr.splice(index, 1)\n      }\n      recentStampArr.unshift(preStamp)\n      if (recentStampArr.length > 3) {\n        recentStampArr.pop()\n      }\n      // invoke('log', 'recentStampArr' + JSON.stringify(recentStampArr))\n      // invoke('log', 'countryCode' + countryCode)\n      let obj = {}\n      if (JSON.stringify(recentStampObj) === '{}' || JSON.stringify(recentStampObj) === '[]') {\n        obj[countryCode] = recentStampArr\n      } else {\n        obj = JSON.parse(recentStampObj)\n        obj[countryCode] = recentStampArr\n      }\n      await invoke('setStorageItem', { key: 'recentStampObj', value: JSON.stringify(obj) })\n      changeRecentStampArr(recentStampArr)\n\n      // 设置itemMenu的展示限制规则,后添加至图层layers中\n      let stampObj = {\n        itemId: [],\n        colorId: []\n      }\n      let newStampArr = []\n      let colorId = []\n      // if (preStamp) {\n      if (preStamp.item_restrictions != null) {\n        let list = []\n        for (let key in preStamp.item_restrictions) {\n        // invoke('log', 'key' + key)\n          list.push(key)\n        }\n        // let colorId = []\n        list.forEach((item) => {\n          colorId.push(preStamp.item_restrictions[item])\n        })\n        newStampArr = [...list]\n      }\n      stampObj = {\n        itemId: newStampArr,\n        colorId: colorId,\n        stampFlag: {\n          flag_layer_paint: preStamp.flag_layer_paint,\n          flag_layer_text: preStamp.flag_layer_text,\n          flag_layer_photo: preStamp.flag_layer_photo,\n          flag_layer_stamp: preStamp.flag_layer_stamp,\n          flag_can_other_layer_over: preStamp.flag_can_other_layer_over,\n          flag_effect_blendfunc: preStamp.flag_effect_blendfunc,\n          flag_effect_moma01: preStamp.flag_effect_moma01,\n          flag_effect_moma02: preStamp.flag_effect_moma02,\n          flag_effect_layout: preStamp.flag_effect_layout,\n          flag_effect_splash: preStamp.flag_effect_splash,\n          flag_effect_glitch: preStamp.flag_effect_glitch,\n          flag_effect_mosaic: preStamp.flag_effect_mosaic\n        },\n        stampId: preStamp.id,\n        mixArr: [\n          preStamp.flag_effect_moma01,\n          preStamp.flag_effect_moma02,\n          preStamp.flag_effect_layout,\n          preStamp.flag_effect_splash,\n          preStamp.flag_effect_glitch,\n          preStamp.flag_effect_mosaic\n        ]\n      }\n\n      // invoke('log', 'layers' + JSON.stringify(layers))\n      let lastLayer = layers[layers.length - 1] && JSON.stringify(layers[layers.length - 1]) !== '{}' ? layers : [{ type: 'stamp' }]\n      delete lastLayer[lastLayer.length - 1].stampRule\n      lastLayer[lastLayer.length - 1].stampRule = stampObj\n      // let setStampArr = changeLayers('stampSelect', { stampRule: stampObj }, layersArr)\n      // invoke('log', 'setStampArr' + JSON.stringify(setStampArr))\n      // setLayers(setStampArr)\n      await invoke('setLayers', lastLayer)\n      invoke('navigateTo', {\n        to: '/make/stamp/setStamp',\n        params: {\n          preStamp,\n          previousPage }\n      })\n      make.setModalVisible(false)\n    } catch (error) {\n      setAlertModelVisible(true)\n    }\n  }\n  const footer = [{ text: 'OK',\n    onPress: () => throttle(() => {\n      // document.getElementById('root').childNodes[1].style.overflow = 'auto'\n      goSetStamp(make.preStamp)\n    }) }]\n  const modalProps = {\n    visible: modalVisible,\n    // visible: true,\n    transparent: true,\n    maskClosable: true,\n    footer,\n    title: <div className={locale.current === 'en' ? 'tzEn' : 'tz'}>\n      <Locale code='make.home.stamp.modal.title' />\n      <div\n        onClick={() => {\n          // document.getElementById('root').childNodes[1].style.overflow = 'auto'\n          make.setModalVisible(false)\n        }}\n        style={{ position: 'absolute',\n          top: 16,\n          left: 24,\n          height: 24,\n          width: 24 }}>\n        <img src={require('../../../assets/close-normal.svg')} />\n      </div>\n    </div>,\n    onClose: () => closeModal()\n    // closable: true\n  }\n  return (\n    <div>\n      <Modal {...modalProps} className='modalStyle' style={{ width: '90%' }} wrapClassName='wrapmodalStyleConflict'>\n        {createStampIntroduce(stamp)}\n      </Modal>\n      <AlertModal visible={alertModelVisible} title='error.network.title' description='error.network.description' text='OK' onClick={() => {\n        setAlertModelVisible(false)\n      }} />\n    </div>\n  )\n}\n\nexport default StampModal\n","module.exports = __webpack_public_path__ + \"static/media/close-normal.d995f13b.svg\";","module.exports = __webpack_public_path__ + \"static/media/Actions.16787550.svg\";","module.exports = __webpack_public_path__ + \"static/media/Effects.393734ee.svg\";","module.exports = __webpack_public_path__ + \"static/media/Layers.8265d1ed.svg\";","module.exports = __webpack_public_path__ + \"static/media/RestrictedFunctions.931e960c.svg\";"],"sourceRoot":""}